var Prime = (function (exports) {
	'use strict';

	/*
	 * Copyright (c) 2012-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	/**
	 * The Browser namespace. This namespace does not contain any classes, just functions.
	 *
	 * @namespace Browser
	 */
	const Browser = {
	  /**
	   * Detects the browser name and version.
	   */
	  detect: function() {
	    this.name = this._searchString(this.dataBrowser) || "An unknown browser";
	    this.version = this._searchVersion(navigator.userAgent) || this._searchVersion(navigator.appVersion) || "an unknown version";
	    this.os = this._searchString(this.dataOS) || "an unknown OS";
	  },


	  /* ===================================================================================================================
	   * Private Methods
	   * ===================================================================================================================*/

	  /**
	   *
	   * @param {Object} data The data array.
	   * @returns {?string} The browser identity String.
	   * @private
	   */
	  _searchString: function(data) {
	    for (let i = 0; i < data.length; i++) {
	      const dataString = data[i].string;
	      const dataProp = data[i].prop;
	      this.versionSearchString = data[i].versionSearch || data[i].identity;
	      if (dataString && dataString.indexOf(data[i].subString) !== -1) {
	        return data[i].identity;
	      } else if (dataProp) {
	        return data[i].identity;
	      }
	    }

	    return null;
	  },

	  /**
	   *
	   * @param {string} dataString The browser data string.
	   * @returns {?number} The version or null.
	   * @private
	   */
	  _searchVersion: function(dataString) {
	    const index = dataString.indexOf(this.versionSearchString);
	    if (index === -1) {
	      return null;
	    }

	    return parseFloat(dataString.substring(index + this.versionSearchString.length + 1));
	  },

	  dataBrowser: [
	    {
	      string: navigator.userAgent,
	      subString: "Chrome",
	      identity: "Chrome"
	    },
	    {
	      string: navigator.userAgent,
	      subString: "OmniWeb",
	      versionSearch: "OmniWeb/",
	      identity: "OmniWeb"
	    },
	    {
	      string: navigator.vendor,
	      subString: "Apple",
	      identity: "Safari",
	      versionSearch: "Version"
	    },
	    {
	      prop: window.opera,
	      identity: "Opera",
	      versionSearch: "Version"
	    },
	    {
	      string: navigator.vendor,
	      subString: "iCab",
	      identity: "iCab"
	    },
	    {
	      string: navigator.vendor,
	      subString: "KDE",
	      identity: "Konqueror"
	    },
	    {
	      string: navigator.userAgent,
	      subString: "Firefox",
	      identity: "Firefox"
	    },
	    {
	      string: navigator.vendor,
	      subString: "Camino",
	      identity: "Camino"
	    },
	    {    // for newer Netscapes (6+)
	      string: navigator.userAgent,
	      subString: "Netscape",
	      identity: "Netscape"
	    },
	    {
	      string: navigator.userAgent,
	      subString: "MSIE",
	      identity: "Explorer",
	      versionSearch: "MSIE"
	    },
	    {
	      string: navigator.userAgent,
	      subString: "Gecko",
	      identity: "Mozilla",
	      versionSearch: "rv"
	    },
	    {     // for older Netscapes (4-)
	      string: navigator.userAgent,
	      subString: "Mozilla",
	      identity: "Netscape",
	      versionSearch: "Mozilla"
	    }
	  ],
	  dataOS: [
	    {
	      string: navigator.platform,
	      subString: "Win",
	      identity: "Windows"
	    },
	    {
	      string: navigator.platform,
	      subString: "Mac",
	      identity: "macOS"
	    },
	    {
	      string: navigator.userAgent,
	      subString: "iPhone",
	      identity: "iPhone/iPod"
	    },
	    {
	      string: navigator.userAgent,
	      subString: "iPad",
	      identity: "iPad"
	    },
	    {
	      string: navigator.platform,
	      subString: "Linux",
	      identity: "Linux"
	    }
	  ]
	};
	Browser.detect();

	/*
	 * Copyright (c) 2017-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	const blockElementRegexp = /^(?:ARTICLE|ASIDE|BLOCKQUOTE|BODY|BR|BUTTON|CANVAS|CAPTION|COL|COLGROUP|DD|DIV|DL|DT|EMBED|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H1|H2|H3|H4|H5|H6|HEADER|HGROUP|HR|LI|MAP|OBJECT|OL|OUTPUT|P|PRE|PROGRESS|SECTION|TABLE|TBODY|TEXTAREA|TFOOT|TH|THEAD|TR|UL|VIDEO)$/;
	const mouseEventsRegexp = /^(?:click|dblclick|mousedown|mouseup|mouseover|mousemove|mouseout|mouseenter|mouseleave)$/;
	const htmlEventsRegexp = /^(?:abort|blur|change|error|focus|load|reset|resize|scroll|select|submit|unload)$/;
	let anonymousId = 1;
	const ieAlphaRegexp = /alpha\(opacity=(.+)\)/;

	class PrimeElement {
	  /**
	   * Creates an Element class for the given DOM element.
	   *
	   * @constructor
	   * @param {Element|EventTarget} element The element
	   */
	  constructor(element) {
	    if (!Utils.isDefined(element.nodeType) || element.nodeType !== 1) {
	      throw new TypeError('You can only pass in DOM element Node objects to the PrimeDocument.Element constructor');
	    }

	    Utils.bindAll(this);
	    this.domElement = element;
	    this.domElement.customEventListeners = [];
	    this.domElement.eventListeners = {};
	  }

	  /**
	   * Regular expression that captures the tagnames of all the block elements in HTML5.
	   *
	   * @type {RegExp}
	   */
	  static get blockElementRegexp() {
	    return blockElementRegexp;
	  }

	  static get mouseEventsRegexp() {
	    return mouseEventsRegexp;
	  }

	  static get htmlEventsRegexp() {
	    return htmlEventsRegexp;
	  }

	  static get anonymousId() {
	    return anonymousId;
	  }

	  static set anonymousId(value) {
	    anonymousId = value;
	  }

	  static get ieAlphaRegexp() {
	    return ieAlphaRegexp;
	  }

	  /**
	   * Static method that wraps an element in a PrimeElement unless it is already wrapped. In that case, it simply
	   * returns the element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The element to wrap.
	   * @static
	   */
	  static wrap(element) {
	    return (element instanceof PrimeElement) ? element : new PrimeElement(element);
	  }

	  /**
	   * Static method that unwraps an element to a DOM element. This is the inverse of Element.wrap. If this is passed an
	   * Element, it returns domElement. Otherwise, this just returns the element.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  static unwrap(element) {
	    return (element instanceof PrimeElement) ? element.domElement : element;
	  }

	  /**
	   * Adds the given class (or list of space separated classes) to this Element.
	   *
	   * @param {string} classNames The class name(s) separated by a space.
	   * @returns {PrimeElement} This Element.
	   */
	  addClass(classNames) {
	    let currentClassName = this.domElement.className;
	    if (currentClassName === '') {
	      currentClassName = classNames;
	    } else {
	      const currentClassNameList = this.domElement.className.split(Utils.spaceRegex);
	      const newClassNameList = classNames.split(Utils.spaceRegex);
	      for (let i = 0; i < newClassNameList.length; i++) {
	        if (currentClassNameList.indexOf(newClassNameList[i]) === -1) {
	          currentClassNameList.push(newClassNameList[i]);
	        }
	      }

	      currentClassName = currentClassNameList.join(' ');
	    }

	    this.domElement.className = currentClassName;
	    return this;
	  }

	  /**
	   * @callback PrimeDelegationEventListener
	   *
	   * @param {Event} event the original event
	   * @param {PrimeElement} target the target domElement that matched the registered selector
	   */

	  /**
	   * Attaches an event listener to the element and will only invoke the listener when the event target matches
	   * the provided selector.
	   *
	   * The intent of this function is to provide a delegated listener and handle events from nested elements.
	   *
	   * @param {string} event The name of the event
	   * @param  {string} selector The selector to match against the Element
	   * @param {PrimeDelegationEventListener} listener The event listener function
	   */
	  addDelegatedEventListener(event, selector, listener) {
	    this.domElement.delegatedListeners =  this.domElement.delegatedListeners || [];
	    let allDelegatedListeners = this.domElement.delegatedListeners;

	    // Store the event listeners in the following format:
	    //   [ event_type -> [ selector -> [ listeners ] ] ]
	    //
	    // Example:
	    //   [ 'click' -> [ 'a.foo' -> [ funcA, funcB ] ] ]

	    if (!(event in allDelegatedListeners)) {
	      allDelegatedListeners[event] = [];
	    }

	    if (!(selector in allDelegatedListeners[event])) {
	      allDelegatedListeners[event][selector] = [];
	    }

	    let delegatedListeners = allDelegatedListeners[event][selector] || [];
	    if (!(listener in delegatedListeners)) {
	      delegatedListeners.push(listener);
	    }

	    this.addEventListener(event, this._handleDelegatedEvent);
	  }

	  /**
	   * Attaches an event listener to this Element.
	   *
	   * @param {string} event The name of the event.
	   * @param {Function} listener The event listener function.
	   * @returns {PrimeElement} This Element.
	   */
	  addEventListener(event, listener) {
	    if (event.indexOf(':') === -1) {
	      // Traditional event
	      this.domElement.eventListeners = this.domElement.eventListeners || {};
	      this.domElement.eventListeners[event] = this.domElement.eventListeners[event] || [];
	      if (this.domElement.eventListeners[event].indexOf(listener) === -1) {
	        this.domElement.eventListeners[event].push(listener);
	      }
	      this.domElement.addEventListener(event, listener, false);
	    } else {
	      // Custom event
	      this.domElement.customEventListeners = this.domElement.customEventListeners || {};
	      this.domElement.customEventListeners[event] = this.domElement.customEventListeners[event] || [];
	      if (this.domElement.customEventListeners[event].indexOf(listener) === -1) {
	        this.domElement.customEventListeners[event].push(listener);
	      }
	    }

	    return this;
	  }

	  /**
	   * Appends the given element to this element. If the given element already exists in the DOM, it is removed from its
	   * current location and placed at the end of this element.
	   *
	   * @param {PrimeElement|Node} element The element to append.
	   * @returns {PrimeElement} This Element.
	   */
	  appendElement(element) {
	    const domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    if (domElement.parentNode) {
	      domElement.parentNode.removeChild(domElement);
	    }

	    this.domElement.appendChild(domElement);
	    return this;
	  }

	  /**
	   * Appends the given HTML string to this element.
	   *
	   * @param {string} html The HTML to append.
	   * @returns {PrimeElement} This Element.
	   */
	  appendHTML(html) {
	    this.domElement.insertAdjacentHTML('beforeend', html);
	    return this;
	  }

	  /**
	   * Inserts this Element (which must be a newly created Element) into the DOM inside at the very end of the given
	   * element.
	   *
	   * @param {PrimeElement|Node} element The element to insert this Element into.
	   * @returns {PrimeElement} This Element.
	   */
	  appendTo(element) {
	    // Error out for now if this element is in the document so we can punt on cloning for now
	    if (this.domElement.parentNode) {
	      throw new TypeError('You can only insert new PrimeElements for now');
	    }

	    const domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    if (domElement.parentNode) {
	      domElement.appendChild(this.domElement);
	    } else {
	      throw new TypeError('The element you passed into appendTo is not in the DOM. You can\'t insert a PrimeElement inside an element that isn\'t in the DOM yet.');
	    }

	    return this;
	  }

	  /**
	   * Fires an event on the Element.
	   *
	   * @param {string} event The name of the event.
	   * @param {Object} [memo] Assigned to the memo field of the event.
	   * @param {Object} [target] The target.
	   * @param {boolean} [bubbling] If the event is bubbling, defaults to true.
	   * @param {boolean} [cancelable] If the event is cancellable, defaults to true.
	   * @returns {PrimeElement} This Element.
	   */
	  fireEvent(event, memo, target, bubbling, cancelable) {
	    memo = Utils.isDefined(memo) ? memo : {};
	    target = Utils.isDefined(target) ? target : this;
	    bubbling = Utils.isDefined(bubbling) ? bubbling : true;
	    cancelable = Utils.isDefined(cancelable) ? cancelable : true;

	    let evt;
	    if (event.indexOf(':') === -1) {
	      // Traditional event
	      if (document.createEventObject) {
	        // Dispatch for IE
	        evt = document.createEventObject();
	        evt.memo = memo || {};
	        evt.cancelBubble = !bubbling;
	        this.domElement.fireEvent('on' + event, evt);
	      } else if (document.createEvent) {
	        // Dispatch for others
	        if (PrimeElement.mouseEventsRegexp.test(event)) {
	          evt = document.createEvent("MouseEvents");
	          evt.initMouseEvent(event, bubbling, cancelable, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
	        } else if (PrimeElement.htmlEventsRegexp.test(event)) {
	          evt = document.createEvent("HTMLEvents");
	          evt.initEvent(event, bubbling, cancelable);
	        } else {
	          throw new TypeError('Invalid event [' + event + ']');
	        }

	        evt.memo = memo || {};
	        this.domElement.dispatchEvent(evt);
	      } else {
	        throw new TypeError('Unable to fire event. Neither createEventObject nor createEvent methods are available');
	      }
	    } else {
	      // Custom event
	      this.domElement.customEventListeners[event] = this.domElement.customEventListeners[event] || [];
	      evt = {event: event, memo: memo, target: target};
	      for (let index in this.domElement.customEventListeners[event]) {
	        if (this.domElement.customEventListeners[event].hasOwnProperty(index)) {
	          this.domElement.customEventListeners[event][index](evt);
	        }
	      }
	    }

	    return this;
	  }

	  /**
	   * Fires a custom event on the Element using the given event object rather than creating a new event object. This is
	   * useful for pass-through event handling.
	   *
	   * @param {string} event The name of the event.
	   * @param {Object} eventObj The event object to pass to the handlers.
	   * @returns {PrimeElement} This Element.
	   */
	  fireCustomEvent(event, eventObj) {
	    eventObj = Utils.isDefined(eventObj) ? eventObj : {};
	    if (event.indexOf(':') === -1) {
	      throw new TypeError('This method can only be used for custom events');
	    }

	    // Custom event
	    this.domElement.customEventListeners[event] = this.domElement.customEventListeners[event] || [];
	    for (let index in this.domElement.customEventListeners[event]) {
	      if (this.domElement.customEventListeners[event].hasOwnProperty(index)) {
	        this.domElement.customEventListeners[event][index](eventObj);
	      }
	    }

	    return this;
	  }

	  /**
	   * Puts the focus on this element.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  focus() {
	    this.domElement.focus();
	    return this;
	  }

	  /**
	   * Returns the absolute top of this element relative to the document.
	   *
	   * @returns {number} The number of pixels that this element is from the top of the document.
	   */
	  getAbsoluteTop() {
	    let top = 0;
	    let e = this.domElement;
	    while (e) {
	      top += e.offsetTop;
	      e = e.offsetParent;
	    }

	    return top;
	  }

	  /**
	   * Returns the value of the given attribute.
	   *
	   * @param {string} name The attribute name.
	   * @returns {?string} This attribute value or null.
	   */
	  getAttribute(name) {
	    const attr = this.domElement.attributes.getNamedItem(name);
	    if (attr) {
	      return attr.value;
	    }

	    return null;
	  }

	  /**
	   * Returns all of the attributes on the element as an object.
	   *
	   * @returns {object} This attributes or an empty object if there are no attributes on this element.
	   */
	  getAttributes() {
	    const attrs = {};
	    if (this.domElement.hasAttributes()) {
	      for (let i = 0; i < this.domElement.attributes.length; i++) {
	        attrs[this.domElement.attributes[i].name] = this.domElement.attributes[i].value;
	      }
	    }

	    return attrs;
	  }

	  /**
	   * Gets the viewable height of the Element as an integer value in pixels. This height includes border, padding and scroll bar but excludes the margins.
	   *
	   * @returns {number} The height as pixels (number) or a string.
	   */
	  getBorderedHeight() {
	    return this.domElement.offsetHeight;
	  }

	  /**
	   * Gets the width of the Element as an integer value. This width includes border, padding and scroll bar but excludes the margins.
	   *
	   * @returns {number} The height in pixels.
	   */
	  getBorderedWidth() {
	    return this.domElement.offsetWidth;
	  }

	  /**
	   * @returns {number} The bottom position (in pixels) of the current element.
	   */
	  getBottom() {
	    return this.domElement.getBoundingClientRect().bottom;
	  }

	  /**
	   * Gets the children elements of this Element, optionally reduced to those matching the optional selector.
	   *
	   * @param {string} [selector] The selector. Optional, if not provided all children will be returned.
	   * @returns {PrimeElementList} The children.
	   */
	  getChildren(selector) {
	    if (!Utils.isDefined(selector)) {
	      return new PrimeElementList(this.domElement.children);
	    }

	    const matched = [];
	    for (let i = 0; i < this.domElement.children.length; i++) {
	      const child = this.domElement.children[i];
	      if (child.matches(selector)) {
	        matched.push(child);
	      }
	    }

	    return new PrimeElementList(matched);
	  }

	  /**
	   * Gets the class value of the current element. This might be a single class or multiple class names.
	   *
	   * @returns {string} The class.
	   */
	  getClass() {
	    return this.domElement.className;
	  }

	  /**
	   * Gets the computed style information for this Element.
	   *
	   * @returns {IEElementStyle|CSSStyleDeclaration} The style information.
	   */
	  getComputedStyle() {
	    return (this.domElement.currentStyle) ? this.domElement.currentStyle : document.defaultView.getComputedStyle(this.domElement, null);
	  }

	  /**
	   * Calculates the location of this element with respect to the document rather than the elements parent, offset parent
	   * or scroll position.
	   *
	   * @returns {{top: number, left: number}}
	   */
	  getCoordinates() {
	    const box = this.domElement.getBoundingClientRect();

	    const body = document.body;
	    const documentElement = document.documentElement;

	    const scrollTop = window.pageYOffset || documentElement.scrollTop || body.scrollTop;
	    const scrollLeft = window.pageXOffset || documentElement.scrollLeft || body.scrollLeft;

	    const clientTop = documentElement.clientTop || body.clientTop || 0;
	    const clientLeft = documentElement.clientLeft || body.clientLeft || 0;

	    const top = box.top + scrollTop - clientTop;
	    const left = box.left + scrollLeft - clientLeft;

	    return {top: Math.round(top), left: Math.round(left)};
	  }

	  /**
	   * Returns the dataset if it exists, otherwise, this creates a new dataset object and returns it.
	   *
	   * @returns {object} This dataset object.
	   */
	  getDataSet() {
	    if (this.domElement.dataset) {
	      return this.domElement.dataset;
	    }

	    this.domElement.dataset = {};
	    const attrs = this.getAttributes();
	    for (let prop in attrs) {
	      if (attrs.hasOwnProperty(prop) && prop.indexOf('data-') === 0) {
	        const dataName = prop.substring(5).replace(/-([a-z])/g, function(g) {
	          return g[1].toUpperCase();
	        });
	        this.domElement.dataset[dataName] = attrs[prop];
	      }
	    }
	    return this.domElement.dataset;
	  }

	  /**
	   * Returns the data value if it exists, otherwise returns null.
	   *
	   * @param {string} name The attribute name.
	   * @returns {?string} This attribute value or null.
	   */
	  getDataAttribute(name) {
	    return this.getDataSet()[name] || null;
	  }

	  /**
	   * Get the first child element of this Element, optionally filtered using the optional selector.
	   *
	   * @param {string} [selector] The selector. Optional.
	   * @returns {?PrimeElement} The first child element or null if the element has no children or a selector was provided and nothing matched the selector..
	   */
	  getFirstChild(selector) {
	    const lastChild = this.getChildren(selector)[0];
	    if (!Utils.isDefined(lastChild)) {
	      return null;
	    }

	    return lastChild;
	  }

	  /**
	   * Gets the viewable height of the Element as an integer value in pixels. This height includes padding and scroll bar
	   * but excludes the margin and borders. This is often called the innerHeight of the element.
	   *
	   * @returns {number} The height as pixels (number) or a string.
	   */
	  getHeight() {
	    const computedStyle = this.getComputedStyle();
	    const offsetHeight = this.domElement.offsetHeight;
	    const borderTop = computedStyle['borderTopWidth'];
	    const borderBottom = computedStyle['borderBottomWidth'];
	    return offsetHeight - Utils.parseCSSMeasure(borderTop) - Utils.parseCSSMeasure(borderBottom);
	  }

	  /**
	   * Gets the inner HTML content of the Element.
	   *
	   * @returns {string} The HTML content.
	   */
	  getHTML() {
	    return this.domElement.innerHTML;
	  }

	  /**
	   * Gets the ID of this element from the domElement.
	   *
	   * @returns {string} ID The id of the domElement if it exists.
	   */
	  getId() {
	    return this.domElement.id;
	  }

	  /**
	   * Get the last child element of this Element, optionally filtered using the optional selector.
	   *
	   * @param {string} [selector] The selector. Optional.
	   * @returns {?PrimeElement} The last child element or null if the element has no children or a selector was provided and nothing matched the selector..
	   */
	  getLastChild(selector) {
	    const elementList = this.getChildren(selector);
	    if (elementList.length > 0) {
	      return elementList[elementList.length - 1];
	    }

	    return null;
	  }

	  /**
	   * @returns {number} The left position (in pixels) of the current element.
	   */
	  getLeft() {
	    return this.domElement.getBoundingClientRect().left;
	  }

	  /**
	   * @returns {?PrimeElement} This elements next sibling or null.
	   */
	  getNextSibling() {
	    let sibling = this.domElement.nextSibling;
	    while (sibling !== null && sibling.nodeType !== 1) {
	      sibling = sibling.nextSibling;
	    }

	    if (sibling === null) {
	      return null;
	    }

	    return new PrimeElement(sibling);
	  }

	  /**
	   * The elements offset left in pixels.
	   *
	   * @returns {number} The offset left.
	   */
	  getOffsetLeft() {
	    return this.domElement.offsetLeft;
	  }

	  /**
	   * The elements offset top in pixels.
	   *
	   * @returns {number} The offset top.
	   */
	  getOffsetTop() {
	    return this.domElement.offsetTop;
	  }

	  /**
	   * Retrieves the opacity value for the Element. This handles the IE alpha filter.
	   *
	   * @returns {number} The opacity value.
	   */
	  getOpacity() {
	    const computedStyle = this.getComputedStyle();
	    let opacity = 1.0;
	    if (Browser.name === 'Explorer' && Browser.version < 9) {
	      const filter = computedStyle['filter'];
	      if (filter !== undefined && filter !== '') {
	        const matches = PrimeElement.ieAlphaRegexp.match(filter);
	        if (matches.length > 0) {
	          opacity = parseFloat(matches[0]);
	        }
	      }
	    } else {
	      opacity = parseFloat(computedStyle['opacity']);
	    }

	    return opacity;
	  }

	  /**
	   * @returns {PrimeElementList} If this element is a select box, this returns the options of the select box in
	   *          an ElementList.
	   */
	  getOptions() {
	    if (this.getTagName() !== 'SELECT') {
	      throw new TypeError('You can only get the options for select elements');
	    }

	    return new PrimeElementList(this.domElement.options);
	  }

	  /**
	   * Gets the outer height of the element, including the margins. This does not include the padding or borders.
	   *
	   * @returns {number} The outer height of the element.
	   */
	  getOuterHeight() {
	    const computedStyle = this.getComputedStyle();
	    const offsetHeight = this.domElement.offsetHeight;
	    const marginTop = computedStyle['marginTop'];
	    const marginBottom = computedStyle['marginBottom'];
	    return offsetHeight + Utils.parseCSSMeasure(marginTop) + Utils.parseCSSMeasure(marginBottom);
	  }

	  /**
	   * Gets the outer HTML content of the Element.
	   *
	   * @returns {string} The outer HTML content.
	   */
	  getOuterHTML() {
	    return this.domElement.outerHTML;
	  }

	  /**
	   * Gets the outer width of the element, including the margins. This does not include the padding or borders.
	   *
	   * @returns {number} The outer width of the element.
	   */
	  getOuterWidth() {
	    const computedStyle = this.getComputedStyle();
	    const offsetWidth = this.domElement.offsetWidth;
	    const marginLeft = computedStyle['marginLeft'];
	    const marginRight = computedStyle['marginRight'];
	    return offsetWidth + Utils.parseCSSMeasure(marginLeft) + Utils.parseCSSMeasure(marginRight);
	  }

	  /**
	   * Returns this element's parent as a PrimeElement.
	   *
	   * @returns {?PrimeElement} This element's parent or null if there is no parent
	   */
	  getParent() {
	    if (Utils.isDefined(this.domElement.parentElement)) {
	      return new PrimeElement(this.domElement.parentElement);
	    } else {
	      return null;
	    }
	  }

	  /**
	   * @returns {?PrimeElement} This elements previous sibling or null.
	   */
	  getPreviousSibling() {
	    let sibling = this.domElement.previousSibling;
	    while (sibling !== null && sibling.nodeType !== 1) {
	      sibling = sibling.previousSibling;
	    }

	    if (sibling === null) {
	      return null;
	    }

	    return new PrimeElement(sibling);
	  }

	  /**
	   * @returns {number} The zIndex style of this element based on the element or the first positioned parent.
	   */
	  getRelativeZIndex() {
	    let e = this;
	    while (e !== null && e.getComputedStyle()['zIndex'] === 'auto') {
	      e = e.getParent();
	    }
	    return e === null ? 0 : parseInt(e.getComputedStyle()['zIndex']);
	  }

	  /**
	   * @returns {number} The right position (in pixels) of the current element.
	   */
	  getRight() {
	    return this.domElement.getBoundingClientRect().right;
	  }

	  /**
	   * @returns {number} The scroll height of this element.
	   */
	  getScrollHeight() {
	    return this.domElement.scrollHeight;
	  }

	  /**
	   * @returns {number} The scroll left position of this element.
	   */
	  getScrollLeft() {
	    return this.domElement.scrollLeft;
	  }

	  /**
	   * @returns {number} The scroll top position of this element.
	   */
	  getScrollTop() {
	    return this.domElement.scrollTop;
	  }

	  /**
	   * @returns {number} The scroll width of this element.
	   */
	  getScrollWidth() {
	    return this.domElement.scrollWidth;
	  }

	  /**
	   * Retrieves the selected texts of this Element, if the element is a select. If it is anything else this returns
	   * null.
	   *
	   * @returns {Array} The texts of this Element.
	   */
	  getSelectedTexts() {
	    let texts;
	    if (this.domElement.tagName === 'SELECT') {
	      texts = [];
	      for (let i = 0; i < this.domElement.options.length; i++) {
	        if (this.domElement.options[i].selected) {
	          texts.push(this.domElement.options[i].text);
	        }
	      }
	    } else {
	      texts = null;
	    }

	    return texts;
	  }

	  /**
	   * Retrieves the values of this Element, if the element is a checkbox or select. If it is anything else this returns
	   * null.
	   *
	   * @returns {Array} The values of this Element.
	   */
	  getSelectedValues() {
	    let values;
	    if (this.domElement.tagName === 'INPUT' && (this.domElement.type === 'checkbox' || this.domElement.type === 'radio')) {
	      values = [];
	      const name = this.domElement.name;
	      const form = PrimeDocument.queryUp('form', this.domElement);
	      PrimeDocument.query('input[name="' + name + '"]', form).each(function(element) {
	        if (element.isChecked()) {
	          values.push(element.getValue());
	        }
	      });
	    } else if (this.domElement.tagName === 'SELECT') {
	      values = [];
	      for (let i = 0; i < this.domElement.length; i++) {
	        if (this.domElement.options[i].selected) {
	          values.push(this.domElement.options[i].value);
	        }
	      }
	    } else {
	      values = null;
	    }

	    return values;
	  }

	  /**
	   * Gets value of a style attribute.
	   *
	   * @returns {string} The style value.
	   */
	  getStyle(name) {
	    name = Utils.convertStyleName(name);
	    return this.domElement.style[name];
	  }

	  /**
	   * @returns {string} The tag name of this element as a string. This is always uppercase.
	   */
	  getTagName() {
	    return this.domElement.tagName;
	  }

	  /**
	   * Retrieves the text content of this Element.
	   *
	   * @returns {string} The text contents of this Element.
	   */
	  getTextContent() {
	    return this.domElement.innerText ? this.domElement.innerText : this.domElement.textContent;
	  }

	  /**
	   * @returns {number} The top position (in pixels) of the current element.
	   */
	  getTop() {
	    return this.domElement.getBoundingClientRect().top;
	  }

	  /**
	   * Gets the width of the Element as an integer value. This width includes padding and scroll bar but excludes the margin and borders.
	   * This is often called the innerWidth of the element.
	   *
	   * @returns {number} The height in pixels.
	   */
	  getWidth() {
	    const computedStyle = this.getComputedStyle();
	    const offsetWidth = this.domElement.offsetWidth;
	    const borderLeft = computedStyle['borderLeftWidth'];
	    const borderRight = computedStyle['borderRightWidth'];
	    return offsetWidth - Utils.parseCSSMeasure(borderLeft) - Utils.parseCSSMeasure(borderRight);
	  }

	  /**
	   * Retrieves the value attribute of this Element. This works on all checkboxes, radio buttons, text, text areas, and
	   * options. However, this does not retrieve the selected options in a select box, checked checkboxes or checked radio
	   * buttons. Use the getSelectedValues function for that.
	   *
	   * @returns {string} The value of this Element.
	   */
	  getValue() {
	    return this.domElement.value;
	  }

	  /**
	   * Returns true if the element has one or all class names
	   *
	   * @param {string} classNames The class name(s) in a string.
	   * @returns {boolean} True if all class names are present.
	   */
	  hasClass(classNames) {
	    const currentClassNames = this.domElement.className;
	    if (currentClassNames === '') {
	      return classNames === '';
	    }

	    const currentClassNameList = currentClassNames.split(Utils.spaceRegex);
	    const findClassNameList = classNames.split(Utils.spaceRegex);
	    for (let i = 0; i < findClassNameList.length; i++) {
	      if (currentClassNameList.indexOf(findClassNameList[i]) === -1) {
	        return false;
	      }
	    }

	    return true;
	  }

	  /**
	   * Hides the Element by setting the display style to none.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  hide() {
	    this.domElement.style.display = 'none';
	    return this;
	  }

	  /**
	   * Inserts this Element into the DOM after the given element, removing it from it's parent if it's an existing element.
	   *
	   * @param {PrimeElement|Element} element The element to insert this Element after.
	   * @returns {PrimeElement} This Element.
	   */
	  insertAfter(element) {
	    if (this.domElement.parentNode) {
	      this.domElement.parentNode.removeChild(this.domElement);
	    }

	    const domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    const parentElement = domElement.parentNode;
	    if (parentElement) {
	      parentElement.insertBefore(this.domElement, domElement.nextSibling);
	    } else {
	      throw new TypeError('The element you passed into insertAfter is not in the DOM. You can\'t insert a PrimeElement after an element that isn\'t in the DOM yet.');
	    }

	    return this;
	  }

	  /**
	   * Inserts this Element into the DOM before the given element, removing it from it's parent if it's an existing element.
	   *
	   * @param {PrimeElement|Element} element The element to insert this Element before.
	   * @returns {PrimeElement} This Element.
	   */
	  insertBefore(element) {
	    if (this.domElement.parentNode) {
	      this.domElement.parentNode.removeChild(this.domElement);
	    }

	    const domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    const parentElement = domElement.parentNode;
	    if (parentElement) {
	      parentElement.insertBefore(this.domElement, domElement);
	    } else {
	      throw new TypeError('The element you passed into insertBefore is not in the DOM. You can\'t insert a PrimeElement before an element that isn\'t in the DOM yet.');
	    }

	    return this;
	  }

	  /**
	   * Inserts the given HTML snippet directly after this element.
	   *
	   * @param {string} html The HTML string.
	   * @returns {PrimeElement} This Element.
	   */
	  insertHTMLAfter(html) {
	    this.domElement.insertAdjacentHTML('afterend', html);
	    return this;
	  }

	  /**
	   * Inserts the given HTML snippet inside this element, before its first child.
	   *
	   * @param {string} html The HTML string.
	   * @returns {PrimeElement} This Element.
	   */
	  insertHTMLAfterBegin(html) {
	    this.domElement.insertAdjacentHTML('afterbegin', html);
	    return this;
	  }

	  /**
	   * Inserts the given text after this Element.
	   *
	   * @param {string} text The text to insert.
	   * @returns {PrimeElement} This Element.
	   */
	  insertTextAfter(text) {
	    if (!this.domElement.parentNode) {
	      throw new TypeError('This Element is not currently in the DOM');
	    }

	    const textNode = document.createTextNode(text);
	    this.domElement.parentNode.insertBefore(textNode, this.domElement.nextSibling);

	    return this;
	  }

	  /**
	   * Inserts the given text before this Element.
	   *
	   * @param {string} text The text to insert.
	   * @returns {PrimeElement} This Element.
	   */
	  insertTextBefore(text) {
	    if (!this.domElement.parentNode) {
	      throw new TypeError('This Element is not currently in the DOM');
	    }

	    const textNode = document.createTextNode(text);
	    this.domElement.parentNode.insertBefore(textNode, this.domElement);

	    return this;
	  }

	  /**
	   * Returns true if the element matches the provided selector.
	   *
	   * @param {string} selector to match against the Element
	   * @returns {boolean} True if the element matches the selector, false if it does not match the selector.
	   */
	  is(selector) {
	    return this.domElement.matches(selector);
	  }

	  /**
	   * Returns whether or not the element is checked. If the element is not a checkbox or a radio this returns false.
	   *
	   * @returns {boolean} True if the element is selected, false if it isn't or is not a checkbox or a radio.
	   */
	  isChecked() {
	    return this.domElement.tagName === 'INPUT' && (this.domElement.type === 'checkbox' || this.domElement.type === 'radio') && this.domElement.checked;
	  }

	  /**
	   * Determines if this element is a child of the given element.
	   *
	   * @param {PrimeElement|Node} element The element to check to see if this element is a child of.
	   * @returns {boolean} True if this element is a child of the given element, false otherwise.
	   */
	  isChildOf(element) {
	    const domElement = element instanceof PrimeElement ? element.domElement : element;
	    let parent = this.domElement.parentNode;
	    while (domElement !== parent && parent !== null) {
	      parent = parent.parentNode;
	    }

	    return domElement === parent;
	  }

	  /**
	   * @returns {boolean} Whether or not this element is disabled according to the disabled property.
	   */
	  isDisabled() {
	    return this.domElement.disabled;
	  }

	  /**
	   * @returns {boolean} True if this element has focus.
	   */
	  isFocused() {
	    return document.activeElement === this.domElement;
	  }

	  /**
	   * @return {boolean} True if this element is an INPUT, SELECT or TEXTAREA.
	   */
	  isInput() {
	    const tagName = this.getTagName();
	    return tagName === 'SELECT' || tagName === 'INPUT' || tagName === 'TEXTAREA';
	  }

	  /**
	   * Determines if the this element is inside the given element
	   *
	   * @param target {PrimeElement} The target element.
	   * @returns {boolean} True if this element is inside the given element.
	   */
	  isInside(target) {
	    if (this.domElement === document.body || this.domElement === document.documentElement || this.domElement === document) {
	      return false;
	    }

	    let parent = this.getParent();
	    while (parent.domElement !== document.body) {
	      if (parent.domElement === target.domElement) {
	        return true;
	      }
	      parent = parent.getParent();
	    }

	    return false;
	  }

	  /**
	   * Returns whether or not the element is selected. If the element is not an option this returns false.
	   *
	   * @returns {boolean} True if the element is selected, false if it isn't or is not an option.
	   */
	  isSelected() {
	    return this.domElement.tagName === 'OPTION' && this.domElement.selected;
	  }

	  /**
	   * Determines if the element is visible using its display and visibility styles.
	   *
	   * @returns {boolean} True if the element is visible, false otherwise. This might return an invalid value if the element
	   * is absolutely positioned and off the screen, but is still technically visible.
	   */
	  isVisible() {
	    const computedStyle = this.getComputedStyle();
	    return computedStyle['display'] !== 'none' && computedStyle['visibility'] !== 'hidden';
	  }

	  /**
	   * Inserts this Element (which must be a newly created Element) into the DOM inside at the very beginning of the given
	   * element.
	   *
	   * @param {PrimeElement|Element} element The element to insert this Element into.
	   * @returns {PrimeElement} This Element.
	   */
	  prependTo(element) {
	    // Error out for now if this element is in the document so we can punt on cloning for now
	    if (this.domElement.parentNode) {
	      throw new TypeError('You can only insert new PrimeElements for now');
	    }

	    const domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    if (domElement.parentNode) {
	      domElement.insertBefore(this.domElement, domElement.firstChild);
	    } else {
	      throw new TypeError('The element you passed into prependTo is not in the DOM. You can\'t insert a PrimeElement inside an element that isn\'t in the DOM yet.');
	    }

	    return this;
	  }

	  /**
	   * Queries the DOM using the given selector starting at this element and returns all the matched elements.
	   *
	   * @param {string} selector The selector.
	   * @returns {PrimeElementList} An element list.
	   */
	  query(selector) {
	    return PrimeDocument.query(selector, this);
	  }

	  /**
	   * Queries the DOM using the given selector starting at this element and returns the first matched element
	   * or null if there aren't any matches.
	   *
	   * @param {string} selector The selector.
	   * @returns {PrimeElement} An element or null.
	   */
	  queryFirst(selector) {
	    return PrimeDocument.queryFirst(selector, this);
	  }

	  /**
	   * Queries the DOM using the given selector starting at this element and returns the last matched element
	   * or null if there aren't any matches.
	   *
	   * @param {string} selector The selector.
	   * @returns {PrimeElement} An element or null.
	   */
	  queryLast(selector) {
	    return PrimeDocument.queryLast(selector, this);
	  }

	  /**
	   * Traverses up the DOM from this element and looks for a match to the selector.
	   *
	   * @param {string} selector The selector.
	   * @returns {PrimeElement} An element or null.
	   */
	  queryUp(selector) {
	    return PrimeDocument.queryUp(selector, this);
	  }

	  /**
	   * Removes all of the event listeners for the given element.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  removeAllEventListeners() {
	    for (let event in this.domElement.eventListeners) {
	      if (this.domElement.eventListeners.hasOwnProperty(event)) {
	        for (let i = 0; i < this.domElement.eventListeners[event].length; i++) {
	          this._internalRemoveEventListener(event, this.domElement.eventListeners[event][i]);
	        }
	      }
	    }

	    this.domElement.eventListeners = {};
	    this.domElement.customEventListeners = {};

	    return this;
	  }

	  /**
	   * Removes an attribute from the Element
	   *
	   * @param {string} name The name of the attribute.
	   * @returns {PrimeElement} This Element.
	   */
	  removeAttribute(name) {
	    this.domElement.removeAttribute(name);
	    return this;
	  }

	  /**
	   * Removes the given class (or list of space separated classes) from this Element.
	   *
	   * @param {string} classNames The class name(s).
	   * @returns {PrimeElement} This Element.
	   */
	  removeClass(classNames) {
	    const currentClassName = this.domElement.className;
	    if (currentClassName === '') {
	      return this;
	    }

	    const currentClassNameList = currentClassName.split(Utils.spaceRegex);
	    const removeClassNameList = classNames.split(Utils.spaceRegex);
	    for (let i = 0; i < removeClassNameList.length; i++) {
	      Utils.removeFromArray(currentClassNameList, removeClassNameList[i]);
	    }

	    this.domElement.className = currentClassNameList.join(' ');
	    return this;
	  }

	  /**
	   * Removes an event listener for a specific event from this Element, you must have attached using addEventListener
	   *
	   * @param {string} event The name of the event.
	   * @param {*} listener The event listener that was bound.
	   * @returns {PrimeElement} This Element.
	   */
	  removeEventListener(event, listener) {
	    let listeners;
	    if (event.indexOf(':') === -1) {
	      this._internalRemoveEventListener(event, listener);
	      listeners = this.domElement.eventListeners[event];
	    } else {
	      listeners = this.domElement.customEventListeners[event];
	    }

	    if (listeners) {
	      Utils.removeFromArray(listeners, listener);
	    }

	    return this;
	  }

	  /**
	   * Removes all of the event listeners for the given event from this element.
	   *
	   * @param {string} event The name of the event to remove the listeners for.
	   * @returns {PrimeElement} This Element.
	   */
	  removeEventListeners(event) {
	    if (event.indexOf(':') === -1) {
	      if (this.domElement.eventListeners[event]) {
	        for (let i = 0; i < this.domElement.eventListeners[event].length; i++) {
	          this._internalRemoveEventListener(event, this.domElement.eventListeners[event][i]);
	        }

	        delete this.domElement.eventListeners[event];
	      }
	    } else {
	      if (this.domElement.customEventListeners[event]) {
	        delete this.domElement.customEventListeners[event];
	      }
	    }

	    return this;
	  }

	  /**
	   * Removes all of the event listeners for the given pattern from this element.
	   *
	   * @param {RegExp} pattern The regular expression that matches the names of the events to remove the listeners for.
	   * @returns {PrimeElement} This Element.
	   */
	  removeEventListenersByPattern(pattern) {
	    for (let event in this.domElement.eventListeners) {
	      if (this.domElement.eventListeners.hasOwnProperty(event) && pattern.test(event)) {
	        for (let i = 0; i < this.domElement.eventListeners[event].length; i++) {
	          this._internalRemoveEventListener(event, this.domElement.eventListeners[event][i]);
	        }

	        delete this.domElement.eventListeners[event];
	      }
	    }

	    for (let event in this.domElement.customEventListeners) {
	      if (this.domElement.customEventListeners.hasOwnProperty(event) && pattern.test(event)) {
	        delete this.domElement.customEventListeners[event];
	      }
	    }

	    return this;
	  }

	  /**
	   * Removes this Element from the DOM. If the Element isn't in the DOM this does nothing.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  removeFromDOM() {
	    if (this.domElement.parentNode) {
	      this.domElement.parentNode.removeChild(this.domElement);
	    }

	    return this;
	  }

	  /**
	   * Create a selected range for this element.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  selectElementContents() {
	    let range;
	    let selection;

	    if (document.body.createTextRange) {
	      /* IE */
	      range = document.body.createTextRange();
	      range.moveToElementText(this.domElement);
	      range.select();
	    } else if (window.getSelection) {
	      /* Rest of the world */
	      selection = window.getSelection();
	      range = document.createRange();
	      range.selectNodeContents(this.domElement);
	      selection.removeAllRanges();
	      selection.addRange(range);
	    }

	    return this;
	  }

	  /**
	   * Scrolls this Element into the visible area of the browser window.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  scrollIntoView() {
	    this.domElement.scrollIntoView();
	    return this;
	  }

	  /**
	   * Scrolls this element to the given horizontal position.
	   *
	   * @param {number} position The position to scroll the element to.
	   * @returns {PrimeElement} This Element.
	   */
	  scrollLeftTo(position) {
	    this.domElement.scrollLeft = position;
	    return this;
	  }

	  /**
	   * Scrolls this element to the given vertical position.
	   *
	   * @param {number} position The position to scroll the element to.
	   * @returns {PrimeElement} This Element.
	   */
	  scrollTo(position) {
	    this.domElement.scrollTop = position;
	    return this;
	  }

	  /**
	   * Scrolls this element to the bottom.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  scrollToBottom() {
	    this.domElement.scrollTop = this.domElement.scrollHeight;
	    return this;
	  }

	  /**
	   * Scrolls this element to the top.
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  scrollToTop() {
	    this.domElement.scrollTop = 0;
	    return this;
	  }

	  /**
	   * Sets an attribute of the Element.
	   *
	   * @param {string} name The attribute name
	   * @param {number|string} value The attribute value
	   * @returns {PrimeElement} This Element.
	   */
	  setAttribute(name, value) {
	    if (typeof value === 'number') {
	      value = value.toString();
	    }
	    if (this.domElement.setAttribute) {
	      this.domElement.setAttribute(name, value);
	    } else {
	      const attribute = document.createAttribute(name);
	      attribute.nodeValue = value;
	      this.domElement.setAttributeNode(attribute);
	    }

	    return this;
	  }

	  /**
	   * Sets a data- attribute of the Element.
	   *
	   * Example: setDataAttribute('fooBar', 'baz');
	   *  is equivalent to calling setAttribute('data-foo-bar', 'baz');
	   *
	   * @param {string} name The attribute name
	   * @param {number|string} value The attribute value
	   * @returns {PrimeElement} This Element.
	   */
	  setDataAttribute(name, value) {
	    const dataName = 'data-' + name.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
	    return this.setAttribute(dataName, value);
	  }

	  /**
	   * Sets multiple attributes of the Element from the hash
	   *
	   * @param {Object} attributes An object of key value style pairs.
	   * @returns {PrimeElement} This Element.
	   */
	  setAttributes(attributes) {
	    for (let key in attributes) {
	      if (attributes.hasOwnProperty(key)) {
	        this.setAttribute(key, attributes[key]);
	      }
	    }
	    return this;
	  }

	  /**
	   * If this element is a checkbox or radio button, this sets the checked field on the DOM object equal to the given
	   * value.
	   *
	   * @param {boolean} value The value to set the checked state of this element to.
	   * @returns {PrimeElement} This Element.
	   */
	  setChecked(value) {
	    this.domElement.checked = value;
	    return this;
	  }

	  /**
	   * Sets if this element is disabled or not. This works with any element that responds to the disabled property.
	   *
	   * @param {boolean} value The value to set the disabled state of this element to.
	   * @returns {PrimeElement} This Element.
	   */
	  setDisabled(value) {
	    this.domElement.disabled = value;
	    return this;
	  }

	  /**
	   * Sets the height of this element using the height style.
	   *
	   * @param {number|string} height The new height as a number (for pixels) or string.
	   * @returns {PrimeElement} This Element.
	   */
	  setHeight(height) {
	    if (typeof(height) === 'number') {
	      height = height + 'px';
	    }

	    this.setStyle('height', height);
	    return this;
	  }

	  /**
	   * Sets the inner HTML content of the Element.
	   *
	   * @param {string|PrimeElement} newHTML The new HTML content for the Element.
	   * @returns {PrimeElement} This Element.
	   */
	  setHTML(newHTML) {
	    if (newHTML !== null) {
	      if (newHTML instanceof PrimeElement) {
	        this.domElement.innerHTML = newHTML.getHTML();
	      } else {
	        this.domElement.innerHTML = newHTML;
	      }
	    }
	    return this;
	  }

	  /**
	   * Sets the ID of the Element.
	   *
	   * @param {string} id The ID.
	   * @returns {PrimeElement} This Element.
	   */
	  setId(id) {
	    this.domElement.id = id;
	    return this;
	  }

	  /**
	   * Sets left position of the element.
	   *
	   * @param {number|string} left The left position of the element in pixels or as a string.
	   * @returns {PrimeElement} This Element.
	   */
	  setLeft(left) {
	    let leftString = left;
	    if (typeof(left) === 'number') {
	      leftString = left + 'px';
	    }

	    this.setStyle('left', leftString);
	    return this;
	  }

	  /**
	   * Sets the opacity of the element. This also sets the IE alpha filter for IE version 9 or younger.
	   *
	   * @param {number} opacity The opacity.
	   * @returns {PrimeElement} This Element.
	   */
	  setOpacity(opacity) {
	    if (Browser.name === 'Explorer' && Browser.version < 9) {
	      this.domElement.style.filter = 'alpha(opacity=' + opacity + ')';
	    } else {
	      this.domElement.style.opacity = opacity;
	    }

	    return this;
	  }

	  /**
	   * Sets the selected value on the element. If the element is not an option or radio, this does nothing.
	   *
	   * @param {boolean} selected Selected value.
	   */
	  setSelected(selected) {
	    this.domElement.selected = selected;
	  }

	  /**
	   * Sets the selected value(s) of this element. This works on selects, checkboxes, and radio buttons.
	   *
	   * @param {string} [arguments] The value(s) to select (var args).
	   * @returns {PrimeElement} This Element.
	   */
	  setSelectedValues() {
	    // Handle the case where they passed in an array
	    let values = null;
	    if (arguments.length === 1 && Utils.isArray(arguments[0])) {
	      values = arguments[0];
	    } else {
	      values = Array.prototype.slice.call(arguments, 0);
	    }

	    if (this.domElement.tagName === 'INPUT' && (this.domElement.type === 'checkbox' || this.domElement.type === 'radio')) {
	      const name = this.domElement.name;
	      const form = PrimeDocument.queryUp('form', this.domElement);
	      PrimeDocument.query('input[name="' + name + '"]', form).each(function(element) {
	        element.setChecked(values.indexOf(element.getValue()) !== -1);
	      });
	    } else if (this.domElement.tagName === 'SELECT') {
	      for (let i = 0; i < this.domElement.length; i++) {
	        this.domElement.options[i].selected = values.indexOf(this.domElement.options[i].value) !== -1;
	      }
	    }

	    return this;
	  }

	  /**
	   * Sets the style for the name of this Element.
	   *
	   * @param {string} name The style name.
	   * @param {number|string} value The style value.
	   * @returns {PrimeElement} This Element.
	   */
	  setStyle(name, value) {
	    if (typeof value === 'number') {
	      value = value.toString();
	    }
	    this.domElement.style[name] = value;
	    return this;
	  }

	  /**
	   * Sets multiple styles of this Element.
	   *
	   * @param {Object} styles An object with key value pairs for the new style names and values.
	   * @returns {PrimeElement} This Element.
	   */
	  setStyles(styles) {
	    for (let key in styles) {
	      if (styles.hasOwnProperty(key)) {
	        this.setStyle(key, styles[key]);
	      }
	    }
	    return this;
	  }

	  /**
	   * Sets the textContent of the Element.
	   *
	   * @param {number|string|PrimeElement} newText The new text content for the Element.
	   * @returns {PrimeElement} This Element.
	   */
	  setTextContent(newText) {
	    if (newText !== null) {
	      if (newText instanceof PrimeElement) {
	        this.domElement.textContent = newText.getTextContent();
	      } else {
	        if (typeof newText === 'number') {
	          newText = newText.toString();
	        }
	        this.domElement.textContent = newText;
	      }
	    }
	    return this;
	  }

	  /**
	   * Sets top position of the element.
	   *
	   * @param {number|string} top The top position of the element in pixels or as a string.
	   * @returns {PrimeElement} This Element.
	   */
	  setTop(top) {
	    let topString = top;
	    if (typeof(top) === 'number') {
	      topString = top + 'px';
	    }

	    this.setStyle('top', topString);
	    return this;
	  }

	  /**
	   * Sets the value of this Element. This handles checkboxes, radio buttons, options, text inputs and text areas. This
	   * works on checkboxes and radio buttons, but it change the value attribute on them rather than checking and unchecking
	   * the buttons themselves. To check and uncheck the buttons, use the select method.
	   *
	   * @param {number|string} value The new value.
	   * @returns {PrimeElement} This Element.
	   */
	  setValue(value) {
	    if (typeof value === 'number') {
	      value = value.toString();
	    }
	    this.domElement.value = value;
	    return this;
	  }

	  /**
	   * Sets the width of this element using the height style.
	   *
	   * @param {number|string} width The new width as a number (for pixels) or string.
	   * @returns {PrimeElement} This Element.
	   */
	  setWidth(width) {
	    if (typeof(width) === 'number') {
	      width = width + 'px';
	    }

	    this.setStyle('width', width);
	    return this;
	  }

	  /**
	   * Shows the Element by setting the display style first to empty string. After this, the elements computed style is
	   * checked to see if the element is still not visible. If that is true, the element must have a CSS style defined in
	   * a stylesheet that is setting it to display: none. In this case, we determine if the element is a block level element
	   * and either set the display to 'block' or 'inline'.
	   *
	   * @param {string} [displayValue] The display value to use for the show. This defaults to the W3C standard display
	   * setting depending on the type of element you are showing. For example, INPUT is inline and DIV is block.
	   * @returns {PrimeElement} This Element.
	   */
	  show(displayValue) {
	    if (Utils.isDefined(displayValue)) {
	      this.domElement.style.display = displayValue;
	      return this;
	    }

	    this.domElement.style.display = '';

	    const computedDisplay = this.getComputedStyle()['display'];
	    if (computedDisplay === 'none') {
	      if (!Utils.isDefined(displayValue)) {
	        displayValue = (PrimeElement.blockElementRegexp.test(this.domElement.tagName)) ? 'block' : 'inline';
	      }

	      this.domElement.style.display = displayValue;
	    }

	    return this;
	  }

	  /**
	   * Toggle the class on this element.
	   *
	   * @param {string} className The class name.
	   * @returns {PrimeElement} This Element.
	   */
	  toggleClass(className) {
	    if (this.hasClass(className)) {
	      this.removeClass(className);
	    } else {
	      this.addClass(className);
	    }

	    return this;
	  }

	  /**
	   * Removes this element from the DOM while preserving the inner HTML.
	   *
	   * Example, call unwrap on the italic element:
	   *   <strong>Hello</strong><italic> World </italic> --> <strong>Hello</strong> World
	   *
	   * @returns {PrimeElement} This Element.
	   */
	  unwrap() {
	    const parent = this.getParent().domElement;
	    while (this.domElement.firstChild) {
	      parent.insertBefore(this.domElement.firstChild, this.domElement);
	    }

	    this.removeFromDOM();
	  }

	  /**
	   * Builds a new element using the given HTML snippet (currently this only supports the tag).
	   *
	   * @param {string} elementString The element string.
	   * @param {Object} [properties={}] The properties for the new element.
	   * @returns {PrimeElement} A new PrimeElement.
	   */
	  wrapInnerHTML(elementString, properties) {
	    const element = PrimeDocument.newElement(elementString, properties);
	    element.setHTML(this.getOuterHTML());
	    this.domElement.outerHTML = element.domElement.outerHTML;
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private Methods
	   * ===================================================================================================================*/

	  /**
	   * Handle delegated events.
	   *
	   * @param {Event} event
	   * @private
	   */
	  _handleDelegatedEvent(event) {
	    this._callMatchedListeners(event, event.target);

	    // If the event cannot bubble, we are done.
	    if (!event.bubbles) {
	      return;
	    }

	    // While propagation has not been stopped, walk up the tree to simulate the bubble
	    let domElement = event.target;
	    while (true) {
	      if (domElement === this.domElement || domElement === document || event.isPropagationStopped) {
	        break;
	      }

	      domElement = domElement.parentNode;
	      this._callMatchedListeners(event, domElement);
	    }
	  }

	  _callMatchedListeners(event, target) {
	    // Test each selector we have against this target
	    let delegatedListeners = this.domElement.delegatedListeners[event.type] || [];
	    for (let selector in delegatedListeners) {
	      if (delegatedListeners.hasOwnProperty(selector)) {
	        if (target.matches(selector)) {

	          let scopedListeners = delegatedListeners[selector];
	          // Call each listener unless immediate propagation has been stopped
	          for (let i = 0; i < scopedListeners.length; i++) {

	            if (event.isImmediatePropagationStopped) {
	              return;
	            }

	            scopedListeners[i](event, target);
	          }
	        }
	      }
	    }
	  }

	  /**
	   * Removes the event listener proxy from this element.
	   *
	   * @param {string} event The event name.
	   * @param {Function} listener The listener function.
	   * @private
	   */
	  _internalRemoveEventListener(event, listener) {
	    if (event.indexOf(':') === -1) {
	      // Traditional event
	      if (this.domElement.removeEventListener) {
	        this.domElement.removeEventListener(event, listener, false);
	      } else if (this.domElement.detachEvent) {
	        this.domElement.detachEvent('on' + event, listener);
	      } else {
	        throw new TypeError('Unable to remove event from the element. Neither removeEventListener nor detachEvent methods are available');
	      }
	    } else if (this.domElement.customEventListeners && this.domElement.customEventListeners[event]) {
	      // Custom event
	      const customListeners = this.domElement.customEventListeners[event];
	      Utils.removeFromArray(customListeners, listener);
	    }
	  }
	}


	/* ===================================================================================================================
	 * Polyfill
	 * ===================================================================================================================*/

	(function() {
	  if (!Element.prototype.matches) {
	    Element.prototype.matches = function(selector) {
	      const domElement = this;
	      const matches = (domElement.parentNode || domElement.document).querySelectorAll(selector);
	      let i = 0;

	      while (matches[i] && matches[i] !== domElement) {
	        i++;
	      }

	      return !!matches[i];
	    };
	  }

	  // Add isPropagationStopped, this is part of the DOM Level 3 spec for CustomEvents
	  // - adding it here for all types so it can be used by the delegation event listener
	  // https://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107/events.html#Events-Event-isPropagationStopped
	  if (!Event.prototype.isPropagationStopped) {
	    let _stopPropagation = Event.prototype.stopPropagation;
	    Event.prototype.stopPropagation = function() {
	      this.isPropagationStopped = true;
	      _stopPropagation.apply(this, arguments);
	    };
	  }

	  // Add isImmediatePropagationStopped, this is part of the DOM Level 3 spec for CustomEvents
	  // - adding it here for all types so it can be used by the delegation event listener
	  // https://www.w3.org/TR/2003/NOTE-DOM-Level-3-Events-20031107/events.html#Events-Event-isImmediatePropagationStopped
	  if (!Event.prototype.isImmediatePropagationStopped) {
	    let _stopImmediatePropagation = Event.prototype.stopImmediatePropagation;
	    Event.prototype.stopImmediatePropagation = function() {
	      this.isImmediatePropagationStopped = true;
	      _stopImmediatePropagation.apply(this, arguments);
	    };
	  }
	})();

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class PrimeElementList {
	  /**
	   * Constructs an PrimeElementList object using the given array containing DOMElements or PrimeElement objects, or the NodeList containing Node objects.
	   *
	   * @constructor
	   * @param {Array|NodeList} elements An array containing DOMElement or PrimeElement objects, or a NodeList containing Node objects.
	   */
	  constructor(elements) {
	    Utils.bindAll(this);

	    // NodeList does not inherit from Array so do not assume object type.
	    this.length = elements.length;
	    for (let i = 0; i < elements.length; i++) {
	      if (elements[i] instanceof PrimeElement) {
	        this[i] = elements[i];
	      } else {
	        this[i] = new PrimeElement(elements[i]);
	      }
	    }
	  }

	  /**
	   * Shorthand for calling {@link PrimeElement.addClass} on each Element in the PrimeElementList.
	   *
	   * Adds the given class (or list of space separated classes) to all Elements in this PrimeElementList.
	   *
	   * @param {string} classNames The class name(s) separated by a space.
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  addClass(classNames) {
	    return this._proxyToElement('addClass', classNames);
	  }

	  /**
	   * Shorthand for calling {@link PrimeElement.addEventListener} on each Element in the PrimeElementList.
	   *
	   * Attaches an event listener to all Elements in this PrimeElementList.
	   *
	   * @param {string} event The name of the event.
	   * @param {Function} listener The event listener function.
	   * @returns {PrimeElement|PrimeElementList} This Element.
	   */
	  addEventListener(event, listener) {
	    return this._proxyToElement('addEventListener', event, listener);
	  }

	  /**
	   * Iterates over each of the PrimeElement objects in this PrimeElementList and calls the given function for each one.
	   * The <code>this</code> variable inside the function will be managed by the caller of this method. You should use the
	   * <code>bind</code> method on the Function object if you want to manage the <code>this</code> reference.
	   *
	   * The function can optionally take two parameters. The first parameter is the current element. The second parameter
	   * is the current index.
	   *
	   * @param {Function} iterationFunction The function to call.
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  each(iterationFunction) {
	    for (let i = 0; i < this.length; i++) {
	      iterationFunction(this[i], i);
	    }

	    return this;
	  }

	  /**
	   * Shorthand for calling {@link PrimeElement.hide} on each Element in the PrimeElementList.
	   *
	   * Hides the Element by setting the display style to none.
	   *
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  hide() {
	    return this._proxyToElement('hide');
	  }

	  /**
	   * Returns the indexOf the element that matches the parameter, either Prime Element or DOMElement.
	   *
	   * @param {PrimeElement|Element} element The element to look for
	   * @returns {number} The position of the element in the list, or -1 if not present.
	   */
	  indexOf(element) {
	    const domElement = (element instanceof PrimeElement) ? element.domElement : element;

	    for (let i = 0; i < this.length; i++) {
	      if (this[i].domElement === domElement) {
	        return i;
	      }
	    }

	    return -1;
	  }

	  /**
	   * Removes all the matched elements in the PrimeElementList from the DOM.
	   *
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  removeAllFromDOM() {
	    for (let i = 0; i < this.length; i++) {
	      this[i].removeFromDOM();
	    }

	    return this;
	  }

	  /**
	   * Shorthand for calling {@link PrimeElement.removeClass} on each Element in the PrimeElementList.
	   *
	   * Removes the given class (or list of space separated classes) from all Elements in this PrimeElementList.
	   *
	   * @param {string} classNames The class name(s) separated by a space.
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  removeClass(classNames) {
	    return this._proxyToElement('removeClass', classNames);
	  }

	  /**
	   * Shorthand for calling {@link PrimeElement.setChecked} on each Element in the PrimeElementList.
	   *
	   * If this element is a checkbox or radio button, this sets the checked field on the DOM object equal to the given
	   * value.
	   *
	   * @param {boolean} value The value to set the checked state of this element to.
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  setChecked(value) {
	    return this._proxyToElement('setChecked', value);
	  }

	  /**
	   * Shorthand for calling {@link PrimeElement.setDisabled} on each Element in the PrimeElementList.
	   *
	   * Sets if this element is disabled or not. This works with any element that responds to the disabled property.
	   *
	   * @param {boolean} value The value to set the disabled state of this element to.
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  setDisabled(value) {
	    return this._proxyToElement('setDisabled', value);
	  }

	  /**
	   * Shorthand for calling {@link PrimeElement.show} on each Element in the PrimeElementList.
	   *
	   * Shows the element.
	   *
	   * @returns {PrimeElementList} This PrimeElementList.
	   */
	  show() {
	    return this._proxyToElement('show');
	  }

	  /**
	   * @callback PrimeElementListPredicate
	   *
	   * A function that defines a condition on a PrimeElement
	   *
	   * @param {PrimeElement} element
	   * @returns {boolean} True if the element matches a condition
	   */

	  /**
	   * A function that tests for any element that matches a condition.
	   * @param {PrimeElementListPredicate} predicate A function that defines the condition to check
	   * @returns {boolean} True if any element matches the predicate
	   */
	  some(predicate) {
	    for (let i = 0; i < this.length; ++i) {
	      if (predicate(this[i])) {
	        return true;
	      }
	    }
	    return false;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Proxy function calls to each Element in the PrimeElementList.
	   * The first parameter is function name, followed by a variable length of arguments.
	   *
	   * Example usage: this._proxyToElement('addClass', classNames);
	   *
	   * @returns {PrimeElementList}
	   * @private
	   */
	  _proxyToElement() {
	    const args = Array.prototype.slice.apply(arguments);
	    for (let i = 0; i < this.length; i++) {
	      this[i][args[0]].apply(this[i], args.slice(1));
	    }
	    return this;
	  }
	}

	/*
	 * Copyright (c) 2012-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	const readyFunctions = [];
	const tagRegexp = /^<(\w+)\s*\/?>.*(?:<\/\1>)?$/;

	/**
	 * The Body element as a PrimeElement object.
	 *
	 * @type {?PrimeElement}
	 */
	let bodyElement = null;

	class PrimeDocument {

	  /**
	   * @returns {PrimeElement}
	   */
	  static get Element() {
	    return PrimeElement;
	  }

	  /**
	   * @returns {PrimeElementList}
	   */
	  static get ElementList() {
	    return PrimeElementList;
	  }

	  /**
	   * @returns {Array<Function>}
	   */
	  static get readyFunctions() {
	    return readyFunctions;
	  }

	  /**
	   * @returns {RegExp}
	   */
	  static get tagRegexp() {
	    return tagRegexp;
	  }

	  /**
	   * @returns {?PrimeElement} the Prime body element
	   */
	  static get bodyElement() {
	    if (bodyElement === null) {
	      bodyElement = new PrimeElement(document.body);
	    }
	    return bodyElement;
	  }

	  /**
	   * Set the body element
	   * @param {?PrimeElement} body the Prime body element
	   */
	  static set bodyElement(body) {
	    bodyElement = body;
	  }

	  /**
	   * Attaches an event listener to the document body and will only invoke the listener when the event target matches
	   * the provided selector.
	   *
	   * The intent of this function is to provide a delegated listener and handle events from nested elements.
	   *
	   * @param {string} event The name of the event
	   * @param  {string} selector The selector to match against the Element
	   * @param {PrimeDelegationEventListener} listener The event listener function
	   */
	  static addDelegatedEventListener(event, selector, listener) {
	    PrimeDocument.bodyElement.addDelegatedEventListener(event, selector, listener);
	  }

	  /**
	   * Attaches an event listener to the document, returning the handler proxy.
	   *
	   * @param {string} event The name of the event.
	   * @param {Function} listener The event listener function.
	   * @returns {PrimeDocument} The PrimeDocument object so you can chain method calls together.
	   */
	  static addEventListener(event, listener) {
	    if (event.indexOf(':') === -1) {
	      // Traditional event
	      document.eventListeners = document.eventListeners || {};
	      document.eventListeners[event] = document.eventListeners[event] || [];
	      document.eventListeners[event].push(listener);
	      document.addEventListener(event, listener, false);
	    } else {
	      // Custom event
	      document.customEventListeners = document.customEventListeners || {};
	      document.customEventListeners[event] = document.customEventListeners[event] || [];
	      document.customEventListeners[event].push(listener);
	    }

	    return PrimeDocument;
	  }

	  /**
	   * Returns the height of the document.
	   *
	   * @returns {number} The height of the document in pixels.
	   */
	  static getHeight() {
	    const body = document.body;
	    const html = document.documentElement;

	    return Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);
	  }

	  /**
	   * Returns the width of the document.
	   *
	   * @returns {number} The width of the document in pixels.
	   */
	  static getWidth() {
	    const body = document.body;
	    const html = document.documentElement;

	    return Math.max(body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth);
	  }

	  /**
	   * Builds a new document using the given HTML document.
	   *
	   * @param {string} documentString The HTML string to build the document.
	   * @returns {Document} A new document.
	   */
	  static newDocument(documentString) {
	    return new DOMParser().parseFromString(documentString, "text/html");
	  }

	  /**
	   * Builds a new element using the given HTML snippet (currently this only supports the tag).
	   *
	   * @param {string} elementString The element string.
	   * @param {Object} [properties={}] The properties for the new element.
	   * @returns {PrimeElement} A new PrimeElement.
	   */
	  static newElement(elementString, properties) {
	    properties = Utils.isDefined(properties) ? properties : {};
	    const result = PrimeDocument.tagRegexp.exec(elementString);
	    if (result === null) {
	      throw new TypeError('Invalid string to create a new element [' + elementString + ']. It should look like <a/>');
	    }

	    const element = new PrimeElement(document.createElement(result[1]));
	    for (let key in properties) {
	      if (properties.hasOwnProperty(key)) {
	        if (key === 'id') {
	          element.setId(properties[key]);
	        } else {
	          element.setAttribute(key, properties[key]);
	        }
	      }
	    }

	    return element;
	  }

	  /**
	   * Adds the given callback function to the list of functions to invoke when the document is ready. If the document is
	   * already fully loaded, this simply invokes the callback directly.
	   *
	   * @param {Function} callback The callback function.
	   */
	  static onReady(callback) {
	    if (document.readyState === 'complete') {
	      callback();
	    } else {
	      // If this is the first call, register the event listener on the document
	      if (this.readyFunctions.length === 0) {
	        if (document.addEventListener) {
	          document.addEventListener('DOMContentLoaded', PrimeDocument._callReadyListeners, false);
	        } else if (document.attachEvent) {
	          document.attachEvent('onreadystatechange', PrimeDocument._callReadyListeners);
	        } else {
	          throw new TypeError('No way to attach an event to the document. What browser are you running?');
	        }
	      }

	      // Add the callback
	      PrimeDocument.readyFunctions.push(callback);
	    }
	  }

	  /**
	   * Take the HTML string and append it to the body.
	   *
	   * @param {string} html The HTML to append
	   */
	  static appendHTML(html) {
	    document.body.insertAdjacentHTML('beforeend', html);
	  }

	  /**
	   * Moves the given element by appending it to the element provided by the second argument.
	   *
	   * @param {Element|PrimeElement} element The element to move.
	   * @param {Element|PrimeElement} appendToElement [appendToElement=body] The element to append to, defaults to the body if not provided.
	   * @returns {PrimeElement} The element that has been moved.
	   */
	  static move(element, appendToElement) {
	    element = (element instanceof PrimeElement) ? element : new PrimeElement(element);

	    if (!Utils.isDefined(appendToElement)) {
	      appendToElement = new PrimeElement(document.body);
	    } else {
	      appendToElement = (appendToElement instanceof PrimeElement) ? appendToElement : new PrimeElement(appendToElement);
	    }

	    appendToElement.appendHTML(element.getOuterHTML());
	    element.removeFromDOM();
	    return appendToElement.getLastChild();
	  }

	  /**
	   * Queries the DOM using the given selector starting at the given element and returns all the matched elements.
	   *
	   * @param {string} selector The selector.
	   * @param {Element|Document|PrimeElement} [element=document] The starting point for the search (defaults to document if not provided).
	   * @returns {PrimeElementList} An element list.
	   */
	  static query(selector, element) {
	    let domElement = null;
	    if (!Utils.isDefined(element)) {
	      domElement = document;
	    } else {
	      domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    }

	    const elements = domElement.querySelectorAll(selector);
	    return new PrimeElementList(elements);
	  }

	  /**
	   * Queries the DOM for an element that has the given ID.
	   *
	   * @param {string} id The ID.
	   * @returns {PrimeElement} The element or null.
	   */
	  static queryById(id) {
	    let element = document.getElementById(id);
	    if (!element) {
	      return null;
	    }

	    return new PrimeElement(element);
	  }

	  /**
	   * Queries the DOM using the given selector starting at the given element and returns the first matched element
	   * or null if there aren't any matches.
	   *
	   * @param {string} selector The selector.
	   * @param {Element|Document|PrimeElement} [element=document] The starting point for the search (defaults to document if not provided).
	   * @returns {PrimeElement} An element or null.
	   */
	  static queryFirst(selector, element) {
	    let domElement = null;
	    if (!Utils.isDefined(element)) {
	      domElement = document;
	    } else {
	      domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    }

	    domElement = domElement.querySelector(selector);
	    if (domElement === null) {
	      return null;
	    }

	    return new PrimeElement(domElement);
	  }

	  /**
	   * Queries the DOM using the given selector starting at the given element and returns the last matched element
	   * or null if there aren't any matches.
	   *
	   * @param {string} selector The selector.
	   * @param {Element|Document|PrimeElement} [element=document] The starting point for the search (defaults to document if not provided).
	   * @returns {PrimeElement} An element or null.
	   */
	  static queryLast(selector, element) {
	    let domElement = null;
	    if (!Utils.isDefined(element)) {
	      domElement = document;
	    } else {
	      domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    }

	    const domElements = domElement.querySelectorAll(selector);
	    if (domElements.length === 0) {
	      return null;
	    }

	    return new PrimeElement(domElements[domElements.length - 1]);
	  }

	  /**
	   * Traverses up the DOM from the starting element and looks for a match to the selector.
	   *
	   * @param {string} selector The selector.
	   * @param {PrimeElement|Element} element The starting point for the upward traversal.
	   * @returns {PrimeElement} An element or null.
	   */
	  static queryUp(selector, element) {
	    let domElement = null;
	    if (!Utils.isDefined(element)) {
	      throw new SyntaxError('Missing required parameter. The element is required.');
	    } else {
	      domElement = (element instanceof PrimeElement) ? element.domElement : element;
	    }

	    domElement = domElement.parentNode;
	    while (domElement !== null && !domElement.matches(selector)) {
	      domElement = domElement.parentNode;
	      if (domElement === document) {
	        domElement = null;
	      }
	    }

	    if (domElement !== null) {
	      return new PrimeElement(domElement);
	    }

	    return null;
	  }

	  /**
	   * Removes an event handler for a specific event from the document that you attached using addEventListener
	   *
	   * @param {string} event The name of the event.
	   * @param {Function} listener The listener function.
	   */
	  static removeEventListener(event, listener) {
	    if (document.removeEventListener) {
	      document.removeEventListener(event, listener, false);
	    } else if (document.detachEvent) {
	      document.detachEvent('on' + event, listener);
	    } else {
	      throw new TypeError('Unable to remove event from the element. Neither removeEventListener nor detachEvent methods are available');
	    }
	  }

	  /* ===================================================================================================================
	   * Private Methods
	   * ===================================================================================================================*/

	  /**
	   * Calls all the registered document ready listeners.
	   *
	   * @private
	   */
	  static _callReadyListeners() {
	    if (document.addEventListener || document.readyState === 'complete') {
	      let readyFunction;
	      while (readyFunction = PrimeDocument.readyFunctions.shift()) {
	        readyFunction();
	      }
	    }

	    if (document.removeEventListener) {
	      document.removeEventListener('DOMContentLoaded', PrimeDocument._callReadyListeners, false);
	    } else {
	      document.detachEvent('onreadystatechange', PrimeDocument._callReadyListeners);
	    }
	  }
	}

	/* ===================================================================================================================
	 * Polyfill
	 * ===================================================================================================================*/

	/* https://developer.mozilla.org/en-US/docs/Web/API/DOMParser */
	(function(DOMParser) {
	  const proto = DOMParser.prototype;
	  const nativeParse = proto.parseFromString;

	  // Firefox/Opera/IE throw errors on unsupported types
	  try {
	    // WebKit returns null on unsupported types
	    if ((new DOMParser()).parseFromString('', 'text/html')) {
	      // text/html parsing is natively supported
	      return;
	    }
	  } catch (ex) {
	  }

	  proto.parseFromString = function(markup, type) {
	    if (/^\s*text\/html\s*(?:;|$)/i.test(type)) {
	      const doc = document.implementation.createHTMLDocument('');
	      if (markup.toLowerCase().indexOf('<!doctype') > -1) {
	        doc.documentElement.innerHTML = markup;
	      } else {
	        doc.body.innerHTML = markup;
	      }
	      return doc;
	    } else {
	      return nativeParse.apply(this, arguments);
	    }
	  };
	}(DOMParser));

	/*
	 * Copyright (c) 2012-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	/**
	 * The Utils namespace. This contains utility functions.
	 *
	 * @namespace Utils
	 */
	const Utils = {
	  spaceRegex: /\s+/,
	  typeRegex: /^\[object\s(.*)\]$/,

	  /**
	   * Binds all of the functions inside the object so that <code>this</code> is the object. This is extremely useful for
	   * objects that have functions that will be used as event listeners. Rather than having to manage binding and function
	   * references manually you can instead bind all of the functions in the object and then use them directly for event
	   * listeners.
	   *
	   * Here's an example:
	   *
	   * <pre>
	   *   function Foo() {
	   *     Utils.bindAll(this);
	   *
	   *     // This function is bound to this (i.e. this.handleClick = this.handleClick.bind(this)).
	   *     PrimeDocument.queryFirst('a').addEventListener('click', this.handleClick);
	   *   }
	   *
	   *   Foo.prototype = {
	   *     handleClick: function(event) {
	   *       ...
	   *     }
	   *   };
	   * </pre>
	   *
	   * @param {*} object The object to bind all the functions for.
	   */
	  bindAll: function(object) {
	    Utils.getAllPropertyNames(object).forEach((property) => {
	      if (property !== 'constructor' && typeof object[property] === 'function' &&
	          !(object[property].name && object[property].name.startsWith('bound '))) { // name isn't defined in ie
	        Object.defineProperty(object, property, {value: object[property].bind(object)});
	      }
	    });
	  },

	  /**
	   * HTML escape a string.
	   *
	   * @param string The string to escape
	   * @returns {string} the escaped string
	   */
	  escapeHTML: function(string) {
	    let div = document.createElement('div');
	    div.appendChild(document.createTextNode(string));
	    return div.innerHTML;
	  },

	  /**
	   * Reverses HTML escaping.
	   * @param string
	   * @returns {string}
	   */
	  unescapeHTML: function(string) {
	    // Neat trick using a textarea
	    let txt = document.createElement('textarea');
	    txt.innerHTML = string;
	    return txt.value;
	  },

	  /**
	   * Returns all of the properties for this object and all of its
	   * inherited properties from parent objects.
	   *
	   * @param object
	   * @returns {Array<string>}
	   */
	  getAllPropertyNames: function(object) {
	    let props = {};

	    do {
	      Object.getOwnPropertyNames(object).forEach((prop) => {
	        if (!props[prop]) {
	          props[prop]=prop;
	        }
	      });
	    } while (object = Object.getPrototypeOf(object));

	    return Object.keys(props);
	  },

	  /**
	   * Binds all of the functions inside the object so that <code>this</code> is the object. This is extremely useful for
	   * objects that have functions that will be used as event listeners. Rather than having to manage binding and function
	   * references manually you can instead bind all of the functions in the object and then use them directly for event
	   * listeners.
	   *
	   * Here's an example:
	   *
	   * <pre>
	   *   function Foo() {
	   *     Utils.bindAll(this);
	   *
	   *     // This function is bound to this (i.e. this.handleClick = this.handleClick.bind(this)).
	   *     PrimeDocument.queryFirst('a').addEventListener('click', this.handleClick);
	   *   }
	   *
	   *   Foo.prototype = {
	   *     handleClick: function(event) {
	   *       ...
	   *     }
	   *   };
	   * </pre>
	   *
	   * @param {*} object The object to bind all the functions for.
	   * @param {String} arguments A varargs list of function names to bind.
	   */
	  bindSome: function(object) {
	    if (arguments.length > 1) {
	      for (let i = 1; i < arguments.length; i++) {
	        const func = object[arguments[i]];
	        if (!Utils.isDefined(func) || !(func instanceof Function)) {
	          throw new TypeError('The object does not contain a function named [' + arguments[i] + ']');
	        }

	        object[arguments[i]] = func.bind(object);
	      }
	    }
	    for (let property in object) {
	      if (object[property] instanceof Function) {
	        object[property] = object[property].bind(object);
	      }
	    }
	  },

	  /**
	   * Safely binds a function to a context.
	   *
	   * @param {Function} func The function to bind.
	   * @param {Object} [context] An optional context to bind the function to.
	   * @returns {Function} Either <code>func</code> or the newly bound function.
	   */
	  bindSafe: function(func, context) {
	    if (!Utils.isDefined(func)) {
	      throw new Error('Invalid arguments');
	    }

	    if (!Utils.isDefined(context)) {
	      return func;
	    }

	    return func.bind(context);
	  },

	  /**
	   * Calculates the length of the given text using the style of the given element.
	   *
	   * @param {PrimeElement} element The element to use the style of.
	   * @param {string} text The text to calculate the length of.
	   * @returns {number} The length of the text.
	   */
	  calculateTextLength: function(element, text) {
	    const computedStyle = element.getComputedStyle();
	    let textCalculator = PrimeDocument.queryById('prime-text-calculator');
	    if (textCalculator === null) {
	      textCalculator = PrimeDocument.newElement('<span/>')
	          .setStyles({
	            position: 'absolute',
	            width: 'auto',
	            fontSize: computedStyle['fontSize'],
	            fontFamily: computedStyle['fontFamily'],
	            fontWeight: computedStyle['fontWeight'],
	            letterSpacing: computedStyle['letterSpacing'],
	            whiteSpace: 'nowrap'
	          })
	          .setId('prime-text-calculator')
	          .setTop(-9999)
	          .setLeft(-9999)
	          .appendTo(document.body);
	    }

	    textCalculator.setHTML(text);
	    return textCalculator.getWidth();
	  },

	  /**
	   * Attempts to invoke a function iteratively in the background a specific number of times within a specific duration.
	   * This might not complete in the specified duration. The functions passed in should be short functions that return as
	   * quickly as possible. If you are using long functions, use the recursive setTimeout trick by-hand instance.
	   *
	   * @param {number} totalDuration The duration in milliseconds.
	   * @param {number} timesToCall The number of times to call the function.
	   * @param {Function} stepFunction The step function to call each iteration.
	   * @param {Function} [endFunction] The function to invoke at the end.
	   */
	  callIteratively: function(totalDuration, timesToCall, stepFunction, endFunction) {
	    const step = totalDuration / timesToCall;
	    let count = 0;
	    const id = setInterval(function() {
	      count++;
	      const last = (count >= timesToCall);
	      stepFunction(last);
	      if (last) {
	        clearInterval(id);

	        if (Utils.isDefined(endFunction)) {
	          endFunction();
	        }
	      }
	    }, step - 1);
	  },

	  /**
	   * Capitalizes the given String.
	   *
	   * @param {string} str The String to capitalize.
	   * @returns {string} The capitalized String.
	   */
	  capitalize: function(str) {
	    return str.charAt(0).toUpperCase() + str.substring(1);
	  },

	  /**
	   * Converts CSS style names to style JavaScript names.
	   *
	   * @param {string} name The CSS style name to convert
	   * @returns {string} The converted style name.
	   */
	  convertStyleName: function(name) {
	    if (name === 'float') {
	      return 'cssFloat';
	    }

	    let dash = name.indexOf('-');
	    if (dash === -1) {
	      return name;
	    }

	    let start = 0;
	    let result = '';
	    while (dash !== -1) {
	      const piece = name.substring(start, dash);
	      if (start === 0) {
	        result = result.concat(piece);
	      } else {
	        result = result.concat(Utils.capitalize(piece));
	      }

	      start = dash + 1;
	      dash = name.indexOf('-', start);
	    }

	    return result + Utils.capitalize(name.substring(start));
	  },

	  /**
	   * Return an options map {Object} of the data set values coerced to a typed value of boolean, string or number.
	   *
	   * @param {PrimeElement} element The element.
	   * @returns {Object} The options object.
	   */
	  dataSetToOptions: function(element) {
	    const options = {};
	    const data = element.getDataSet();
	    for (let prop in data) {
	      if (!data.hasOwnProperty(prop)) {
	        continue;
	      }
	      const value = data[prop];
	      if (isNaN(value)) {
	        if (value === 'true') {
	          options[prop] = true;
	        } else if (value === 'false') {
	          options[prop] = false;
	        } else {
	          options[prop] = value;
	        }
	      } else {
	        options[prop] = parseInt(value);
	      }
	    }

	    return options;
	  },

	  /**
	   * Determines if an object is an array or not.
	   *
	   * @param {*} o The object to check.
	   * @returns {boolean} True if the object is an array, false otherwise.
	   */
	  isArray: function(o) {
	    return Object.prototype.toString.call(o) === '[object Array]';
	  },

	  /**
	   * Tests whether or not the value is not null and not 'undefined'.
	   *
	   * @param {*} value The value to test.
	   * @returns {boolean} True if the value is defined (not null or undefined).
	   */
	  isDefined: function(value) {
	    return value !== null && typeof(value) !== 'undefined';
	  },

	  /**
	   * Left pad a number.
	   * @param {number} number the number to pad
	   * @param {number} width the width of the final result
	   * @returns {string}
	   */
	  leftPadNumber: function(number, width) {
	    const sign = Math.sign(number) === -1 ? '-' : '';
	    return sign + new Array(width).concat([Math.abs(number)]).join('0').slice(-width);
	  },

	  /**
	   * Parses a CSS measure value (12px) as an integer.
	   *
	   * @param {string} measure The CSS measure
	   * @returns {number} The value as an integer.
	   */
	  parseCSSMeasure: function(measure) {
	    const index = measure.indexOf('px');
	    if (index > 0) {
	      return parseInt(measure.substring(0, measure.length - 2));
	    }

	    return parseInt(measure) || 0;
	  },

	  /**
	   * Parses JSON.
	   *
	   * @param {string} json The JSON.
	   * @returns {Object} The JSON data as an object.
	   */
	  parseJSON: function(json) {
	    return JSON.parse(json);
	  },

	  /**
	   * Removes the objects in the toRemove array from the fromArray.
	   *
	   * @param {Array} fromArray The array to remove from.
	   * @param {Array} toRemove The values to remove.
	   */
	  removeAllFromArray: function(fromArray, toRemove) {
	    for (let i = 0; i < toRemove.length; i++) {
	      Utils.removeFromArray(fromArray, toRemove[i]);
	    }
	  },

	  /**
	   * Removes the given object from the given array.
	   *
	   * @param {Array} array The array to remove from.
	   * @param {*} obj The object to remove.
	   */
	  removeFromArray: function(array, obj) {
	    const index = array.indexOf(obj);
	    if (index !== -1) {
	      const shift = array.splice(index + 1, array.length);
	      array.length = index;
	      array.push.apply(array, shift);
	    }
	  },

	  /**
	   * Helper function to provide a one liner to behave as if you returned 'false' from a legacy version of Prime.js.
	   *
	   * Calling this method is equivalent to calling event.preventDefault and event.stopPropagation.
	   * @param event
	   */
	  stopEvent: function(event) {
	    // Compatibility with older versions of IE
	    event.cancelBubble = true;
	    if (event.stopPropagation) {
	      event.stopPropagation();
	    }
	    if (event.preventDefault) {
	      event.preventDefault();
	    }
	  },

	  type: function(object) {
	    return Object.prototype.toString.call(object).match(Utils.typeRegex)[1];
	  }
	};

	/*
	 * Copyright (c) 2017-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	/**
	 * The singleton instance.
	 *
	 * @type {Overlay}
	 */
	let instance;

	class Overlay {
	  /**
	   * Constructs a new Overlay instance once per DOM.
	   *
	   * @constructor
	   */
	  constructor() {
	    Utils.bindAll(this);

	    // Check if the overlay doesn't exist and add it
	    this.overlay = PrimeDocument.queryById('prime-overlay');
	    if (this.overlay === null) {
	      this.overlay = PrimeDocument.newElement('<div/>').setId('prime-overlay').appendTo(document.body).hide();
	    }
	    this.bodyOverflow = null;
	  }

	  /**
	   * Return the instance of the Overlay widget
	   * @returns {Overlay}
	   */
	  static get instance() {
	    return instance;
	  }

	  /**
	   * Set the instance value of the Overlay instance
	   * @param  value {Overlay}
	   */
	  static set instance(value) {
	    instance = value;
	  }

	  /**
	   * Closes the overlay and the target element.
	   */
	  close() {
	    // using null ensures that if this style is not defined, we'll remove it when we're done
	    let overflowStyle = this.bodyOverflow || '';
	    PrimeDocument.bodyElement.setStyle('overflow', overflowStyle);
	    this.overlay.setStyle('zIndex', '10');
	    this.overlay.hide();
	    return this;
	  }

	  /**
	   * Opens the overlay and positions the element over it.
	   * @param zIndex {Number|string}
	   */
	  open(zIndex) {
	    if (this.bodyOverflow === null) {
	      this.bodyOverflow = PrimeDocument.bodyElement.getStyle('overflow');
	    }
	    PrimeDocument.bodyElement.setStyle('overflow', 'hidden');
	    this.overlay.show();

	    // Set the z-index of this dialog and the overlay
	    this.overlay.setStyle('zIndex', zIndex.toString());
	    return this;
	  }

	  /**
	   * Changes the id of the Overlay element.
	   *
	   * @param id {string} The new id.
	   * @returns {Overlay}
	   */
	  setId(id) {
	    this.overlay.setId(id);
	    return this;
	  }

	  /**
	   * Updates the zindex of the overlay.
	   *
	   * @param zIndex {string|number} The new zIndex.
	   */
	  setZIndex(zIndex) {
	    this.overlay.setStyle('zIndex', zIndex.toString());
	    return this;
	  }
	}

	PrimeDocument.onReady(function() {
	  Overlay.instance = new Overlay();
	});

	/*
	 * Copyright (c) 2014-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class PrimeRequest {
	  /**
	   * Makes a new AJAX request.
	   *
	   * @constructor
	   * @param {string} [url] The URL to call. This can be left out for sub-classing but should otherwise be provided.
	   * @param {string} [method=GET] The HTTP method to use. You can specify GET, POST, PUT, DELETE, HEAD, SEARCH, etc.
	   */
	  constructor(url, method) {
	    Utils.bindAll(this);
	    this.xhr = new XMLHttpRequest();
	    this.async = true;
	    this.body = null;
	    this.queryParams = null;
	    this.contentType = null;
	    this.inProgress = null;
	    this.errorHandler = this.onError;
	    this.headers = {};
	    this.loadingHandler = this.onLoading;
	    this.method = method || 'GET';
	    this.openHandler = this.onOpen;
	    this.password = null;
	    this.sendHandler = this.onSend;
	    this.successHandler = this.onSuccess;
	    this.unsetHandler = this.onUnset;
	    this.url = url;
	    this.username = null;
	  }

	  /**
	   * Changes the URL to call.
	   *
	   * @param {string} url The new URL to call.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  forURL(url) {
	    this.url = url;
	    return this;
	  }

	  /**
	   * Invokes the AJAX request. If the URL is not set, this throws an exception.
	   *
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  go() {
	    if (!this.url) {
	      throw new TypeError('No URL set for AJAX request');
	    }

	    let requestUrl = this.url;
	    if ((this.method === 'GET' || this.method === 'DELETE') && this.queryParams !== null) {
	      if (requestUrl.indexOf('?') === -1) {
	        requestUrl += '?' + this.queryParams;
	      } else {
	        requestUrl += '&' + this.queryParams;
	      }
	    }

	    if (this.async) {
	      if (this.inProgress !== null) {
	        this.inProgress.open();
	      }

	      this.xhr.onreadystatechange = this._handler.bind(this);
	    }

	    this.xhr.open(this.method, requestUrl, this.async, this.username, this.password);

	    if (Object.keys(this.headers).length > 0) {
	      for (let key in this.headers) {
	        if (this.headers.hasOwnProperty(key)) {
	          this.xhr.setRequestHeader(key, this.headers[key]);
	        }
	      }
	    }

	    if (this.contentType) {
	      this.xhr.setRequestHeader('Content-Type', this.contentType);
	    }

	    this.xhr.send(this.body);

	    return this;
	  }

	  /**
	   * Default handler for the "completed" state and an HTTP response status of anything but 2xx. Sub-classes can override
	   * this handler or you can pass in a handler function to the {@link #withUnsetHandler}.
	   *
	   * @param {XMLHttpRequest} xhr The XMLHttpRequest object.
	   */
	  onError(xhr) {
	  }

	  /**
	   * Default handler for the "loading" state. Sub-classes can override this handler or you can pass in a handler function
	   * to the {@link #withLoadingHandler}.
	   *
	   * @param {XMLHttpRequest} xhr The XMLHttpRequest object.
	   */
	  onLoading(xhr) {
	  }

	  /**
	   * Default handler for the "open" state. Sub-classes can override this handler or you can pass in a handler function
	   * to the {@link #withOpenHandler}.
	   *
	   * @param {XMLHttpRequest} xhr The XMLHttpRequest object.
	   */
	  onOpen(xhr) {
	  }

	  /**
	   * Default handler for the "send" state. Sub-classes can override this handler or you can pass in a handler function
	   * to the {@link #withSendHandler}.
	   *
	   * @param {XMLHttpRequest} xhr The XMLHttpRequest object.
	   */
	  onSend(xhr) {
	  }

	  /**
	   * Default handler for the "complete" state and an HTTP response status of 2xx. Sub-classes can override this handler
	   * or you can pass in a handler function to the {@link #withUnsetHandler}.
	   *
	   * @param {XMLHttpRequest} xhr The XMLHttpRequest object.
	   */
	  onSuccess(xhr) {
	  }

	  /**
	   * Default handler for the "unset" state. Sub-classes can override this handler or you can pass in a handler function
	   * to the {@link #withUnsetHandler}.
	   *
	   * @param {XMLHttpRequest} xhr The XMLHttpRequest object.
	   */
	  onUnset(xhr) {
	  }

	  /**
	   * Sets the async flag to false.
	   *
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  synchronously() {
	    this.async = false;
	    return this;
	  }

	  /**
	   * Sets the method used to make the AJAX request.
	   *
	   * @param {string} method The HTTP method.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  usingMethod(method) {
	    this.method = method;
	    return this;
	  }

	  /**
	   * Sets the request body for the request.
	   *
	   * @param {string} body The request body.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withBody(body) {
	    this.body = body;
	    return this;
	  }

	  /**
	   * Sets the content type for the request.
	   *
	   * @param {string} contentType The contentType.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withContentType(contentType) {
	    this.contentType = contentType;
	    return this;
	  }

	  /**
	   * Sets the data object for the request. Will store the values for query parameters or post data depending on the
	   * method that is set.  If the method is a post or put, will also set content-type to x-www-form-urlencoded.
	   *
	   * @param {Object} data The data object.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withData(data) {
	    for (let prop in data) {
	      if (data.hasOwnProperty(prop)) {
	        if (this.method === 'PUT' || this.method === 'POST') {
	          this.body = this._addDataValue(this.body, prop, data[prop]);
	        } else {
	          this.queryParams = this._addDataValue(this.queryParams, prop, data[prop]);
	        }
	      }
	    }

	    if (this.method === "PUT" || this.method === "POST") {
	      this.contentType = 'application/x-www-form-urlencoded';
	    }
	    return this;
	  }

	  /**
	   * Sets the data for the request using the form fields in the given form element. Will store the values for query
	   * parameters or post data depending on the method that is set.  If the method is a post or put, will also set
	   * content-type to x-www-form-urlencoded.
	   *
	   * @param {PrimeElement|HTMLFormElement} form The form object.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withDataFromForm(form) {
	    let domElement = form;
	    if (form instanceof PrimeElement) {
	      domElement = form.domElement;
	    }

	    for (let i = 0; i < domElement.elements.length; i++) {
	      const primeElement = new PrimeElement(domElement.elements[i]);
	      if (primeElement.isDisabled() || !primeElement.isInput()) {
	        continue;
	      }

	      let type = primeElement.getAttribute('type');
	      if (type !== null) {
	        type = type.toLowerCase();
	      }

	      let values;
	      if (primeElement.getTagName() === 'SELECT') {
	        values = primeElement.getSelectedValues();
	      } else if ((type === 'radio' || type === 'checkbox') && !primeElement.isChecked()) {
	        continue;
	      } else {
	        values = primeElement.getValue();
	      }

	      const name = primeElement.domElement.name;
	      if (this.method === 'PUT' || this.method === 'POST') {
	        this.body = this._addDataValue(this.body, name, values);
	      } else {
	        this.queryParams = this._addDataValue(this.queryParams, name, values);
	      }
	    }

	    if (this.method === "PUT" || this.method === "POST") {
	      this.contentType = 'application/x-www-form-urlencoded';
	    }

	    return this;
	  }

	  /**
	   * Sets the handler to invoke when the state of the AJAX request is "complete" and the HTTP status in the response is
	   * not 2xx.
	   *
	   * @param {Function} func The handler function.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withErrorHandler(func) {
	    this.errorHandler = func;
	    return this;
	  }

	  /**
	   * Sets an InProgress object that will be called by this AJAX request.
	   *
	   * @param {InProgress} inProgress The InProgress object.
	   * @return {PrimeRequest} This.
	   */
	  withInProgress(inProgress) {
	    this.inProgress = inProgress;
	    return this;
	  }

	  /**
	   * Sets the body of the AJAX request to the string value of the provided JSON object. The content-type of the request
	   * will also be set to 'application/json'. The provided JSON object may be passed as a string or an object.
	   *
	   * @param {Object} json The JSON object.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withJSON(json) {
	    this.body = typeof(json) === String ? json : JSON.stringify(json);
	    this.contentType = 'application/json';
	    return this;
	  }

	  /**
	   * Sets the handler to invoke when the state of the AJAX request is "loading".
	   *
	   * @param {Function} func The handler function.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withLoadingHandler(func) {
	    this.loadingHandler = func;
	    return this;
	  }

	  /**
	   * Set the request headers using the key and value.
	   *
	   * @param {String} key The key name.
	   * @param {String} value The value.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withHeader(key, value) {
	    this.headers[key] = value;
	    return this;
	  }

	  /**
	   * Set the key value pairs provided as request headers.
	   *
	   * @param {Object} headers A map of key value pairs.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withHeaders(headers) {
	    for (let key in headers) {
	      if (headers.hasOwnProperty(key)) {
	        this.headers[key] = headers[key];
	      }
	    }
	    return this;
	  }

	  /**
	   * Sets the XMLHTTPRequest's response type field, which will control how the response is parsed.
	   *
	   * @param {string} responseType The response type.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withResponseType(responseType) {
	    this.xhr.responseType = responseType;
	    return this;
	  }

	  /**
	   * Sets the handler to invoke when the state of the AJAX request is "open".
	   *
	   * @param {Function} func The handler function.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withOpenHandler(func) {
	    this.openHandler = func;
	    return this;
	  }

	  /**
	   * Sets the handler to invoke when the state of the AJAX request is "send".
	   *
	   * @param {Function} func The handler function.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withSendHandler(func) {
	    this.sendHandler = func;
	    return this;
	  }

	  /**
	   * Sets the handler to invoke when the state of the AJAX request is "complete" and the HTTP status in the response is
	   * 2xx.
	   *
	   * @param {Function} func The handler function.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withSuccessHandler(func) {
	    this.successHandler = func;
	    return this;
	  }

	  /**
	   * Sets the handler to invoke when the state of the AJAX request is "unset".
	   *
	   * @param {Function} func The handler function.
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  withUnsetHandler(func) {
	    this.unsetHandler = func;
	    return this;
	  }

	  /**
	   * Resets the Request back to a base state (basically just the URL + method).  This can be
	   * useful if a component is going to make many requests to the same endpoint with different parameters.
	   *
	   * @returns {PrimeRequest} This PrimeRequest.
	   */
	  reset() {
	    this.queryParams = null;
	    this.data = null;
	    this.body = null;
	    this.contentType = null;
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private Methods
	   * ===================================================================================================================*/

	  // noinspection JSMethodCanBeStatic
	  /**
	   * Adds the given name-value pair to the given data String. If the value is an array, it adds multiple values for each
	   * piece. Otherwise, it assumes value is a String or can be converted to a String.
	   *
	   * @param {string} dataString The data String used to determine if an ampersand is necessary.
	   * @param {string} name The name of the name-value pair.
	   * @param {string|Array} value The value of the name-value pair.
	   * @returns {string} The new data string.
	   * @private
	   */
	  _addDataValue(dataString, name, value) {
	    let result = '';
	    if (value instanceof Array) {
	      for (let i = 0; i < value.length; i++) {
	        result += encodeURIComponent(name) + '=' + encodeURIComponent(value[i]);
	        if (i + 1 < value.length) {
	          result += '&';
	        }
	      }
	    } else {
	      result = encodeURIComponent(name) + '=' + encodeURIComponent(value);
	    }

	    if (dataString !== null && result !== '') {
	      result = dataString + '&' + result;
	    } else if (dataString !== null && result === '') {
	      result = dataString;
	    }

	    return result;
	  }

	  /**
	   * @private
	   */
	  _handler() {
	    if (this.xhr.readyState === 0) {
	      this.unsetHandler(this.xhr);
	    } else if (this.xhr.readyState === 1) {
	      this.openHandler(this.xhr);
	    } else if (this.xhr.readyState === 2) {
	      this.sendHandler(this.xhr);
	    } else if (this.xhr.readyState === 3) {
	      this.loadingHandler(this.xhr);
	    } else if (this.xhr.readyState === 4) {

	      // Call the InProgress before hand because the success handler might call another AJAX method that might open another InProgress
	      if (this.inProgress !== null) {
	        this.inProgress.close(function() {
	          if (this.xhr.status >= 200 && this.xhr.status <= 299) {
	            this.successHandler(this.xhr);
	          } else {
	            this.errorHandler(this.xhr);
	          }
	        }.bind(this));
	      } else {
	        if (this.xhr.status >= 200 && this.xhr.status <= 299) {
	          this.successHandler(this.xhr);
	        } else {
	          this.errorHandler(this.xhr);
	        }
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2012-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class PrimeWindow {
	  /**
	   * Attaches an event listener to the window, returning the handler proxy.
	   *
	   * @param {string} event The name of the event.
	   * @param {Function} listener The event handler.
	   * @returns {Window} The window object.
	   */
	  static addEventListener(event, listener) {
	    if (event.indexOf(':') === -1) {
	      window.eventListeners = window.eventListeners || {};
	      window.eventListeners[event] = window.eventListeners[event] || [];
	      window.eventListeners[event].push(listener);
	      if (window.addEventListener) {
	        window.addEventListener(event, listener, false);
	      } else if (window.attachEvent) {
	        window.attachEvent('on' + event, listener);
	      } else {
	        throw new TypeError('Unable to set event onto the window. Neither addEventListener nor attachEvent methods are available');
	      }
	    } else {
	      // Custom event
	      window.customEventListeners = window.customEventListeners || {};
	      window.customEventListeners[event] = window.customEventListeners[event] || [];
	      window.customEventListeners[event].push(listener);
	    }

	    return window;
	  }

	  /**
	   * Returns the inner height of the window. This includes only the rendering area and not the window chrome (toolbars,
	   * status bars, etc). If this method can't figure out the inner height, it throws an exception.
	   *
	   * @returns {number} The inner height of the window.
	   */
	  static getInnerHeight() {
	    if (typeof(window.innerHeight) === 'number') {
	      // Most browsers
	      return window.innerHeight;
	    } else if (document.documentElement && document.documentElement.clientHeight) {
	      // IE 6+ in 'standards compliant mode'
	      return document.documentElement.clientHeight;
	    } else if (document.body && document.body.clientHeight) {
	      // IE 4 compatible
	      return document.body.clientHeight;
	    }

	    throw new Error('Unable to determine inner height of the window');
	  }

	  /**
	   * Returns the inner width of the window. This includes only the rendering area and not the window chrome (toolbars,
	   * status bars, etc). If this method can't figure out the inner width, it throws an exception.
	   *
	   * @returns {number} The inner width of the window.
	   */
	  static getInnerWidth() {
	    if (typeof(window.innerWidth) === 'number') {
	      // Most browsers
	      return window.innerWidth;
	    } else if (document.documentElement && document.documentElement.clientWidth) {
	      // IE 6+ in 'standards compliant mode'
	      return document.documentElement.clientWidth;
	    } else if (document.body && document.body.clientWidth) {
	      // IE 4 compatible
	      return document.body.clientWidth;
	    }

	    throw new Error('Unable to determine inner width of the window');
	  }

	  /**
	   * Returns the number of pixels the Window is scrolled by.
	   *
	   * @returns {number} The number of pixels.
	   */
	  static getScrollTop() {
	    if (typeof(window.pageYOffset) === 'number') {
	      return window.pageYOffset;
	    } else if (document.body && document.body.scrollTop) {
	      return document.body.scrollTop;
	    } else if (document.documentElement && document.documentElement.scrollTop) {
	      return document.documentElement.scrollTop;
	    }

	    throw new Error('Unable to determine scrollTop of the window');
	  }
	}

	/*
	 * Copyright (c) 2015-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class Draggable {
	  /**
	   * Constructs a new Draggable object for the given element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for the Draggable widget.
	   * @param {string} [gripSelector=] gripSelector The optional selector to identify the 'grippy' part.
	   * @constructor
	   */
	  constructor(element, gripSelector) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this.offset = {};

	    if (!Utils.isDefined(gripSelector)) {
	      this.grip = this.element;
	    } else {
	      this.grip = this.element.queryFirst(gripSelector);
	      if (this.grip === null) {
	        throw Error('Unable to find an element using the provided selector [' + gripSelector + ']');
	      }
	    }
	  }

	  /**
	   * Destroys the Draggable Widget
	   */
	  destroy() {
	    this.element.removeClass('active');
	    this.element.setStyles(this.originalStyle);

	    this.grip.removeEventListener('mousedown', this._handleMouseDown);
	    PrimeDocument.removeEventListener('mousemove', this._handleMouseMove);
	    PrimeDocument.removeEventListener('mouseup', this._handleMouseUp);
	  }

	  /**
	   * Initializes the Draggable by attaching the event listeners.
	   *
	   * @returns {Draggable} This.
	   */
	  initialize() {
	    this.originalStyle = {
	      cursor: this.element.getStyle('cursor'),
	      zIndex: this.element.getStyle('zIndex')
	    };

	    this.grip.addEventListener('mousedown', this._handleMouseDown).setStyle('cursor', 'move');
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Handle Mouse Down Event
	   * @param {Event} event The mouse event.
	   * @private
	   */
	  _handleMouseDown(event) {
	    event.preventDefault();
	    this.element.addClass('active');

	    this.offset = {
	      zIndex: this.element.getStyle('zIndex'),
	      height: this.element.getOuterHeight(),
	      width: this.element.getOuterWidth(),
	      x: event.screenX,
	      y: event.screenY
	    };

	    this.element.setStyle('zIndex', this.offset.zIndex + 10);

	    // Remove old listeners
	    PrimeDocument.removeEventListener('mousemove', this._handleMouseMove);
	    PrimeDocument.removeEventListener('mouseup', this._handleMouseUp);

	    // Attach all the events
	    PrimeDocument.addEventListener('mousemove', this._handleMouseMove);
	    PrimeDocument.addEventListener('mouseup', this._handleMouseUp);
	  }

	  /**
	   * Handle the Mouse Move event for the body element.
	   *
	   * @param {Event} event The mouse event.
	   * @private
	   */
	  _handleMouseMove(event) {
	    const xDiff = event.screenX - this.offset.x;
	    const yDiff = event.screenY - this.offset.y;
	    this.offset.x = event.screenX;
	    this.offset.y = event.screenY;
	    this.element.setLeft(this.element.getLeft() + xDiff);
	    this.element.setTop(this.element.getTop() + yDiff);
	  }

	  /**
	   * Handle the Mouse Up event for this draggable widget.
	   * @private
	   */
	  _handleMouseUp() {
	    PrimeDocument.removeEventListener('mousemove', this._handleMouseMove);
	    PrimeDocument.removeEventListener('mouseup', this._handleMouseUp);
	    this.element.setStyle('zIndex', this.offset.zIndex);
	    this.element.removeClass('active');
	  }
	}

	/*
	 * Copyright (c) 2017-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class AJAXDialog {
	  /**
	   * Constructs a new dialog box, which is dynamically built and then populated with the HTML returned from an AJAX call.
	   *
	   * @constructor
	   */
	  constructor() {
	    Utils.bindAll(this);

	    this.draggable = null;
	    this.element = null;
	    this.initialized = false;
	    this._setInitialOptions();
	  }

	  /**
	   * Closes the dialog, destroys the HTML and updates or hides the overlay.
	   * @returns {AJAXDialog} This.
	   */
	  close() {
	    this.element.removeClass('open');
	    if (this.draggable !== null) {
	      this.draggable.destroy();
	      this.draggable = null;
	    }

	    setTimeout(function() {
	      this.element.removeFromDOM();
	      this.element = null;

	      const highestZIndex = this._determineZIndex();
	      if (highestZIndex !== 0) {
	        Overlay.instance.setZIndex(highestZIndex);
	      } else {
	        Overlay.instance.close();
	      }
	    }.bind(this), this.options.closeTimeout);

	    return this;
	  }

	  /**
	   * Destroys the dialog by calling the close function.
	   * @returns {AJAXDialog} This.
	   */
	  destroy() {
	    this.close();
	    return this;
	  }

	  /**
	   * Initializes the dialog.
	   * @returns {AJAXDialog} This.
	   */
	  initialize() {
	    return this;
	  }

	  /**
	   * Opens the dialog by making the AJAX GET request to the given URI and the opening then dialog.
	   *
	   * @param uri {string} The URI to make the AJAX GET request to.
	   * @returns {AJAXDialog} This.
	   */
	  open(uri) {
	    const request = this.options.ajaxRequest || new PrimeRequest(uri, 'GET');
	    request.withSuccessHandler(this._handleAJAXDialogResponse)
	        .withErrorHandler(this._handleAJAXDialogResponse)
	        .go();
	    return this;
	  }

	  /**
	   * Opens the dialog by making the AJAX POST request to the given URI with the given form and extra data (optional)
	   * and then opening the dialog.
	   *
	   * @param uri {string} The URI to make the AJAX POST request to.
	   * @param form {HTMLFormElement|PrimeElement} The Form element to retrieve the data from.
	   * @param extraData [extraData=] {object} (Optional) Extra data to send with the POST.
	   * @returns {AJAXDialog} This.
	   */
	  openPost(uri, form, extraData) {
	    new PrimeRequest(uri, 'POST')
	        .withDataFromForm(form)
	        .withData(extraData)
	        .withSuccessHandler(this._handleAJAXDialogResponse)
	        .go();
	    return this;
	  }

	  /**
	   * Updates the HTML contents of the dialog.
	   *
	   * @param html {String} The HTML.
	   * @returns {AJAXDialog} This.
	   */
	  setHTML(html) {
	    this.element.setHTML(html);
	    this._initializeDialog();
	    return this;
	  }

	  /**
	   * Sets any additional classes that should be on the dialog.
	   *
	   * @param classes {string} The list of additional classes.
	   * @returns {AJAXDialog} This.
	   */
	  withAdditionalClasses(classes) {
	    this.options.additionalClasses = classes;
	    return this;
	  }

	  /**
	   * Override the default Ajax Request used to open the dialog. This does not override the
	   * success and error handlers.
	   *
	   * @param request {PrimeRequest} The Ajax Request to use to open the dialog.
	   * @returns {AJAXDialog} This.
	   */
	  withAjaxRequest(request) {
	    this.options.ajaxRequest = request;
	    return this;
	  }

	  /**
	   * Sets the callback that is called after the dialog has been fetched and rendered.
	   *
	   * @param callback {function} The callback function.
	   * @returns {AJAXDialog} This.
	   */
	  withCallback(callback) {
	    this.options.callback = callback;
	    return this;
	  }

	  /**
	   * Sets the class name for the dialog element.
	   *
	   * @param className {string} The class name.
	   * @returns {AJAXDialog} This.
	   */
	  withClassName(className) {
	    if (className.indexOf(' ') !== -1) {
	      throw 'Invalid class name [' + className + ']. You can use the additionalClasses options to add more classes.';
	    }

	    this.options.className = className;
	    return this;
	  }

	  /**
	   * Sets the close button element selector that is used to setup the close button in the HTML that was returned from
	   * the server.
	   *
	   * @param selector {string} The element selector.
	   * @returns {AJAXDialog} This.
	   */
	  withCloseButtonElementSelector(selector) {
	    this.options.closeButtonElementSelector = selector;
	    return this;
	  }

	  /**
	   * Sets the timeout used in the close method to allow for transitions.
	   *
	   * @param timeout {int} The timeout.
	   * @returns {AJAXDialog} This.
	   */
	  withCloseTimeout(timeout) {
	    this.options.closeTimeout = timeout;
	    return this;
	  }

	  /**
	   * Sets the draggable element selector that is used for the DraggableWidget.
	   *
	   * @param selector {string} The element selector.
	   * @returns {AJAXDialog} This.
	   */
	  withDraggableButtonElementSelector(selector) {
	    this.options.draggableElementSelector = selector;
	    return this;
	  }

	  /**
	   * Sets an error callback for AJAX form handling. This is called after a failed form submission.
	   *
	   * @param callback {Function} The callback function. The callback function will called with two parameters,
	   *        the first is a reference this object, the second is the XMLHttpRequest object.
	   * @returns {AJAXDialog} This.
	   */
	  withFormErrorCallback(callback) {
	    this.options.formErrorCallback = callback;
	    return this;
	  }

	  /**
	   * Sets whether or not forms inside the dialog are handled via AJAX or not.
	   *
	   * @param enabled {boolean} The choice.
	   * @returns {AJAXDialog} This.
	   */
	  withFormHandling(enabled) {
	    this.options.formHandling = enabled;
	    return this;
	  }

	  /**
	   * Sets a pre-submit callback for AJAX form handling. This is called before the form is submitted.
	   *
	   * @param callback {Function} The callback function.
	   * @returns {AJAXDialog} This.
	   */
	  withFormPreSubmitCallback(callback) {
	    this.options.formPreSubmitCallback = callback;
	    return this;
	  }

	  /**
	   * Sets a success callback for AJAX form handling. This is called after a successful form submission.
	   *
	   * @param callback {Function} The callback function. The callback function will called with two parameters,
	   *        the first is a reference this object, the second is the XMLHttpRequest object.
	   * @returns {AJAXDialog} This.
	   */
	  withFormSuccessCallback(callback) {
	    this.options.formSuccessCallback = callback;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {AJAXDialog} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  _determineZIndex() {
	    let highestZIndex = 0;
	    PrimeDocument.query('.' + this.options.className).each(function(dialog) {
	      const zIndex = parseInt(dialog.getComputedStyle()['zIndex']);
	      if (dialog.isVisible() && zIndex > highestZIndex) {
	        highestZIndex = zIndex;
	      }
	    });
	    return highestZIndex;
	  }

	  _handleCloseClickEvent(event) {
	    Utils.stopEvent(event);
	    this.close();
	  }

	  _handleAJAXDialogResponse(xhr) {
	    this.element = PrimeDocument.newElement('<div/>', {class: this.options.className + ' ' + this.options.additionalClasses}).appendTo(document.body);
	    this.setHTML(xhr.responseText);
	  }

	  _handleAJAXFormError(xhr) {
	    this.setHTML(xhr.responseText);
	    this.form = this.element.queryFirst('form').addEventListener('submit', this._handleAJAXFormSubmit);

	    if (this.options.formErrorCallback !== null) {
	      this.options.formErrorCallback(this, xhr);
	    }

	    if (this.draggable !== null) {
	      this.draggable.destroy();
	    }

	    if (this.options.draggableElementSelector !== null && this.element.queryFirst(this.options.draggableElementSelector) !== null) {
	      this.draggable = new Draggable(this.element, this.options.draggableElementSelector).initialize();
	    }
	  }

	  _handleAJAXFormSuccess(xhr) {
	    if (this.options.formSuccessCallback !== null) {
	      this.options.formSuccessCallback(this, xhr);
	    } else {
	      const successURI = this.form.getDataSet()['ajaxSuccessUri'];
	      if (successURI !== undefined) {
	        window.location = successURI;
	      } else {
	        window.location.reload();
	      }
	    }
	  }

	  _handleAJAXFormSubmit(event) {
	    Utils.stopEvent(event);

	    if (this.options.formPreSubmitCallback !== null) {
	      this.options.formPreSubmitCallback(this);
	    }

	    new PrimeRequest(this.form.getAttribute('action'), this.form.getAttribute('method'))
	        .withDataFromForm(this.form)
	        .withSuccessHandler(this._handleAJAXFormSuccess)
	        .withErrorHandler(this._handleAJAXFormError)
	        .go();
	  }

	  _initializeDialog() {
	    this.element.query(this.options.closeButtonElementSelector).each(function(e) {
	      e.addEventListener('click', this._handleCloseClickEvent);
	    }.bind(this));

	    // Only set the z-index upon first open
	    if (!this.initialized) {
	      const highestZIndex = this._determineZIndex();
	      Overlay.instance.open(highestZIndex + this.options.zIndexOffset);
	      this.element.setStyle('zIndex', (highestZIndex + this.options.zIndexOffset + 10).toString());
	      this.element.addClass('open');
	    }

	    // Call the callback before positioning to ensure all changes to the dialog have been made
	    if (this.options.callback !== null) {
	      this.options.callback(this);
	    }

	    // Setup forms if enabled
	    if (this.options.formHandling) {
	      this.form = this.element.queryFirst('form').addEventListener('submit', this._handleAJAXFormSubmit);
	    }

	    // Only set the position of the dialog when we first open it, if someone calls setHTML on the dialog we are not resizing it.
	    if (!this.initialized) {
	      // Position the fixed dialog in the center of the screen
	      const windowHeight = PrimeWindow.getInnerHeight();
	      const dialogHeight = this.element.getHeight();
	      this.element.setTop(((windowHeight - dialogHeight) / 2) - 20);
	    }

	    if (this.options.draggableElementSelector !== null && this.element.queryFirst(this.options.draggableElementSelector) !== null) {
	      this.draggable = new Draggable(this.element, this.options.draggableElementSelector).initialize();
	    }

	    this.initialized = true;
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      additionalClasses: '',
	      ajaxRequest: null,
	      callback: null,
	      className: 'prime-dialog',
	      closeButtonElementSelector: '[data-dialog-role="close-button"]',
	      closeTimeout: 200,
	      draggableElementSelector: '[data-dialog-role="draggable"]',
	      formErrorCallback: null,
	      formHandling: false,
	      formPreSubmitCallback: null,
	      formSuccessCallback: null,
	      zIndexOffset: 1000
	    };
	  }
	}

	/*
	 * Copyright (c) 2013-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	/**
	 * @const {{Keys: {BACKSPACE: number, ENTER: number, ESCAPE: number, SPACE: number, TAB: number, LEFT_ARROW: number, UP_ARROW: number, RIGHT_ARROW: number, DOWN_ARROW: number, DELETE: number}} Events}
	 */
	const Events = {
	  Keys: {
	    BACKSPACE: 8,
	    ENTER: 13,
	    ESCAPE: 27,
	    SPACE: 32,
	    TAB: 9,
	    LEFT_ARROW: 37,
	    UP_ARROW: 38,
	    RIGHT_ARROW: 39,
	    DOWN_ARROW: 40,
	    DELETE: 46
	  }
	};

	/*
	 * Copyright (c) 2015-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	const PrimeDate = {
	  DAYS_IN_MONTH: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],

	  /**
	   * Return the hour in a 12-hour format. AM and PM are not communicated by the returned hour.
	   *
	   * @param date {Date} The date object to retrieve the hour from.
	   * @returns {Number} The hour of the day between 1 and 12.
	   */
	  getHourOfDay: function(date) {
	    return (date.getHours() + 24) % 12 || 12;
	  },

	  /**
	   * @param year The year.
	   * @returns {boolean} True if this is a leap year, otherwise false.
	   */
	  isLeapYear: function(year) {
	    return !((year % 4) || (!(year % 100) && (year % 400)));
	  },

	  /**
	   * Return the number of days in the month.
	   * @param year The year, the days in the month may change during a leap year.
	   * @param month The month.
	   * @returns {Number} The number of days in the month.
	   */
	  numberOfDaysInMonth: function(year, month) {
	    if (month === 1 && this.isLeapYear(year)) {
	      return 29;
	    } else {
	      return PrimeDate.DAYS_IN_MONTH[month];
	    }
	  },

	  /**
	   * Adds the given number of days to the given Date.
	   *
	   * @param date {Date} The date to add the days to.
	   * @param number {Number} The number of days to add.
	   */
	  plusDays: function(date, number) {
	    if (number === 0) {
	      return;
	    }

	    let newDate = date.getDate() + number;
	    let numberOfDaysInMonth = PrimeDate.numberOfDaysInMonth(date.getFullYear(), date.getMonth());

	    if (newDate > 0) {
	      while (newDate > numberOfDaysInMonth) {
	        PrimeDate.plusMonths(date, 1);
	        newDate = newDate - numberOfDaysInMonth;
	        numberOfDaysInMonth = PrimeDate.numberOfDaysInMonth(date.getFullYear(), date.getMonth());
	      }

	      date.setDate(newDate);
	    } else {
	      while (newDate <= 0) {
	        PrimeDate.plusMonths(date, -1);
	        numberOfDaysInMonth = PrimeDate.numberOfDaysInMonth(date.getFullYear(), date.getMonth());
	        newDate = newDate + numberOfDaysInMonth;
	      }

	      date.setDate(newDate);
	    }
	  },

	  /**
	   * Adds the given number of hours to the given Date. The number can be negative.
	   *
	   * @param date {Date} The date.
	   * @param number {Number} The number of hours to add.
	   */
	  plusHours: function(date, number) {
	    if (number === 0) {
	      return;
	    }

	    const deltaDays = parseInt(number / 24);
	    PrimeDate.plusDays(date, deltaDays);

	    const deltaHours = number % 24;
	    const newHour = date.getHours() + deltaHours;
	    if (newHour > 23) {
	      PrimeDate.plusDays(date, 1);
	      date.setHours(newHour - 24);
	    } else if (newHour < 0) {
	      PrimeDate.plusDays(date, -1);
	      date.setHours(24 + newHour);
	    } else {
	      date.setHours(newHour);
	    }
	  },

	  /**
	   * Adds the given number of minutes to the given Date. The number can be negative.
	   *
	   * @param date {Date} The date.
	   * @param number {Number} The number of minutes to add.
	   */
	  plusMinutes: function(date, number) {
	    if (number === 0) {
	      return;
	    }

	    const deltaHours = parseInt(number / 60);
	    PrimeDate.plusHours(date, deltaHours);

	    const deltaMinutes = number % 60;
	    const newMinute = date.getMinutes() + deltaMinutes;
	    if (newMinute > 60) {
	      PrimeDate.plusHours(date, 1);
	      date.setMinutes(newMinute - 60);
	    } else if (newMinute < 0) {
	      PrimeDate.plusHours(date, -1);
	      date.setMinutes(60 + newMinute);
	    } else {
	      date.setMinutes(newMinute);
	    }
	  },

	  /**
	   * Adds the given number of months to the given Date. The number can be negative.
	   *
	   * @param date {Date} The date.
	   * @param number {Number} The number of months to add.
	   */
	  plusMonths: function(date, number) {
	    if (number === 0) {
	      return;
	    }

	    let deltaYears = parseInt(number / 12);
	    let deltaMonths = number % 12;
	    let currentMonth = date.getMonth();
	    const newMonth = currentMonth + deltaMonths;
	    if (newMonth < 0) {
	      deltaYears--;
	      deltaMonths = newMonth;
	      currentMonth = 12;
	    } else if (newMonth >= 12) {
	      deltaYears++;
	      deltaMonths = newMonth - 12;
	      currentMonth = 0;
	    }

	    date.setYear(date.getFullYear() + deltaYears);
	    // If the day is 31 and you set month to 1 (February) it will adjust to March 3 (Feb 28 + 3)
	    const adjustedMonth = currentMonth + deltaMonths;
	    if (date.getDate() > this.DAYS_IN_MONTH[adjustedMonth]) {
	      date.setDate(this.DAYS_IN_MONTH[adjustedMonth]);
	    }
	    date.setMonth(adjustedMonth);
	  },

	  /**
	   * Adds the given number of seconds to the given Date. The number can be negative.
	   *
	   * @param date {Date} The date.
	   * @param number {Number} The number of seconds to add.
	   */
	  plusSeconds: function(date, number) {
	    if (number === 0) {
	      return;
	    }

	    const deltaMinutes = parseInt(number / 60);
	    PrimeDate.plusMinutes(date, deltaMinutes);

	    const deltaSeconds = number % 60;
	    const newSecond = date.getSeconds() + deltaSeconds;
	    if (newSecond > 60) {
	      PrimeDate.plusMinutes(date, 1);
	      date.setSeconds(newSecond - 60);
	    } else if (newSecond < 0) {
	      PrimeDate.plusMinutes(date, -1);
	      date.setSeconds(60 + newSecond);
	    } else {
	      date.setSeconds(newSecond);
	    }
	  },

	  /**
	   * Adds the given number of years to the given Date. The number can be negative.
	   *
	   * @param date {Date} The date.
	   * @param number {Number} The number of years to add.
	   */
	  plusYears: function(date, number) {
	    if (number === 0) {
	      return;
	    }

	    date.setFullYear(date.getFullYear() + number);
	  },

	  /**
	   * Return a string in simplified extended ISO format (ISO 8601) truncated to only return YYYY-MM-DD.
	   *
	   * For example: new Date(2015, 6, 4) --> 2015-07-04
	   *
	   * @param date {Date} The date.
	   * @returns {String} A date string in the format YYYY-MM-DD.
	   */
	  toDateOnlyISOString: function(date) {
	    if (date instanceof Date) {
	      return date.getFullYear()
	          + '-' + Utils.leftPadNumber(date.getMonth() + 1, 2)
	          + '-' + Utils.leftPadNumber(date.getDate(), 2);
	    }
	    throw TypeError('date parameter must be a Date object.');
	  }
	};

	/*
	 * Copyright (c) 2015-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	const SHORT_DAY_NAMES = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];
	const MONTHS = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
	const DATE_SEPARATOR = '/';
	const TIME_SEPARATOR = ':';
	const AM_PM = ['AM', 'PM'];

	class DateTimePicker {
	  /**
	   * Constructs a new DateTimePicker object for the given input element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for the DateTimePicker widget.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    if (!this.element.is('input')) {
	      throw new TypeError('You can only use DateTimePicker with an input element');
	    }

	    this.callback = null;
	    this.customFormatHandler = null;
	    this._setInitialOptions();
	  };

	  static get SHORT_DAY_NAMES() {
	    return SHORT_DAY_NAMES;
	  }

	  static get MONTHS() {
	    return MONTHS;
	  }

	  static get DATE_SEPARATOR() {
	    return DATE_SEPARATOR;
	  }

	  static get TIME_SEPARATOR() {
	    return TIME_SEPARATOR;
	  }

	  static get AM_PM() {
	    return AM_PM;
	  }

	  /**
	   * Closes the Date Picker widget.
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  close() {
	    this.datepicker.removeClass('open');

	    // Pause a bit to cancel focus event and allow transition to play
	    setTimeout(function() {
	      this.datepicker.hide();
	    }.bind(this), this.options.closeTimeout);
	    return this;
	  }

	  /**
	   * Closes the months select box.
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  closeMonthsSelect() {
	    this.months.removeClass('open');
	    setTimeout(function() {
	      this.months.hide();
	    }.bind(this), this.options.closeTimeout);
	    return this;
	  }

	  /**
	   * Closes the years select box.
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  closeYearsSelect() {
	    this.years.removeClass('open');
	    setTimeout(function() {
	      this.years.hide();
	    }.bind(this), this.options.closeTimeout);
	    return this;
	  }

	  /**
	   * Destroys the DateTimePicker Widget
	   */
	  destroy() {
	    this.datepicker.removeFromDOM();
	    this.element.removeEventListener('click', this._handleInputClick)
	        .removeEventListener('focus', this._handleInputClick)
	        .removeEventListener('keydown', this._handleInputKey);
	    PrimeDocument.removeEventListener('click', this._handleGlobalClick);
	    PrimeDocument.removeEventListener('keydown', this._handleGlobalKey);
	  }

	  /**
	   * Draws the calendar using the month and year from the given Date object.
	   *
	   * @param date {Date} The date to draw the calendar for.
	   * @return {DateTimePicker} This DateTimePicker.
	   */
	  drawCalendar(date) {
	    const month = date.getMonth();
	    const year = date.getFullYear();
	    const firstDay = new Date(year, month, 1);
	    const firstDayOfMonth = firstDay.getDay();
	    const daysInMonth = PrimeDate.numberOfDaysInMonth(year, month);
	    const used = firstDayOfMonth + daysInMonth;
	    const weeksInMonth = Math.ceil(used / 7);

	    let rows = '';
	    let startDay = 1;
	    for (let i = 0; i < weeksInMonth; i++) {
	      const startDayOfWeek = i === 0 ? firstDayOfMonth : 0;
	      rows += this._buildCalendarWeek(date, startDayOfWeek, startDay, daysInMonth);
	      startDay += 7 - startDayOfWeek; // increment by 7 adjusted by a week day of week offset
	    }

	    this.calendarBody.setHTML(rows);

	    // update data- attributes
	    this.monthDisplay.setDataAttribute('month', month);
	    this.yearDisplay.setDataAttribute('year', year);

	    // update text
	    this.monthDisplay.setTextContent(DateTimePicker.MONTHS[month]);
	    this.yearDisplay.setTextContent(year);

	    return this;
	  }

	  /**
	   * Rebuilds the entire widget using the date value. Even if the user has moved to a different month display, this will
	   * rebuild the table completely.
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  initialize() {
	    const value = this.element.getValue();
	    if (value === '' || value === null) {
	      this.date = new Date();
	    } else {
	      this.date = new Date(value);
	    }

	    const year = this.date.getUTCFullYear();
	    const timeSeparator = `<span>${DateTimePicker.TIME_SEPARATOR}</span>`;
	    const dateSeparator = `<span>${DateTimePicker.DATE_SEPARATOR}</span>`;
	    let html =
	        `<div class="${this.options.className }">
  <header>
    <span class="prev">&#9664;</span>
    <span class="month"></span>
    <span class="year"></span>
    <span class="next">&#9654;</span>
  </header>
  <table>
    <thead>
      <tr>
        <th>${DateTimePicker.SHORT_DAY_NAMES[0]}</th>
        <th>${DateTimePicker.SHORT_DAY_NAMES[1]}</th>
        <th>${DateTimePicker.SHORT_DAY_NAMES[2]}</th>
        <th>${DateTimePicker.SHORT_DAY_NAMES[3]}</th>
        <th>${DateTimePicker.SHORT_DAY_NAMES[4]}</th>
        <th>${DateTimePicker.SHORT_DAY_NAMES[5]}</th>
        <th>${DateTimePicker.SHORT_DAY_NAMES[6]}</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
  <div class="inputs">
    <div class="date">
      <input size="2" maxlength="2" type="text" name="month" autocomplete="off"/>${dateSeparator}
      <input size="2" maxlength="2" type="text" name="day" autocomplete="off"/>${dateSeparator}
      <input size="4" maxlength="4" type="text" name="year" autocomplete="off"/>
    </div>
    <div class="time">
      <input size="2" maxlength="2" type="text" name="hour" autocomplete="off"/>${timeSeparator}
      <input size="2" maxlength="2" type="text" name="minute" autocomplete="off"/>${timeSeparator}
      <input size="2" maxlength="2" type="text" name="second" autocomplete="off"/>
      <input size="2" maxlength="2" type="text" name="am_pm" autocomplete="off"/>
    </div>
  </div>
</div>`;
	    PrimeDocument.appendHTML(html);
	    this.datepicker = PrimeDocument.queryLast('.' + this.options.className).hide();
	    this.element.addEventListener('click', this._handleInputClick);
	    this.element.addEventListener('focus', this._handleInputClick);
	    this.element.addEventListener('keydown', this._handleInputKey);

	    this.calendarBody = this.datepicker.queryFirst('table tbody').addEventListener('click', this._handleDayClick);
	    this.monthDisplay = this.datepicker.queryFirst('header .month').addEventListener('click', this._handleMonthExpand);
	    this.yearDisplay = this.datepicker.queryFirst('header .year').addEventListener('click', this._handleYearExpand);

	    this.time = this.datepicker.queryFirst('.time');
	    this.inputs = this.datepicker.queryFirst('div.inputs');
	    this.hourInput = this.inputs.queryFirst('input[name=hour]').addEventListener('change', this._handleDateTimeChange).addEventListener('keydown', this._handleHourKey);
	    this.minuteInput = this.inputs.queryFirst('input[name=minute]').addEventListener('change', this._handleDateTimeChange).addEventListener('keydown', this._handleMinuteKey);
	    this.secondInput = this.inputs.queryFirst('input[name=second]').addEventListener('change', this._handleDateTimeChange).addEventListener('keydown', this._handleSecondKey);
	    this.ampmInput = this.inputs.queryFirst('input[name=am_pm]').addEventListener('keydown', this._handleAmPmKey);
	    this.monthInput = this.inputs.queryFirst('input[name=month]').setValue(this.date.getMonth() + 1).addEventListener('change', this._handleDateTimeChange).addEventListener('keydown', this._handleMonthKey);
	    this.dayInput = this.inputs.queryFirst('input[name=day]').setValue(this.date.getDate()).addEventListener('change', this._handleDateTimeChange).addEventListener('keydown', this._handleDayKey);
	    this.yearInput = this.inputs.queryFirst('input[name=year]').setValue(this.date.getFullYear()).addEventListener('change', this._handleDateTimeChange).addEventListener('keydown', this._handleYearKey);

	    this.datepicker.queryFirst('header .next').addEventListener('click', this._handleNextMonth);
	    this.datepicker.queryFirst('header .prev').addEventListener('click', this._handlePreviousMonth);

	    PrimeDocument.addEventListener('click', this._handleGlobalClick);
	    PrimeDocument.addEventListener('keydown', this._handleGlobalKey);

	    // Setup months dropdown
	    html = '<div class="months">';
	    for (let i = 0; i < DateTimePicker.MONTHS.length; i++) {
	      html += `<div data-month="${i}">${DateTimePicker.MONTHS[i]}</div>`;
	    }
	    html += '</div>';
	    this.datepicker.appendHTML(html);
	    this.months = this.datepicker.queryFirst('.months');
	    this.months.hide();
	    this.months.getChildren().each(function(month) {
	      month.addEventListener('click', function() {
	        this.setMonth(parseInt(month.getDataAttribute('month')));
	        this.closeMonthsSelect();
	      }.bind(this));
	    }.bind(this));

	    // Setup year dropdown
	    html = '<div class="years">';
	    const startYear = this.date.getFullYear() - 10;
	    const endYear = this.date.getFullYear() + 10;
	    for (let i = startYear; i < endYear; i++) {
	      html += `<div data-year="${i}">${i}</div>`;
	    }
	    html += '</div>';
	    this.datepicker.appendHTML(html);
	    this.years = this.datepicker.queryFirst('.years');
	    this.years.hide();
	    this.years.getChildren().each(function(year) {
	      year.addEventListener('click', function() {
	        this.setYear(parseInt(year.getDataAttribute('year')));
	        this.closeYearsSelect();
	      }.bind(this));
	    }.bind(this));

	    this._rebuild();

	    if (this.customFormatHandler !== null) {
	      this.element.setValue(this.customFormatHandler.call(null, this.date));
	    }

	    return this;
	  }

	  /**
	   * @returns {Date} Return the current value of the time picker.
	   */
	  getDate() {
	    return new Date(this.date.getTime());
	  }

	  /**
	   * Moves the DateTimePicker to the next month and redraws the calendar.
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  nextMonth() {
	    const newDate = new Date(this.date);
	    newDate.setDate(1); // Set the day to 1 to keep us from wrapping months on the 30 and 31st.
	    newDate.setMonth(parseInt(this.monthDisplay.getDataAttribute('month')));
	    newDate.setFullYear(parseInt(this.yearDisplay.getDataAttribute('year')));
	    PrimeDate.plusMonths(newDate, 1);
	    this.drawCalendar(newDate);
	    return this;
	  }

	  /**
	   * Opens the Date Picker widget.
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  open() {
	    this.datepicker.setLeft(this.element.getLeft());
	    this.datepicker.setTop(this.element.getAbsoluteTop() + this.element.getHeight() + 8);
	    this.datepicker.show();
	    this.datepicker.addClass('open');

	    const zIndex = this.element.getRelativeZIndex();
	    this.datepicker.setStyle('zIndex', zIndex + 10);
	    return this;
	  }

	  /**
	   * Opens the month select box.
	   */
	  openMonthSelect() {
	    this.closeYearsSelect();

	    this.months.setLeft(this.monthDisplay.getOffsetLeft() - 5);
	    this.months.setTop(this.monthDisplay.getOffsetTop() - 5);
	    this.months.setStyle('zIndex', this.monthDisplay.getRelativeZIndex() + 10);
	    this.months.show();
	    this.months.addClass('open');

	    const currentMonth = this.months.queryFirst('[data-month="' + this.date.getMonth() + '"]');
	    this.months.getChildren().each(function(month) {
	      month.removeClass('selected');
	    });
	    currentMonth.addClass('selected');
	  }

	  /**
	   * Opens the year select box.
	   */
	  openYearSelect() {
	    this.closeMonthsSelect();

	    this.years.setLeft(this.yearDisplay.getOffsetLeft() - 5);
	    this.years.setTop(this.yearDisplay.getOffsetTop() - 5);
	    this.years.setStyle('zIndex', this.yearDisplay.getRelativeZIndex() + 10);
	    this.years.show();
	    this.years.addClass('open');

	    const currentYear = this.years.queryFirst('[data-year="' + this.date.getFullYear() + '"]');
	    this.years.getChildren().each(function(year) {
	      year.removeClass('selected');
	    });
	    currentYear.addClass('selected');
	  }

	  /**
	   * Moves the DateTimePicker to the previous month and redraws the calendar.
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  previousMonth() {
	    const newDate = new Date(this.date);
	    newDate.setDate(1); // Set to 1 until month has been set
	    newDate.setMonth(parseInt(this.monthDisplay.getDataAttribute('month')));
	    newDate.setFullYear(parseInt(this.yearDisplay.getDataAttribute('year')));
	    PrimeDate.plusMonths(newDate, -1);
	    this.drawCalendar(newDate);
	    return this;
	  }

	  /**
	   * Sets the date of the DateTimePicker and redraws the calendar to the month for the date.
	   *
	   * @param {Date} newDate The new date.
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  setDate(newDate) {
	    this.date = newDate;

	    if (this.customFormatHandler !== null) {
	      this.element.setValue(this.customFormatHandler.call(null, this.date));
	    } else {
	      if (this.options.dateOnly) {
	        this.element.setValue(PrimeDate.toDateOnlyISOString(newDate));
	      } else {
	        this.element.setValue(newDate.toISOString());
	      }
	    }

	    this._rebuild();

	    if (this.callback !== null) {
	      this.callback(this);
	    }

	    return this;
	  }

	  /**
	   * @param {number} month The month. A 0 based number between 0 (January) and 11 (December).
	   * @returns {DateTimePicker}
	   */
	  setMonth(month) {
	    let currentYear = parseInt(this.yearDisplay.getDataAttribute('year'));
	    if (month < 0) {
	      month = 11;
	      currentYear--;
	    } else if (month > 11) {
	      currentYear++;
	      month = 0;
	    }

	    this.date.setMonth(month);
	    this.date.setYear(currentYear);
	    this.setDate(this.date);

	    return this;
	  }

	  /**
	   *
	   * @param {number} year The year.
	   * @returns {DateTimePicker}
	   */
	  setYear(year) {
	    this.yearDisplay.setDataAttribute('year', year);
	    this.yearDisplay.setTextContent(year);
	    this.date.setYear(year);
	    this.setDate(this.date);
	    return this;
	  }

	  /**
	   * Sets the callback handler that is called with the DateTimePicker's value is changed.
	   *
	   * @param callback {Function} The callback function.
	   * @return {DateTimePicker} This.
	   */
	  withCallback(callback) {
	    this.callback = callback;
	    return this;
	  }

	  /**
	   * Sets the class name for the main div of the date time picker.
	   *
	   * @param className {string} The class name.
	   * @returns {DateTimePicker} This.
	   */
	  withClassName(className) {
	    this.options.className = className;
	    return this;
	  }

	  /**
	   * Sets the timeout used in the close method to allow for transitions.
	   *
	   * @param timeout {int} The timeout.
	   * @returns {DateTimePicker}
	   */
	  withCloseTimeout(timeout) {
	    this.options.closeTimeout = timeout;
	    return this;
	  }

	  /**
	   * Sets a custom format handler responsible for formatting the date string that will be set into the input field.
	   * When not defined the default behavior will be used.
	   *
	   * @param formatHandler {Function} The handler function.
	   * @return {DateTimePicker} This.
	   */
	  withCustomFormatHandler(formatHandler) {
	    this.customFormatHandler = formatHandler;
	    return this;
	  }

	  /**
	   * Render the DateTimePicker w/out the time picker. Only the calendar will be displayed and the input field will be updated with date only.
	   *
	   *
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  withDateOnly() {
	    this.options.dateOnly = true;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {DateTimePicker} This DateTimePicker.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Build the HTML for a single calendar week.
	   *
	   * @param date {Date} The date to build the calendar week based on.
	   * @param startDayOfWeek {Number} The day of the week of this week begins. A 0 based number between 0 and 6.
	   * @param startDayOfMonth {Number} The day of the month this week begins. A number between 1 and 31.
	   * @param daysInMonth {Number} The number of days in this calendar month.
	   * @returns {string} The HTML for this week.
	   * @private
	   */
	  _buildCalendarWeek(date, startDayOfWeek, startDayOfMonth, daysInMonth) {
	    const daysInPreviousMonth = new Date(date.getFullYear(), date.getMonth(), 0).getDate();
	    let startDayOfPreviousMonth = daysInPreviousMonth - startDayOfWeek + 1;
	    let startDayOfNextMonth = 1;

	    let row = '<tr>';
	    let emptyColumns = 0;
	    const year = date.getFullYear();
	    const month = date.getMonth();

	    for (let i = 0; i < 7; i++) {
	      const dayOfWeek = startDayOfMonth + i;
	      // Days of the previous month
	      if (dayOfWeek <= startDayOfWeek) {
	        row += '<td><a class="inactive" href="#" data-year="' + year + '" data-month="' + (month - 1) + '" data-day="' + startDayOfPreviousMonth + '">' + startDayOfPreviousMonth + '</a></td>';
	        startDayOfPreviousMonth++;
	        emptyColumns++;
	      } else if (dayOfWeek > daysInMonth) {
	        // Days of the next month
	        row += '<td><a class="inactive" href="#" data-year="' + year + '" data-month="' + month + '" data-day="' + dayOfWeek + '">' + startDayOfNextMonth + '</a></td>';
	        startDayOfNextMonth++;
	      } else {
	        // Days in the current month
	        const day = dayOfWeek - emptyColumns;
	        const selected = this.date.getDate() === day && this.date.getMonth() === month;
	        row += '<td><a ' + (selected ? 'class="selected"' : '') + 'href="#" data-year="' + year + '" data-month="' + month + '" data-day="' + day + '">' + day + '</a></td>';
	      }
	    }

	    row += '</tr>';
	    return row;
	  }

	  // noinspection JSMethodCanBeStatic
	  /**
	   * Clamp the value between the minimum and maximum values.
	   *
	   * @param {Number} min the minimum number value.
	   * @param {Number} max The maximum number value.
	   * @param {Number} value The value to clamp.
	   * @returns {Number} The resulting value, either the min, max or actual value if not out of bounds.
	   * @private
	   */
	  _clamp(min, max, value) {
	    return Math.max(min, Math.min(value, max));
	  }

	  /**
	   * Handles when the AM/PM element is selected and the user hits a key. If the user hits A, this changes to AM. If the
	   * user hits P, this changes to PM. If the use hits the up or down arrows, this toggles between AM and PM.
	   *
	   * @param {KeyboardEvent} event The keyboard event.
	   * @private
	   */
	  _handleAmPmKey(event) {
	    if (event.keyCode === Events.Keys.TAB) {
	      Utils.stopEvent(event);
	      if (event.shiftKey) {
	        this.secondInput.domElement.setSelectionRange(0, this.secondInput.getValue().length);
	        this.secondInput.focus();
	      } else {
	        this.monthInput.domElement.setSelectionRange(0, this.monthInput.getValue().length);
	        this.monthInput.focus();
	      }
	      return;
	    }

	    // Decode the key event
	    const current = this.ampmInput.getValue();
	    if (event.keyCode === 65) {
	      // User hit A
	      if (current === DateTimePicker.AM_PM[1]) {
	        PrimeDate.plusHours(this.date, -12);
	      }
	    } else if (event.keyCode === 80) {
	      // User hit P
	      if (current === DateTimePicker.AM_PM[0]) {
	        PrimeDate.plusHours(this.date, 12);
	      }
	    } else if (event.keyCode === Events.Keys.UP_ARROW || event.keyCode === Events.Keys.DOWN_ARROW) {
	      // User hit up or down arrow
	      if (current === DateTimePicker.AM_PM[0]) {
	        PrimeDate.plusHours(this.date, 12);
	      } else if (current === DateTimePicker.AM_PM[1]) {
	        PrimeDate.plusHours(this.date, -12);
	      }
	    } else if (event.keyCode === Events.Keys.ENTER || event.keyCode === Events.Keys.ESCAPE) {
	      return;
	    }

	    this.setDate(this.date);
	    this.ampmInput.domElement.setSelectionRange(0, this.ampmInput.getValue().length);
	    Utils.stopEvent(event);
	  }

	  /**
	   * Handle date/time change events. This pulls the values from the 3 date fields and makes a new Date. Then it calls
	   * {@link #setDate(Date)}.
	   *
	   * @param {KeyboardEvent} event The keyboard event.
	   * @private
	   */
	  _handleDateTimeChange(event) {
	    Utils.stopEvent(event);
	    const newDate = new Date();
	    const hours = this._clamp(1, 12, parseInt(this.hourInput.getValue()));
	    if (this.ampmInput.getValue() === DateTimePicker.AM_PM[0]) {
	      if (hours === 12) {
	        newDate.setHours(0);
	      } else {
	        newDate.setHours(hours);
	      }
	    } else {
	      if (hours === 12) {
	        newDate.setHours(12);
	      } else {
	        newDate.setHours(hours + 12);
	      }
	    }

	    const seconds = this._clamp(0, 59, parseInt(this.secondInput.getValue()));
	    const minutes = this._clamp(0, 59, parseInt(this.minuteInput.getValue()));

	    newDate.setSeconds(seconds);
	    newDate.setMinutes(minutes);
	    newDate.setDate(1); // Set to 1 until month has been set
	    newDate.setMonth(parseInt(this.monthInput.getValue()) - 1);
	    newDate.setDate(parseInt(this.dayInput.getValue()));
	    newDate.setYear(parseInt(this.yearInput.getValue()));

	    this.setDate(newDate);
	  }

	  /**
	   * Handle the click on a day.
	   *
	   * @parameter {MouseEvent} event The click event.
	   * @private
	   */
	  _handleDayClick(event) {
	    Utils.stopEvent(event);
	    let dayElement = new PrimeElement(event.target);
	    if (!dayElement.is('a')) {
	      dayElement = dayElement.queryFirst('a');
	    }

	    const newDate = new Date(this.date);
	    newDate.setDate(1); // Set to 1 until month has been set
	    newDate.setFullYear(parseInt(dayElement.getDataAttribute('year')));
	    newDate.setMonth(parseInt(dayElement.getDataAttribute('month')));
	    newDate.setDate(parseInt(dayElement.getDataAttribute('day')));
	    this.setDate(newDate);
	  }

	  /**
	   * Handles when a key is click in the day input field so that tab and shift tab work properly.
	   * <p>
	   * Also handles up and down arrow to increment and decrement the day.
	   *
	   * @param {KeyboardEvent} event The key event.
	   * @private
	   */
	  _handleDayKey(event) {
	    if (event.keyCode === Events.Keys.UP_ARROW) {
	      PrimeDate.plusDays(this.date, 1);
	      this.setDate(this.date);
	      this.dayInput.domElement.setSelectionRange(0, this.dayInput.getValue().length);
	      Utils.stopEvent(event);
	    } else if (event.keyCode === Events.Keys.DOWN_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusDays(this.date, -1);
	      this.setDate(this.date);
	      this.dayInput.domElement.setSelectionRange(0, this.dayInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.ENTER) {
	      this.date.setDate(parseInt(this.dayInput.getValue()));
	    }
	  }

	  /**
	   * Handles a global click event. This determines if the click was outside of the DateTimePicker and closes it.
	   *
	   * @param {MouseEvent} event The click event.
	   * @private
	   */
	  _handleGlobalClick(event) {
	    // Skip this function completely if they clicked the input field
	    if (event.target === this.element.domElement) {
	      return;
	    }

	    const top = this.datepicker.getTop();
	    const bottom = this.datepicker.getBottom();
	    const left = this.datepicker.getLeft();
	    const right = this.datepicker.getRight();
	    if (this.datepicker.isVisible() && (event.x < left || event.x > right || event.y < top || event.y > bottom)) {
	      this.close();
	      this.closeYearsSelect();
	      this.closeMonthsSelect();
	    } else {
	      if (this.years.isVisible()) {
	        this.closeYearsSelect();
	      }
	      if (this.months.isVisible()) {
	        this.closeMonthsSelect();
	      }
	    }
	  }

	  /**
	   * Handles a global key event. This determines if the DateTimePicker is open and if enter or escape was hit.
	   *
	   * @param {KeyboardEvent} event The key event.
	   * @private
	   */
	  _handleGlobalKey(event) {
	    // Skip this function completely if the DateTimePicker isn't open
	    if (!this.datepicker.isVisible()) {
	      return;
	    }

	    if (event.keyCode === Events.Keys.ENTER) {
	      Utils.stopEvent(event);
	      this.setDate(this.date);
	      this.close();
	      this.element.focus();
	    } else if (event.keyCode === Events.Keys.ESCAPE) {
	      this.close();
	      this.element.focus();
	    }
	  }

	  /**
	   * Handles when a key is click in the hours input field so that tab and shift tab work properly.
	   * <p>
	   * Also handles up and down arrow to increment and decrement the hour.
	   *
	   * @param {KeyboardEvent} event The key event.
	   * @private
	   */
	  _handleHourKey(event) {
	    if (event.keyCode === Events.Keys.UP_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusHours(this.date, 1);
	      this.setDate(this.date);
	      this.hourInput.domElement.setSelectionRange(0, this.hourInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.DOWN_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusHours(this.date, -1);
	      this.setDate(this.date);
	      this.hourInput.domElement.setSelectionRange(0, this.hourInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.ENTER) {
	      this.date.setHours(parseInt(this.hourInput.getValue()));
	    }
	  }

	  /**
	   * Handle the click event for the input date field. If the DateTimePicker is hidden this will call the {@link #show()}
	   * function.
	   *
	   * @returns {boolean} Always true.
	   * @private
	   */
	  _handleInputClick() {
	    if (!this.datepicker.isVisible()) {
	      this.open();
	      this.monthInput.domElement.setSelectionRange(0, this.monthInput.getValue().length);
	      this.monthInput.focus();
	    }
	  }

	  /**
	   * Handle the key event for the input date field. If the user hits tab or shift-tab, this moves the focus to the
	   * nested inputs.
	   *
	   * @param {KeyboardEvent} event The keyboard event.
	   * @private
	   */
	  _handleInputKey(event) {
	    if (this.datepicker.isVisible() && event.keyCode === Events.Keys.TAB) {
	      Utils.stopEvent(event);
	      if (event.shiftKey) {
	        this.ampmInput.domElement.setSelectionRange(0, this.ampmInput.getValue().length);
	        this.ampmInput.focus();
	      } else {
	        this.monthInput.domElement.setSelectionRange(0, this.monthInput.getValue().length);
	        this.monthInput.focus();
	      }
	    }
	  }

	  /**
	   * Handle the key down event and capture the up and down arrow key to increment and decrement the minute.

	   * @param {KeyboardEvent} event The key event.
	   * @private
	   */
	  _handleMinuteKey(event) {
	    if (event.keyCode === Events.Keys.UP_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusMinutes(this.date, 1);
	      this.setDate(this.date);
	      this.minuteInput.domElement.setSelectionRange(0, this.minuteInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.DOWN_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusMinutes(this.date, -1);
	      this.setDate(this.date);
	      this.minuteInput.domElement.setSelectionRange(0, this.minuteInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.ENTER) {
	      this.date.setMinutes(parseInt(this.minuteInput.getValue()));
	    }
	  }

	  /**
	   * Handles the click on the month to open the month select.
	   *
	   * @private
	   */
	  _handleMonthExpand(event) {
	    Utils.stopEvent(event);
	    this.openMonthSelect();
	  }

	  /**
	   * Handles when a key is click in the month input field so that tab and shift tab work properly.
	   * <p>
	   * Also handles up and down arrow to increment and decrement the month.
	   *
	   * @param {KeyboardEvent} event The key event.
	   * @private
	   */
	  _handleMonthKey(event) {
	    if (event.keyCode === Events.Keys.TAB && event.shiftKey) {
	      Utils.stopEvent(event);
	      if (this.options.dateOnly) {
	        this.yearInput.domElement.setSelectionRange(0, this.yearInput.getValue().length);
	        this.yearInput.focus();
	      } else {
	        this.ampmInput.domElement.setSelectionRange(0, this.ampmInput.getValue().length);
	        this.ampmInput.focus();
	      }
	      return;
	    }

	    if (event.keyCode === Events.Keys.UP_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusMonths(this.date, 1);
	      this.setDate(this.date);
	      this.monthInput.domElement.setSelectionRange(0, this.monthInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.DOWN_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusMonths(this.date, -1);
	      this.setDate(this.date);
	      this.monthInput.domElement.setSelectionRange(0, this.monthInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.ENTER) {
	      this.date.setMonth(parseInt(this.monthInput.getValue()) - 1);
	    }
	  }

	  /**
	   * Handle the next month button click.
	   *
	   * @param {MouseEvent} event The mouse event.
	   * @private
	   */
	  _handleNextMonth(event) {
	    Utils.stopEvent(event);
	    this.nextMonth();
	  }

	  /**
	   * Handle the previous month button click.
	   *
	   * @param {MouseEvent} event The mouse event.
	   * @private
	   */
	  _handlePreviousMonth(event) {
	    Utils.stopEvent(event);
	    this.previousMonth();
	  }

	  /**
	   * Handle the key down event and capture the up and down arrow key to increment and decrement the second.

	   * @param {KeyboardEvent} event The key event.
	   * @private
	   */
	  _handleSecondKey(event) {
	    if (event.keyCode === Events.Keys.UP_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusSeconds(this.date, 1);
	      this.setDate(this.date);
	      this.secondInput.domElement.setSelectionRange(0, this.secondInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.DOWN_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusSeconds(this.date, -1);
	      this.setDate(this.date);
	      this.secondInput.domElement.setSelectionRange(0, this.secondInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.ENTER) {
	      this.date.setSeconds(parseInt(this.secondInput.getValue()));
	    }
	  }

	  /**
	   * Handles the click on the year to open the year select.
	   *
	   * @private
	   */
	  _handleYearExpand(event) {
	    Utils.stopEvent(event);
	    this.openYearSelect();
	  }

	  /**
	   * Handles when a key is click in the year input field so that tab and shift tab work properly.
	   * <p>
	   * Also handles up and down arrow to increment and decrement the year.
	   *
	   * @param {KeyboardEvent} event The key event.
	   * @private
	   */
	  _handleYearKey(event) {
	    if (event.keyCode === Events.Keys.UP_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusYears(this.date, 1);
	      this.setDate(this.date);
	      this.yearInput.domElement.setSelectionRange(0, this.yearInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.DOWN_ARROW) {
	      Utils.stopEvent(event);
	      PrimeDate.plusYears(this.date, -1);
	      this.setDate(this.date);
	      this.yearInput.domElement.setSelectionRange(0, this.yearInput.getValue().length);
	    } else if (event.keyCode === Events.Keys.TAB && this.options.dateOnly) {
	      Utils.stopEvent(event);
	      if (event.shiftKey) {
	        this.dayInput.domElement.setSelectionRange(0, this.dayInput.getValue().length);
	        this.dayInput.focus();
	      } else {
	        this.monthInput.domElement.setSelectionRange(0, this.monthInput.getValue().length);
	        this.monthInput.focus();
	      }
	    } else if (event.keyCode === Events.Keys.ENTER) {
	      this.date.setFullYear(parseInt(this.yearInput.getValue()));
	    }
	  }

	  /**
	   * Rebuilds the HTML of the DateTimePicker.
	   * @private
	   */
	  _rebuild() {
	    this.drawCalendar(this.date);
	    this._refreshInputs();

	    if (this.options.dateOnly) {
	      this.time.hide();
	    }
	  }

	  /**
	   * Refresh the time inputs.
	   *
	   * @private
	   */
	  _refreshInputs() {
	    // Set Time -- assuming 12-hour time for the input fields and ISO 24-hour time for the field
	    const hours = PrimeDate.getHourOfDay(this.date);
	    this.hourInput.setValue(hours);

	    const minutes = this.date.getMinutes();
	    this.minuteInput.setValue(("00" + minutes).slice(-2));

	    const seconds = this.date.getSeconds();
	    this.secondInput.setValue(("00" + seconds).slice(-2));

	    if (this.date.getHours() >= 12) {
	      this.ampmInput.setValue(DateTimePicker.AM_PM[1]);
	    } else {
	      this.ampmInput.setValue(DateTimePicker.AM_PM[0]);
	    }

	    this.monthInput.setValue(this.date.getMonth() + 1);
	    this.dayInput.setValue(this.date.getDate());
	    this.yearInput.setValue(this.date.getFullYear());
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      className: 'prime-date-picker',
	      closeTimeout: 200,
	      dateOnly: false
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class Dismissable {
	  /**
	   * Constructs a new Dismissable object for the given element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Element for the Dismissable widget.
	   * @param {PrimeElement|Element|EventTarget} dismissButton The Element for the Dismissable button.
	   * @constructor
	   */
	  constructor(element, dismissButton) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this.dismissButton = dismissButton;
	    this._setInitialOptions();
	  }

	  /**
	   * Closes the Dismissable by removing the open class from the element and setting a timer to remove the element from
	   * the DOM.
	   */
	  close() {
	    this.element.addClass('closed');
	    setTimeout(function() {
	      this.element.removeFromDOM();
	    }.bind(this), this.options.closeTimeout);
	  }

	  /**
	   * Destroys the widget.
	   */
	  destroy() {
	    this.dismissButton.removeEventListener('click', this._handleClick);
	  }

	  /**
	   * Initializes the Dismissable by binding the events to the dismiss button.
	   *
	   * @returns {Dismissable} This.
	   */
	  initialize() {
	    this.dismissButton.addEventListener('click', this._handleClick);
	    return this;
	  }

	  /**
	   * Sets the timeout used in the close method to allow for transitions.
	   *
	   * @param timeout {int} The timeout.
	   * @returns {Dismissable} This.
	   */
	  withCloseTimeout(timeout) {
	    this.options.closeTimeout = timeout;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {Dismissable} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Handles the click event.
	   * @private
	   */
	  _handleClick(event) {
	    Utils.stopEvent(event);
	    this.close();
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      closeTimeout: 400
	    };
	  }
	}

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class HTMLDialog {
	  /**
	   * Constructs a new dialog box from an element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for the HTMLDialog widget.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this._setInitialOptions();
	    this.draggable = null;
	  }

	  /**
	   * Closes the dialog, destroys the HTML and updates or hides the overlay.
	   * @returns {HTMLDialog} This.
	   */
	  close() {
	    this.element.removeClass('open');
	    if (this.draggable !== null) {
	      this.draggable.destroy();
	      this.draggable = null;
	    }

	    setTimeout(function() {
	      this.element.hide();

	      const highestZIndex = this._determineZIndex();
	      if (highestZIndex !== 0) {
	        Overlay.instance.setZIndex(highestZIndex);
	      } else {
	        Overlay.instance.close();
	      }
	    }.bind(this), this.options.closeTimeout);

	    return this;
	  }

	  /**
	   * Destroys the dialog by calling the close function.
	   * @returns {HTMLDialog} This.
	   */
	  destroy() {
	    this.close();
	    return this;
	  }

	  /**
	   * Initializes the dialog.
	   * @returns {HTMLDialog} This.
	   */
	  initialize() {
	    this.element.hide();
	    return this;
	  }

	  /**
	   * Opens the dialog.
	   *
	   * @returns {HTMLDialog} This.
	   */
	  open() {
	    const highestZIndex = this._determineZIndex();
	    Overlay.instance.open(highestZIndex + this.options.zIndexOffset);
	    this.element.setStyle('zIndex', (highestZIndex + this.options.zIndexOffset + 10).toString());
	    this.element.show();
	    this.element.addClass('open');

	    // Call the callback before positioning to ensure all changes to the dialog have been made
	    if (this.options.callback !== null) {
	      this.options.callback(this);
	    }

	    // Position the fixed dialog in the center of the screen
	    const windowHeight = PrimeWindow.getInnerHeight();
	    const dialogHeight = this.element.getHeight();
	    this.element.setTop(((windowHeight - dialogHeight) / 2) - 20);

	    this._setupButtons();

	    if (this.draggable === null) {
	      if (this.options.draggableElementSelector !== null && this.element.queryFirst(this.options.draggableElementSelector) !== null) {
	        this.draggable = new Draggable(this.element, this.options.draggableElementSelector).initialize();
	      }
	    }

	    return this;
	  }

	  /**
	   * Updates the HTML contents of the dialog.
	   *
	   * @param html {String} The HTML.
	   * @returns {HTMLDialog} This.
	   */
	  setHTML(html) {
	    this.element.setHTML(html);
	    this._setupButtons();
	    return this;
	  }

	  /**
	   * Sets the callback that is called after the dialog has been fetched and rendered.
	   *
	   * @param callback {function} The callback function.
	   * @returns {HTMLDialog} This.
	   */
	  withCallback(callback) {
	    this.options.callback = callback;
	    return this;
	  }

	  /**
	   * Sets the class name for the dialog element.
	   *
	   * @param className {string} The class name.
	   * @returns {HTMLDialog} This.
	   */
	  withClassName(className) {
	    this.options.className = className;
	    return this;
	  }

	  /**
	   * Sets the close button element selector that is used to setup the close button in the HTML that was returned from
	   * the server.
	   *
	   * @param selector {string} The element selector.
	   * @returns {HTMLDialog} This.
	   */
	  withCloseButtonElementSelector(selector) {
	    this.options.closeButtonElementSelector = selector;
	    return this;
	  }

	  /**
	   * Sets the timeout used in the close method to allow for transitions.
	   *
	   * @param timeout {int} The timeout.
	   * @returns {HTMLDialog} This.
	   */
	  withCloseTimeout(timeout) {
	    this.options.closeTimeout = timeout;
	    return this;
	  }

	  /**
	   * Sets the draggable element selector that is used for the Draggable.
	   *
	   * @param selector {string} The element selector.
	   * @returns {HTMLDialog} This.
	   */
	  withDraggableButtonElementSelector(selector) {
	    this.options.draggableElementSelector = selector;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {HTMLDialog} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  _determineZIndex() {
	    let highestZIndex = 0;
	    PrimeDocument.query('.' + this.options.className).each(function(dialog) {
	      const zIndex = parseInt(dialog.getComputedStyle()['zIndex']);
	      if (dialog.isVisible() && zIndex > highestZIndex) {
	        highestZIndex = zIndex;
	      }
	    });
	    return highestZIndex;
	  }

	  _handleCloseClickEvent(event) {
	    Utils.stopEvent(event);
	    this.close();
	  }

	  _setupButtons() {
	    this.element.query(this.options.closeButtonElementSelector).each(function(e) {
	      e.addEventListener('click', this._handleCloseClickEvent);
	    }.bind(this));
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      callback: null,
	      className: 'prime-dialog',
	      closeButtonElementSelector: '[data-dialog-role="close-button"]',
	      closeTimeout: 200,
	      draggableElementSelector: '[data-dialog-role="draggable"]',
	      zIndexOffset: 1000
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class InProgress {
	  /**
	   * Constructs a In Progress widget that opens an overlay over an element while something is running and closes it when
	   * it finishes.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element to overlay.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this._setInitialOptions();
	    this.draggable = null;
	  }

	  /**
	   * Closes the InProgress process.
	   *
	   * @param {Function} callback (Optional) A callback function to invoke after the InProgress has been completely closed.
	   */
	  close(callback) {
	    try {
	      this.options.endFunction(this);
	    } finally {
	      const now = new Date().getTime();
	      const duration = now - this.startInstant;
	      if (duration < this.options.minimumTime) {
	        setTimeout(function() {
	          this.overlay.removeFromDOM();

	          if (callback) {
	            callback();
	          }
	        }.bind(this), this.options.minimumTime - duration);
	      } else {
	        this.overlay.removeFromDOM();

	        if (callback) {
	          callback();
	        }
	      }
	    }

	    return this;
	  }

	  /**
	   * Opens the InProgress process.
	   */
	  open() {
	    this.startInstant = new Date().getTime();
	    this.overlay = PrimeDocument.newElement('<div/>').setId('prime-in-progress-overlay').appendTo(document.body);
	    PrimeDocument.newElement('<i/>', {class: 'fa fa-spin fa-' + this.options.iconName}).appendTo(this.overlay);

	    const coords = this.element.getCoordinates();
	    const bodyCoords = PrimeDocument.bodyElement.getCoordinates();
	    this.overlay.setTop(coords.top - bodyCoords.top);
	    this.overlay.setLeft(coords.left - bodyCoords.left);
	    this.overlay.setWidth(this.element.getBorderedWidth());
	    this.overlay.setHeight(this.element.getBorderedHeight());
	    this.overlay.setStyle('zIndex', (this.element.getRelativeZIndex() + 1000).toString());

	    this.options.startFunction(this);

	    return this;
	  }

	  /**
	   * Sets the end function that is called when the InProgress process is finished.
	   *
	   * @param f {function} The function.
	   * @returns {InProgress} This.
	   */
	  withEndFunction(f) {
	    this.options.endFunction = f;
	    return this;
	  }

	  /**
	   * Sets the FontAwesome icon name to use for the overlay.
	   *
	   * @param iconName {string} The icon name.
	   * @returns {InProgress} This.
	   */
	  withIconName(iconName) {
	    this.options.iconName = iconName;
	    return this;
	  }

	  /**
	   * Sets the minimum time that the InProgress process must run.
	   *
	   * @param time {number} The time in milliseconds.
	   * @returns {InProgress} This.
	   */
	  withMinimumTime(time) {
	    this.options.minimumTime = time;
	    return this;
	  }

	  /**
	   * Sets the start function that is called when the InProgress process is started.
	   *
	   * @param f {function} The function.
	   * @returns {InProgress} This.
	   */
	  withStartFunction(f) {
	    this.options.startFunction = f;
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      endFunction: function() {
	      },
	      iconName: 'refresh',
	      minimumTime: 1000,
	      startFunction: function() {
	      }
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2014-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class Searcher {
	  /**
	   * Constructs a Searcher object for the given text input.
	   *
	   * The Searcher object can be attached and used in conjunction with any other widgets in a generic manner. It
	   * provides search capabilities and manages the search results. This is useful for MultipleSelects, IntelliSense and
	   * other widgets. Here's the HTML for the search results.
	   *
	   * <pre>
	   *   &lt;input type="text" class="prime-search-result-input" value="F"/>
	   *   &lt;ul>
	   *     &lt;li>Four&lt;/li>
	   *     &lt;li>Five&lt;/li>
	   *     &lt;li>Fifteen&lt;/li>
	   *     &lt;li>Add Custom Entry: F/li>
	   *   &lt;/ul>
	   * &lt;/div>
	   * </pre>
	   *
	   * The with* methods can be used to setup the configuration for this SearchResults, but here are some defaults:
	   *
	   * <ul>
	   *   <li>closeTimeout = 200</li>
	   *   <li>customAddEnabled = true</li>
	   *   <li>customAddCallback = function(customValue){return true;}</li>
	   *   <li>customAddLabel = "Add Custom:"</li>
	   *   <li>tooManySearchResultsLabel = "Too Many Matches For:"</li>
	   *   <li>noSearchResultsLabel = "No Matches For:"</li>
	   * </ul>
	   *
	   * The callback object must conform to this interface:
	   *
	   * <pre>
	   *   CallbackObject {
	 *     void deletedBeyondSearchInput()
	 *     void doesNotContainValue()
	 *     object{results:Array, tooManyResults:boolean} search(_searchString:string),
	 *     void selectSearchResult(selectedSearchResult:string),
	 *   }
	   * </pre>
	   *
	   * @constructor
	   * @param {PrimeElement|Element|EventTarget} inputElement The input element that is used to execute the search.
	   * @param {PrimeElement|Element|EventTarget} searchResultsContainer The element that is used to store the search results.
	   * @param {*} callbackObject The object that is used to callback for searching and numerous other functions to help
	   *            communicate state and determine how to draw the input and search results.
	   */
	  constructor(inputElement, searchResultsContainer, callbackObject) {
	    Utils.bindAll(this);

	    this.searchResults = PrimeElement.wrap(searchResultsContainer);
	    this.inputElement = PrimeElement.wrap(inputElement);
	    if (this.inputElement.domElement.tagName !== 'INPUT') {
	      throw new TypeError('You can only use Prime.Widgets.SearchResults with INPUT elements');
	    }

	    this._setInitialOptions(callbackObject);
	  }

	  /**
	   * A search function that works on a select box.
	   *
	   * @param searchText {String} The search String.
	   * @param select {HTMLSelectElement|PrimeElement} The select box.
	   * @returns {{results: Array, tooManyResults: boolean}}
	   */
	  static selectSearchFunction(searchText, select) {
	    const options = PrimeElement.unwrap(select).options;
	    const selectableOptions = [];
	    for (let i = 0; i < options.length; i++) {
	      const option = new PrimeElement(options[i]);
	      if (option.isSelected()) {
	        continue;
	      }

	      const html = option.getHTML();
	      if (searchText === null || searchText === undefined || searchText === '' || html.toLowerCase().indexOf(searchText.toLowerCase()) === 0) {
	        selectableOptions.push(html);
	      }
	    }

	    // Alphabetize the options
	    if (selectableOptions.length > 0) {
	      selectableOptions.sort();
	    }

	    return {results: selectableOptions, tooManyResults: false};
	  }

	  /**
	   * Closes the search results display, unhighlights any options that are highlighted and resets the input's value to
	   * empty string.
	   */
	  closeSearchResults() {
	    this._removeAllSearchResults();
	    this.inputElement.setValue('');
	    this.searchResults.removeClass('open');
	    setTimeout(function() {
	      this.searchResults.hide();
	      this.resizeInput();
	    }.bind(this), this.options.closeTimeout);
	  }

	  /**
	   * Removes all of the event listeners from the input element.
	   */
	  destroy() {
	    this.inputElement
	        .removeEventListener('blur', this._handleBlurEvent)
	        .removeEventListener('click', this._handleClickEvent)
	        .removeEventListener('keyup', this._handleKeyUpEvent)
	        .removeEventListener('keydown', this._handleKeyDownEvent)
	        .removeEventListener('focus', this._handleFocusEvent);
	  }

	  focus() {
	    this.inputElement.focus();
	  }

	  /**
	   * @returns {PrimeElement} The highlighted search result or null.
	   */
	  getHighlightedSearchResult() {
	    return this.searchResults.queryFirst('.selected');
	  }

	  /**
	   * Highlights the next search result if one is highlighted. If there isn't a highlighted search result, this
	   * highlights the first one. This method handles wrapping.
	   *
	   * @returns {Searcher} This Searcher.
	   */
	  highlightNextSearchResult() {
	    let searchResult = this.getHighlightedSearchResult();
	    if (searchResult !== null) {
	      searchResult = searchResult.getNextSibling();
	    }

	    // Grab the first search result in the list if there isn't a next sibling
	    if (searchResult === null) {
	      searchResult = this.searchResults.queryFirst('.search-result');
	    }

	    if (searchResult !== null) {
	      this.highlightSearchResult(searchResult);
	    }

	    return this;
	  }

	  /**
	   * Highlights the previous search result if one is highlighted. If there isn't a highlighted search result, this
	   * selects the last one. This method handles wrapping.
	   *
	   * @returns {Searcher} This Searcher.
	   */
	  highlightPreviousSearchResult() {
	    let searchResult = this.getHighlightedSearchResult();
	    if (searchResult !== null) {
	      searchResult = searchResult.getPreviousSibling();
	    }

	    if (searchResult === null) {
	      searchResult = this.searchResults.queryFirst('.search-result');
	    }

	    if (searchResult !== null) {
	      this.highlightSearchResult(searchResult);
	    }

	    return this;
	  }

	  /**
	   * Highlights the given search result.
	   *
	   * @param {PrimeElement} searchResult The search result to highlight.
	   * @returns {Searcher} This Searcher.
	   */
	  highlightSearchResult(searchResult) {
	    this.searchResults.getChildren().removeClass('selected');

	    searchResult.addClass('selected');
	    const scrollTop = this.searchResults.getScrollTop();
	    const height = this.searchResults.getHeight();
	    const searchResultOffset = searchResult.getOffsetTop();
	    if (searchResultOffset + 1 >= scrollTop + height) {
	      this.searchResults.scrollTo(searchResult.getOffsetTop() - this.searchResults.getHeight() + searchResult.getOuterHeight());
	    } else if (searchResultOffset < scrollTop) {
	      this.searchResults.scrollTo(searchResultOffset);
	    }

	    return this;
	  }

	  /**
	   * Initializes the Searcher by setting up the event listeners and closing the search result element.
	   *
	   * @returns {Searcher} This.
	   */
	  initialize() {
	    this.inputElement
	        .addEventListener('blur', this._handleBlurEvent)
	        .addEventListener('click', this._handleClickEvent)
	        .addEventListener('keyup', this._handleKeyUpEvent)
	        .addEventListener('keydown', this._handleKeyDownEvent)
	        .addEventListener('focus', this._handleFocusEvent);

	    this.closeSearchResults();
	    return this;
	  }

	  /**
	   * @returns {boolean} True if the search results add custom option is being displayed currently.
	   */
	  isCustomAddVisible() {
	    return this.searchResults.queryFirst('.custom-add') !== null;
	  }

	  /**
	   * @returns {boolean} True if any search results are being displayed currently.
	   */
	  isSearchResultsVisible() {
	    return this.searchResults.hasClass('open');
	  }

	  /**
	   * Poor mans resizing of the input field as the user types into it.
	   */
	  resizeInput() {
	    const text = this.inputElement.getValue() === '' ? this.inputElement.getAttribute('placeholder') : this.inputElement.getValue();
	    const newLength = Utils.calculateTextLength(this.inputElement, text) + 35;
	    this.inputElement.setWidth(newLength);
	  }

	  /**
	   * Executes a search by optionally updating the input to the given value (if specified) and then rebuilding the search
	   * results using the input's value. This method also puts focus on the input and shows the search results (in case
	   * they are hidden for any reason).
	   *
	   * @param {string} [searchText] The text to search for (this value is also set into the input box). If this is not
	   * specified then the search is run using the input's value.
	   * @returns {Searcher} This Searcher.
	   */
	  search(searchText) {
	    // Set the search text into the input box if it is different and then lowercase it
	    if (Utils.isDefined(searchText) && this.inputElement.getValue() !== searchText) {
	      this.inputElement.setValue(searchText);
	    }

	    searchText = Utils.isDefined(searchText) ? searchText.toLowerCase() : this.inputElement.getValue();
	    this.resizeInput();

	    // Clear the search results (if there are any)
	    this._removeAllSearchResults();

	    // Call the callback
	    const searchResults = this.options.callbackObject.search(searchText);
	    if (!searchResults.hasOwnProperty('results') || !searchResults.hasOwnProperty('tooManyResults')) {
	      throw new TypeError('The callback must return an Object that contains the properties results[Array] and tooManyResults[boolean]');
	    }

	    let count = 0;
	    let matchingSearchResultElement = null;
	    for (let i = 0; i < searchResults.results.length; i++) {
	      const searchResult = searchResults.results[i];
	      const element = PrimeDocument.newElement('<li/>')
	          .addClass('search-result')
	          .setAttribute('value', searchResult)
	          .setHTML(searchResult)
	          .addEventListener('click', this._handleClickEvent)
	          .addEventListener('mouseover', this._handleMouseOverEvent)
	          .appendTo(this.searchResults);
	      if (searchResult.toLowerCase().trim() === searchText.toLowerCase().trim()) {
	        matchingSearchResultElement = element;
	      }

	      count++;
	    }

	    // Show the custom add option if necessary
	    const trimmedLength = searchText.trim().length;
	    if (this.options.customAddEnabled && trimmedLength !== 0 && matchingSearchResultElement === null
	        && (!('doesNotContainValue' in this.options.callbackObject) || this.options.callbackObject.doesNotContainValue(searchText))) {
	      matchingSearchResultElement = PrimeDocument.newElement('<li/>')
	          .addClass('custom-add')
	          .addEventListener('click', this._handleClickEvent)
	          .addEventListener('mouseover', this._handleMouseOverEvent)
	          .setHTML(this.options.customAddLabel + Utils.escapeHTML(searchText))
	          .appendTo(this.searchResults);
	      count++;
	    }

	    if (count === 0 && trimmedLength !== 0) {
	      PrimeDocument.newElement('<li/>')
	          .addClass('no-search-results')
	          .setHTML(this.options.noSearchResultsLabel + Utils.escapeHTML(searchText))
	          .appendTo(this.searchResults);
	      count++;
	    }

	    // Handle too many results
	    if (searchResults.tooManyResults) {
	      PrimeDocument.newElement('<li/>')
	          .addClass('too-many-search-results')
	          .setHTML(this.options.tooManySearchResultsLabel + Utils.escapeHTML(searchText))
	          .appendTo(this.searchResults);
	      count++;
	    }

	    if (count !== 0) {
	      this.searchResults.show();
	      this.searchResults.addClass('open');

	      if (count >= 10) {
	        this.searchResults.setHeight(this.searchResults.getChildren()[0].getOuterHeight() * 10 + 1);
	      } else {
	        this.searchResults.setHeight(this.searchResults.getChildren()[0].getOuterHeight() * count + 1);
	      }
	    } else {
	      this.closeSearchResults();
	    }

	    if (matchingSearchResultElement !== null) {
	      this.highlightSearchResult(matchingSearchResultElement);
	    }

	    return this;
	  }

	  /**
	   * Selects the highlighted search result unless there isn't one highlighted, in which case, this does nothing.
	   *
	   * @returns {Searcher} This Searcher.
	   */
	  selectHighlightedSearchResult() {
	    const searchResult = this.getHighlightedSearchResult();
	    if (searchResult === null) {
	      return this;
	    }

	    const custom = searchResult.hasClass('custom-add');
	    const value = (custom) ? this.inputElement.getValue().trim() : searchResult.getHTML();
	    if (custom) {
	      // The client of this searcher needs to warn the user.
	      if (!this.options.customAddCallback(value)) {
	        return this;
	      }
	    }

	    this.options.callbackObject.selectSearchResult(value);
	    this.closeSearchResults();

	    return this;
	  }

	  /**
	   * Sets the timeout used in the close method to allow for transitions.
	   *
	   * @param timeout {int} The timeout.
	   * @returns {Searcher} This.
	   */
	  withCloseTimeout(timeout) {
	    this.options.closeTimeout = timeout;
	    return this;
	  }

	  /**
	   * Sets whether or not this Searcher allows custom options to be added.
	   *
	   * @param {boolean} enabled The flag.
	   * @returns {Searcher} This Searcher.
	   */
	  withCustomAddEnabled(enabled) {
	    this.options.customAddEnabled = enabled;
	    return this;
	  }

	  /**
	   * Sets whether or not this Searcher allows custom options to be added.
	   *
	   * @param {Function} callback The function to call that will return true if the custom option can be added.
	   * @returns {Searcher} This Searcher.
	   */
	  withCustomAddCallback(callback) {
	    this.options.customAddCallback = callback;
	    return this;
	  }

	  /**
	   * Sets the label used when custom options are added.
	   *
	   * @param {string} customAddLabel The label.
	   * @returns {Searcher} This Searcher.
	   */
	  withCustomAddLabel(customAddLabel) {
	    this.options.customAddLabel = customAddLabel;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {Searcher} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /**
	   * Sets the label that is printed when there are no search results.
	   *
	   * @param {string} noSearchResultsLabel The label text.
	   * @returns {Searcher} This Searcher.
	   */
	  withNoSearchResultsLabel(noSearchResultsLabel) {
	    this.options.noSearchResultsLabel = noSearchResultsLabel;
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Sets the label that is printed when there are too many search results.
	   *
	   * @param {string} tooManySearchResultsLabel The label text.
	   * @returns {Searcher} This Searcher.
	   */
	  withTooManySearchResultsLabel(tooManySearchResultsLabel) {
	    this.options.tooManySearchResultsLabel = tooManySearchResultsLabel;
	    return this;
	  }

	  /**
	   * Handles the blur event when the input goes out of focus.
	   *
	   * @private
	   */
	  _handleBlurEvent() {
	    window.setTimeout((function() {
	      if (document.activeElement !== this.inputElement.domElement) {
	        this.closeSearchResults();
	      }
	    }).bind(this), 300);
	  }

	  /**
	   * Handles all click events sent to the Searcher.
	   *
	   * @param {Event} event The mouse event.
	   * @private
	   */
	  _handleClickEvent(event) {
	    const target = new PrimeElement(event.currentTarget);
	    if (target.hasClass('custom-add') || target.hasClass('search-result')) {
	      this.selectHighlightedSearchResult();
	    } else if (target.domElement === this.inputElement.domElement) {
	      this.search();
	    } else {
	      console.log('Clicked something else target=[' + event.target + '] currentTarget=[' + event.currentTarget + ']');
	    }
	  }

	  /**
	   * Handles when the input field is focused by opening the search results.
	   *
	   * @private
	   */
	  _handleFocusEvent() {
	    this.search();
	  }

	  /**
	   * Handles the key down events that should not be propagated.
	   *
	   * @param {KeyboardEvent} event The keyboard event object.
	   * @private
	   */
	  _handleKeyDownEvent(event) {
	    const key = event.keyCode;
	    if (key === Events.Keys.BACKSPACE) {
	      this.previousSearchString = this.inputElement.getValue();
	    } else if (key === Events.Keys.UP_ARROW) {
	      Utils.stopEvent(event);
	      this.highlightPreviousSearchResult();
	    } else if (key === Events.Keys.DOWN_ARROW) {
	      Utils.stopEvent(event);
	      if (this.isSearchResultsVisible()) {
	        this.highlightNextSearchResult();
	      } else {
	        this.search();
	      }
	    } else if (key === Events.Keys.ENTER) {
	      Utils.stopEvent(event); // Don't bubble enter otherwise the form submits
	    }
	  }

	  /**
	   * Handles all key up events sent to the search results container.
	   *
	   * @param {KeyboardEvent} event The keyboard event object.
	   *  @private
	   */
	  _handleKeyUpEvent(event) {
	    const key = event.keyCode;
	    const value = this.inputElement.getValue();

	    if (key === Events.Keys.BACKSPACE) {
	      if (value === '' && this.previousSearchString === '') {
	        this.options.callbackObject.deletedBeyondSearchInput();
	      } else {
	        this.search();
	      }
	    } else if (key === Events.Keys.ENTER) {
	      Utils.stopEvent(event);
	      // If a search result is highlighted, add it
	      if (this.getHighlightedSearchResult() !== null) {
	        this.selectHighlightedSearchResult();
	      }
	    } else if (key === Events.Keys.ESCAPE) {
	      this.closeSearchResults();
	    } else if (key === Events.Keys.SPACE || key === Events.Keys.DELETE ||
	        (key >= 48 && key <= 90) || (key >= 96 && key <= 111) || (key >= 186 && key <= 192) || (key >= 219 && key <= 222)) {
	      this.search();
	    }
	  }

	  /**
	   * Handles mouseover events for the search results (only) by highlighting the event target.
	   *
	   * @param {Event} event The mouseover event.
	   * @private
	   */
	  _handleMouseOverEvent(event) {
	    const target = new PrimeElement(event.currentTarget);
	    this.highlightSearchResult(target);
	  }

	  /**
	   * Removes all of the search results.
	   *
	   * @private
	   */
	  _removeAllSearchResults() {
	    this.searchResults.query('li').removeAllFromDOM();
	  }

	  /* ===================================================================================================================
	   * Search function implementations.
	   * ===================================================================================================================*/

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions(callbackObject) {
	    // Defaults
	    this.options = {
	      callbackObject: callbackObject,
	      closeTimeout: 200,
	      customAddEnabled: true,
	      'customAddCallback'() {
	        return true;
	      },
	      customAddLabel: 'Add Custom: ',
	      noSearchResultsLabel: 'No Matches For: ',
	      tooManySearchResultsLabel: 'Too Many Matches For: ',
	    };

	    const userOptions = Utils.dataSetToOptions(this.inputElement);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	let count = 1;
	let AddOptionEvent = 'MultipleSelect:addOption';
	let DeselectOptionEvent = 'MultipleSelect:deselectOption';
	let SelectOptionEvent = 'MultipleSelect:selectOption';

	class MultipleSelect {
	  /**
	   * Constructs a MultipleSelect object for the given element.
	   *
	   * The MultipleSelect generates a number of different HTML elements directly after the SELECT element you pass to the
	   * constructor. A fully rendered MultipleSelect might look something like this:
	   *
	   * <pre>
	   * &lt;select id="foo">
	   *   &lt;option value="one">One&lt;/option>
	   *   &lt;option value="two">Two&lt;/option>
	   *   &lt;option value="three">Three&lt;/option>
	   * &lt;/select>
	   * &lt;div id="foo-display" class="prime-multiple-select">
	   *   &lt;ul id="foo-option-list" class="option-list">
	   *     &lt;li id="foo-option-one">&lt;span>One&lt;/span>&lt;a href="#">X&lt;/a>&lt;/li>
	   *     &lt;li id="foo-option-two">&lt;span>Two&lt;/span>&lt;a href="#">X&lt;/a>&lt;/li>
	   *     &lt;li id="foo-option-three">&lt;span>Three&lt;/span>&lt;a href="#">X&lt;/a>&lt;/li>
	   *     &lt;li>&lt;input type="text" value="aaa"/>&lt;/li>
	   *   &lt;/ul>
	   *   &lt;ul class="search-results">
	   *     &lt;li>One&lt;/li>
	   *     &lt;li>Two&lt;/li>
	   *     &lt;li>Three&lt;/li>
	   *     &lt;li>Add Custom Entry: aaa/li>
	   *   &lt;/ul>
	   * &lt;/div>
	   * </pore>
	   *
	   * The with* methods can be used to setup the configuration for this MultipleSelect, but here are some defaults:
	   *
	   * <ul>
	   *   <li>placeholder = "Choose"</li>
	   *   <li>customAddEnabled = true</li>
	   *   <li>customAddLabel = "Add Custom Value:"</li>
	   *   <li>noSearchResultsLabel = "No Matches For:"</li>
	   * </ul>
	   *
	   * @constructor
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for the MultipleSelect.
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    if (this.element.domElement.tagName !== 'SELECT') {
	      throw new TypeError('You can only use MultipleSelect with select elements');
	    }

	    if (this.element.getAttribute('multiple') !== 'multiple') {
	      throw new TypeError('The select box you are attempting to convert to a MultipleSelect must have the multiple="multiple" attribute set');
	    }

	    this._setInitialOptions();
	  }

	  /*
	   * Statics
	   */
	  /**
	   * @returns {number}
	   */
	  static get count() {
	    return count;
	  }

	  /**
	   * @param {number} value
	   */
	  static set count(value) {
	    count = value;
	  }

	  /**
	   * @returns {string}
	   */
	  static get AddOptionEvent() {
	    return AddOptionEvent;
	  }

	  /**
	   * @param {string} value
	   */
	  static set AddOptionEvent(value) {
	    AddOptionEvent = value;
	  }

	  /**
	   * @returns {string}
	   */
	  static get DeselectOptionEvent() {
	    return DeselectOptionEvent;
	  }

	  /**
	   * @param {string} value
	   */
	  static set DeselectOptionEvent(value) {
	    DeselectOptionEvent = value;
	  }

	  /**
	   * @returns {string}
	   */
	  static get SelectOptionEvent() {
	    return SelectOptionEvent;
	  }

	  /**
	   * @param {string} value
	   */
	  static set SelectOptionEvent(value) {
	    SelectOptionEvent = value;
	  }

	  /**
	   * Finds the HTMLSelectOption with the given id and returns it wrapped in a PrimeElement.
	   *
	   * @param {String} id
	   * @returns {PrimeElement}
	   */
	  static findOptionWithId(id) {
	    return PrimeDocument.queryFirst('[data-option-id="' + id + '"]');
	  }

	  /**
	   * Pass through to add event listeners to This. The custom events that this MultipleSelect fires are:
	   *
	   *  'MultipleSelect:deselectOption'
	   *  'MultipleSelect:selectOption'
	   *  'MultipleSelect:addOption'
	   *
	   * @param {string} event The name of the event.
	   * @param {Function} listener The listener function.
	   * @returns {MultipleSelect} This.
	   */
	  addEventListener(event, listener) {
	    this.element.addEventListener(event, listener);
	    return this;
	  }

	  /**
	   * Determines if this MultipleSelect contains an option with the given value.
	   *
	   * @param {String} value The value to look for.
	   */
	  containsOptionWithValue(value) {
	    return this.findOptionWithValue(value) !== null;
	  }

	  /**
	   * Adds the given option to this select. The option will not be selected.
	   *
	   * @param {String} value The value for the option.
	   * @param {String} display The display text for the option.
	   * @param {?String} [id] The id of the element. (Defaults to null)
	   * @returns {MultipleSelect} This.
	   */
	  addOption(value, display, id) {
	    if ((id === null || id === undefined) && this.containsOptionWithValue(value)) {
	      return this;
	    }

	    let element = PrimeDocument.newElement('<option/>')
	        .setValue(value)
	        .setHTML(display)
	        .appendTo(this.element);

	    if (id) {
	      element.setDataAttribute("optionId", id);
	    }

	    // Fire the custom event
	    this.element.fireEvent(MultipleSelect.AddOptionEvent, value, this);

	    return this;
	  }

	  /**
	   * Deselects the option with the given value by removing the selected attribute from the option in the select box and
	   * removing the option from the display container. If the MultipleSelect doesn't contain an option for the given value,
	   * this method throws an exception.
	   *
	   * @param {String} value The value to look for.
	   * @returns {MultipleSelect} This.
	   */
	  deselectOptionWithValue(value) {
	    const option = this.findOptionWithValue(value);
	    if (option === null) {
	      throw new Error('MultipleSelect doesn\'t contain an option with the value [' + value + ']');
	    }

	    this.deselectOption(option);

	    return this;
	  }

	  /**
	   * Deselects the option with the given value by removing the selected attribute from the option in the select box and
	   * removing the option from the display container.
	   *
	   * @param {PrimeElement} option The option to deselect.
	   * @returns {MultipleSelect} This.
	   */
	  deselectOption(option) {
	    option.setSelected(false);

	    const id = option.getDataAttribute('optionId') || this._makeOptionID(option);
	    const displayOption = PrimeDocument.queryById(id);
	    if (displayOption !== null) {
	      displayOption.removeFromDOM();
	    }

	    // If there are no selected options left, add back the placeholder attribute to the input and resize it
	    if (this.optionList.query('li').length === 1) {
	      this.input.setAttribute('placeholder', this.options.placeholder);
	      this.searcher.resizeInput();
	    }

	    // Fire the custom event
	    this.element.fireEvent(MultipleSelect.DeselectOptionEvent, option.getValue(), this);

	    return this;
	  }

	  /**
	   * Destroys the widget completely.
	   */
	  destroy() {
	    this.element.show();
	    this.displayContainer.removeFromDOM();
	  }

	  /**
	   * Finds the HTMLSelectOption with the given text and returns it wrapped in a PrimeElement.
	   *
	   * @param {String} text The text to look for.
	   * @returns {PrimeElement} The option element or null.
	   */
	  findOptionWithText(text) {
	    const options = this.element.getOptions();
	    for (let i = 0; i < options.length; i++) {
	      if (options[i].getTextContent() === text) {
	        return options[i];
	      }
	    }

	    return null;
	  }

	  deselectOptionWithId(id) {
	    const option = MultipleSelect.findOptionWithId(id);
	    if (option === null) {
	      throw new Error('MultipleSelect doesn\'t contain an option with the id [' + id + ']');
	    }

	    this.deselectOption(option);

	    return this;
	  }

	  /**
	   * Finds the HTMLSelectOption with the given value and returns it wrapped in a PrimeElement.
	   *
	   * @param {String} value The value to look for.
	   * @returns {PrimeElement} The option element or null.
	   */
	  findOptionWithValue(value) {
	    for (let i = 0; i < this.element.domElement.length; i++) {
	      const cur = this.element.domElement.options[i];
	      if (cur.value === value) {
	        return new PrimeElement(cur);
	      }
	    }

	    return null;
	  }

	  /**
	   * @returns {string[]} The currently selected options values.
	   */
	  getSelectedValues() {
	    return this.element.getSelectedValues();
	  }

	  /**
	   * Determines if the MultipleSelect contains an option with the given value.
	   *
	   * @param {string} value The value.
	   * @returns {boolean} True if the MultipleSelect contains an option with the given value, false otherwise.
	   */
	  hasOptionWithValue(value) {
	    return this.findOptionWithValue(value) !== null;
	  }

	  /**
	   * Highlights the final selected option (if there is one) to indicate that it will be unselected if the user clicks
	   * the delete key again.
	   *
	   * @returns {MultipleSelect} This.
	   */
	  highlightOptionForUnselect() {
	    const options = this.optionList.getChildren();
	    if (options.length > 1) {
	      options[options.length - 2].addClass('selected');
	    }

	    return this;
	  }

	  /**
	   * Initializes the display from the underlying select element. All of the current display options (li elements) are
	   * removed. New display options are added for each selected option in the select box.
	   *
	   * @returns {MultipleSelect} This.
	   */
	  initialize() {
	    this.element.hide();

	    let id = this.element.getId();
	    if (id === null || id === '') {
	      id = 'prime-multiple-select' + MultipleSelect.count++;
	      this.element.setId(id);
	    }

	    this.displayContainer = PrimeDocument.queryById(id + '-display');
	    this.input = null;
	    if (this.displayContainer === null) {
	      this.displayContainer = PrimeDocument.newElement('<div/>')
	          .setId(id + '-display')
	          .addClass(this.options.className)
	          .addEventListener('click', this._handleClickEvent)
	          .addEventListener('keyup', this._handleKeyUpEvent)
	          .insertAfter(this.element);

	      this.optionList = PrimeDocument.newElement('<ul/>')
	          .addClass('option-list')
	          .appendTo(this.displayContainer);

	      this.searchResults = PrimeDocument.newElement('<ul/>')
	          .addClass('search-results')
	          .hide()
	          .appendTo(this.displayContainer);
	    } else {
	      this.displayContainer
	          .removeAllEventListeners()
	          .addEventListener('click', this._handleClickEvent)
	          .addEventListener('keyup', this._handleKeyUpEvent);
	      this.optionList = this.displayContainer.queryFirst('.option-list');
	      this.searchResults = this.displayContainer.queryFirst('.search-results');
	    }

	    PrimeDocument.queryFirst('html').addEventListener('click', this._handleGlobalClickEvent);

	    // Close the search
	    this.searchResults.hide();

	    this._redraw();

	    return this;
	  }

	  /**
	   * @returns {boolean} True if the last option is highlighted for unselect.
	   */
	  isLastOptionHighlightedForUnselect() {
	    const options = this.optionList.getChildren();
	    return options.length > 1 && options[options.length - 2].hasClass('selected');
	  }

	  /**
	   * Removes all of the options from the MultipleSelect.
	   *
	   * @returns {MultipleSelect} This.
	   */
	  removeAllOptions() {
	    // Remove in reverse order because the options array is dynamically updated when elements are deleted from the DOM
	    const options = this.element.domElement.options;
	    for (let i = options.length - 1; i >= 0; i--) {
	      this.removeOption(new PrimeElement(options[i]));
	    }

	    return this;
	  }

	  /**
	   * Removes the highlighted option.
	   */
	  removeHighlightedOption() {
	    const options = this.optionList.getChildren();
	    if (this.options.allowDuplicates) {
	      this.deselectOptionWithId(options[options.length - 2].getId());
	    } else {
	      this.deselectOptionWithValue(options[options.length - 2].getAttribute('value'));
	    }
	    this.search();
	  }

	  /**
	   * Removes the given option from the MultipleSelect by removing the option in the select box and the option in the
	   * display container.
	   *
	   * @param {PrimeElement} option The option to remove.
	   * @returns {MultipleSelect} This.
	   */
	  removeOption(option) {
	    if (!(option instanceof PrimeElement)) {
	      throw new TypeError('MultipleSelect#removeOption only takes PrimeElement instances');
	    }

	    option.removeFromDOM();

	    let id, displayOption;
	    if (this.options.allowDuplicates) {
	      // The ids are random so we need to get the data attribute.
	      id = option.getDataAttribute('optionId');
	      displayOption = PrimeDocument.queryById(id);
	    } else {
	      // The ids aren't random and can be reproducably created.
	      id = this._makeOptionID(option);
	      displayOption = PrimeDocument.queryById(id);
	    }

	    // Check if the option has already been selected
	    if (displayOption !== null) {
	      displayOption.removeFromDOM();
	    }

	    return this;
	  }

	  /**
	   * Removes the option with the given value from the MultipleSelect by removing the option in the select box and the
	   * option in the display container. If the MultipleSelect doesn't contain an option with the given value, this throws
	   * an exception.
	   *
	   * @param {string} value The value of the option to remove.
	   * @returns {MultipleSelect} This.
	   */
	  removeOptionWithValue(value) {
	    const option = this.findOptionWithValue(value);
	    if (option === null) {
	      throw new Error('MultipleSelect doesn\'t contain an option with the value [' + value + ']');
	    }

	    this.removeOption(option);

	    return this;
	  }

	  /**
	   * Selects the given option by setting the selected attribute on the option in the select box (the object passed in is
	   * the option from the select box wrapped in a PrimeElement) and adding it to the display container. If the
	   * option is already in the display container, that step is skipped.
	   *
	   * @param {PrimeElement} option The option object from the select box wrapped in a PrimeElement instance.
	   * @returns {MultipleSelect} This.
	   */
	  selectOption(option) {
	    if (!(option instanceof PrimeElement)) {
	      throw new TypeError('MultipleSelect#selectOption only takes PrimeElement instances');
	    }

	    const id = this._makeOptionID(option);

	    // Check if the option has already been selected
	    if (PrimeDocument.queryById(id) === null) {
	      /*
	      If we allow dupes, always duplicate the option and append it to the end or the order will be a problem. The default multiselect doesn't support order)
	       */
	      if (this.options.allowDuplicates) {
	        this.addOption(option.getValue(), option.getHTML(), id);
	        option = MultipleSelect.findOptionWithId(id);
	      }
	      option.setSelected(true);

	      const li = PrimeDocument.newElement('<li/>')
	          .setAttribute('value', option.getValue())
	          .setId(id)
	          .insertBefore(this.inputOption);
	      PrimeDocument.newElement('<span/>')
	          .setHTML(option.getHTML())
	          .setAttribute('value', option.getValue())
	          .appendTo(li);
	      PrimeDocument.newElement('<a/>')
	          .setAttribute('href', '#')
	          .setAttribute('value', option.getValue())
	          .setHTML(this.options.removeIcon)
	          .addEventListener('click', this._handleClickEvent)
	          .appendTo(li);
	    }

	    // Remove the placeholder attribute on the input and resize it
	    this.input.removeAttribute('placeholder');

	    // Close the search results and resize the input
	    this.searcher.closeSearchResults();

	    // Scroll the display to the bottom
	    this.optionList.scrollToBottom();

	    // Fire the custom event
	    this.element.fireEvent(MultipleSelect.SelectOptionEvent, option.getValue(), this);

	    return this;
	  }

	  /**
	   * Selects the option with the given value by setting the selected attribute on the option in the select box (the
	   * object passed in is the option from the select box wrapped in a PrimeElement) and adding it to the display
	   * container. If the option is already in the display container, that step is skipped.
	   * <p/>
	   * If there isn't an option with the given value, this throws an exception.
	   *
	   * @param {String} value The value of the option to select.
	   * @returns {MultipleSelect} This.
	   */
	  selectOptionWithValue(value) {
	    const option = this.findOptionWithValue(value);
	    if (option === null) {
	      throw new Error('MultipleSelect doesn\'t contain an option with the value [' + value + ']');
	    }

	    this.selectOption(option);

	    return this;
	  }

	  /**
	   * Sets the selected options. This mimics the function on Element to provide consistency.
	   *
	   * @param {string[]} [arguments] The list of options to select based on their values.
	   * @returns {MultipleSelect} This.
	   */
	  setSelectedValues() {
	    this.element.setSelectedValues.apply(this.element, arguments);
	    this._redraw();
	    return this;
	  }

	  /**
	   * Unhighlights the last option if it is highlighted.
	   *
	   * @returns {MultipleSelect} This.
	   */
	  unhighlightOptionForUnselect() {
	    this.optionList.getChildren().each(function(element) {
	      element.removeClass('selected');
	    });
	    return this;
	  }

	  withAllowDuplicates(value) {
	    this.options.allowDuplicates = value;
	    return this;
	  }

	  /**
	   * Sets the class name for the MultipleSelect element.
	   *
	   * @param className {string} The class name.
	   * @returns {MultipleSelect} This.
	   */
	  withClassName(className) {
	    this.options.className = className;
	    return this;
	  }

	  /**
	   * Sets the timeout used in the close method to allow for transitions.
	   *
	   * @param timeout {int} The timeout.
	   * @returns {MultipleSelect} This.
	   */
	  withCloseTimeout(timeout) {
	    this.options.closeTimeout = timeout;
	    return this;
	  }

	  /**
	   * Sets whether or not this MultipleSelect allows custom options to be added.
	   *
	   * @param {boolean} enabled The flag.
	   * @returns {MultipleSelect} This.
	   */
	  withCustomAddEnabled(enabled) {
	    this.options.customAddEnabled = enabled;
	    return this;
	  }

	  /**
	   * Sets the label used when custom options are added.
	   *
	   * @param {string} customAddLabel The label.
	   * @returns {MultipleSelect} This.
	   */
	  withCustomAddLabel(customAddLabel) {
	    this.options.customAddLabel = customAddLabel;
	    return this;
	  }

	  /**
	   * Enable error class handling. When this option is used, if the specified error class is found on any element
	   * in the tab content the same error class will be added to the tab to identify the tab contains errors.
	   *
	   * @returns {MultipleSelect} This.
	   */
	  withErrorClassHandling(errorClass) {
	    this.options.errorClass = errorClass;
	    return this;
	  }

	  /**
	   * Sets the label that is printed when there are no search results. This must be called before render is called.
	   *
	   * @param {string} noSearchResultsLabel The label text.
	   * @returns {MultipleSelect} This.
	   */
	  withNoSearchResultsLabel(noSearchResultsLabel) {
	    this.options.noSearchResultsLabel = noSearchResultsLabel;
	    return this;
	  }

	  /**
	   * Sets the placeholder text for This. This must be called before render is called.
	   *
	   * @param {string} placeholder The placeholder text.
	   * @returns {MultipleSelect} This.
	   */
	  withPlaceholder(placeholder) {
	    this.options.placeholder = placeholder;
	    return this;
	  }

	  /**
	   * Sets the remove icon value. This overrides the default value.
	   *
	   * @param {string} removeIcon The remove icon text.
	   * @returns {MultipleSelect} This.
	   */
	  withRemoveIcon(removeIcon) {
	    this.options.removeIcon = removeIcon;
	    return this;
	  }

	  /**
	   * Sets the search function that can be used to search other sources besides the select box that backs this widget.
	   *
	   * @param searchFunction {Function} The search function.
	   * @returns {MultipleSelect} This.
	   */
	  withSearchFunction(searchFunction) {
	    this.options.searchFunction = searchFunction;
	    return this;
	  }

	  /* ===================================================================================================================
	   * Searcher's callback interface methods.
	   * ===================================================================================================================*/

	  /**
	   * Called when the Searcher gets a keyboard event that deletes beyond the search input. This highlights the last word
	   * in the phrase for removal.
	   */
	  deletedBeyondSearchInput() {
	    if (this.isLastOptionHighlightedForUnselect()) {
	      this.removeHighlightedOption();
	    }

	    this.highlightOptionForUnselect();
	  }

	  /**
	   * Called when the search needs to determine if the custom add option should be displayed. As long as this
	   * MultipleSelect does not contain the given value, the custom add option should be displayed.
	   *
	   * @param {string} value The value.
	   * @returns {boolean} True if this MultipleSelect does not contain the value, false otherwise.
	   */
	  doesNotContainValue(value) {
	    return !this.containsOptionWithValue(value);
	  }

	  /**
	   * Called when the Searcher is executing a search. This executes a search via the callback and returns the results.
	   *
	   * @param {string} [searchText] The text to search for.
	   * @returns {Object} The SearchResults.
	   */
	  search(searchText) {
	    this.unhighlightOptionForUnselect();
	    return this.options.searchFunction.call(null, searchText, this.element);
	  }

	  /**
	   * Called when the Searcher gets an event that causes a search result to be selected. This adds the word.
	   */
	  selectSearchResult(value) {

	    value = Utils.unescapeHTML(value); // In case the string has html escapes in it.

	    // Add the custom option if there is one
	    let option = this.findOptionWithText(value);
	    if (option === null) {
	      this.addOption(value, Utils.escapeHTML(value));
	      option = this.findOptionWithValue(value); // The value will still be unescaped
	    }

	    this.selectOption(option);
	  }


	  /* ===================================================================================================================
	   * Private Methods
	   * ===================================================================================================================*/

	  /**
	   * Handles the blur event when the input goes out of focus.
	   *
	   * @private
	   */
	  _handleBlurEvent() {
	    window.setTimeout((function() {
	      if (document.activeElement !== this.input.domElement) {
	        this.searcher.closeSearchResults();
	      }
	    }).bind(this), 300);
	    this.displayContainer.removeClass('focus');
	  }

	  /**
	   * Handles all click events sent to the MultipleSelect.
	   *
	   * @param {Event} event The mouse event.
	   * @private
	   */
	  _handleClickEvent(event) {
	    Utils.stopEvent(event);
	    const target = new PrimeElement(event.target);
	    if (target.is('a')) {
	      if (this.options.allowDuplicates) {
	        const id = target.getParent().getId();
	        this.removeOption(MultipleSelect.findOptionWithId(id));
	      } else {
	        this.removeOptionWithValue(target.getAttribute('value'));
	      }
	    } else if (target.is('span')) {
	      target.selectElementContents();
	    } else {
	      this.input.focus();
	    }
	  }

	  /**
	   * Handles the blur event when the input goes out of focus.
	   *
	   * @private
	   */
	  _handleFocusEvent() {
	    this.displayContainer.addClass('focus');
	  }

	  /**
	   * Handles mouse clicks outside of This. If they clicked anything that is not within this MultipleSelect,
	   * it closes the search results.
	   *
	   * @param {Event} event The event.
	   * @returns {boolean} Always true so the event is bubbled.
	   * @private
	   */
	  _handleGlobalClickEvent(event) {
	    const target = new PrimeElement(event.target);
	    if (this.displayContainer.domElement !== target.domElement && !target.isChildOf(this.displayContainer)) {
	      this.searcher.closeSearchResults();
	    }
	  }

	  /**
	   * Handles all key up events sent to the display container.
	   *
	   * @param {Event} event The browser event object.
	   * @returns {boolean} True if the search display is not open, false otherwise. This will prevent the event from continuing.
	   * @private
	   */
	  _handleKeyUpEvent(event) {
	    const key = event.keyCode;
	    if (key === Events.Keys.ESCAPE) {
	      this.unhighlightOptionForUnselect();
	    }
	  }

	  /**
	   * Makes an ID for the option.
	   *
	   * @param {PrimeElement} option The option to make the ID for.
	   * @private
	   */
	  _makeOptionID(option) {
	    if (this.options.allowDuplicates === true) {
	      let d = new Date().getTime();
	      // UUID ish
	      return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {
	        let r = (d + Math.random() * 16) % 16 | 0;
	        d = Math.floor(d / 16);
	        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
	      });
	    }
	    return this.element.getId() + '-option-' + option.getValue().replace(' ', '-');
	  }

	  /**
	   * Redraws the widget.
	   * @private
	   */
	  _redraw() {
	    // Remove the currently displayed options
	    this.optionList.getChildren().each(function(option) {
	      option.removeFromDOM();
	    });

	    // Add the input option since the select options are inserted before it
	    this.inputOption = PrimeDocument.newElement('<li/>')
	        .appendTo(this.optionList);
	    this.input = PrimeDocument.newElement('<input/>')
	        .addEventListener('click', this._handleClickEvent)
	        .addEventListener('blur', this._handleBlurEvent)
	        .addEventListener('focus', this._handleFocusEvent)
	        .setAttribute('type', 'text')
	        .appendTo(this.inputOption);
	    this.searcher = new Searcher(this.input, this.searchResults, this)
	        .withOptions(this.options)
	        .initialize();

	    // Add the selected options
	    let hasSelectedOptions = false;
	    const options = this.element.getOptions();
	    for (let i = 0; i < options.length; i++) {
	      const option = options[i];
	      if (option.isSelected()) {
	        this.selectOption(option);
	        hasSelectedOptions = true;
	      }
	    }

	    // Put the placeholder attribute in if the MultipleSelect has no selected options
	    if (!hasSelectedOptions) {
	      this.input.setAttribute('placeholder', this.options.placeholder);
	    }

	    this.searcher.resizeInput();

	    // If error class handling was enabled and the select box has the error class, add it to the display
	    if (this.options.errorClass && this.element.hasClass(this.options.errorClass)) {
	      this.displayContainer.addClass(this.options.errorClass);
	    }
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      allowDuplicates: false,
	      className: 'prime-multiple-select',
	      closeTimeout: 200,
	      customAddEnabled: true,
	      customAddLabel: 'Add Custom Value: ',
	      errorClass: null,
	      noSearchResultsLabel: 'No Matches For: ',
	      placeholder: 'Choose',
	      removeIcon: 'X',
	      searchFunction: Searcher.selectSearchFunction
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2020, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class Reorder {
	  /**
	   * Constructs a new Reorder object for the given element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for containing the re-orderable items.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this._setInitialOptions();
	  }

	  /**
	   * Destroy this widget.
	   *
	   * @returns {Reorder} This.
	   */
	  destroy() {
	    this.element.removeEventListener('click', this._handleMoveDownClick);
	    this.element.removeEventListener('click', this._handleMoveUpClick);
	    return this;
	  }

	  /**
	   * Initializes the widget by attaching event listeners to the element.
	   *
	   * @returns {Reorder} This.
	   */
	  initialize() {
	    this.element.addDelegatedEventListener('click', this.options.moveDownSelector, this._handleMoveDownClick);
	    this.element.addDelegatedEventListener('click', this.options.moveUpSelector, this._handleMoveUpClick);

	    this._refreshButtonStates();
	    return this;
	  }

	  /**
	   * Move the item down.
	   *
	   * @param item {PrimeElement|Element} the item to move.
	   * @returns {Reorder} This.
	   */
	  moveDown(item) {
	    if (item !== null) {
	      item.getNextSibling().insertBefore(item);
	    }

	    this._refreshButtonStates();

	    if (this.options.reorderCallback) {
	      this.options.reorderCallback(this, item);
	    }

	    return this;
	  }

	  /**
	   * Move the item up.
	   *
	   * @param item {PrimeElement|Element} the item to move.
	   * @returns {Reorder} This.
	   */
	  moveUp(item) {
	    if (item !== null) {
	      item.getPreviousSibling().insertAfter(item);
	    }

	    this._refreshButtonStates();

	    if (this.options.reorderCallback) {
	      this.options.reorderCallback(this, item);
	    }

	    return this;
	  }

	  /**
	   * Sets the selector which is used to identify the re-orderable items in the container.
	   *
	   * @param itemSelector {String} The item selector.
	   * @returns {Reorder} This.
	   */
	  withItemSelector(itemSelector) {
	    this.options.itemSelector = itemSelector;
	    return this;
	  }

	  /**
	   * Sets the selector which is used to identify the move down button within the re-orderable item.
	   *
	   * @param moveDownSelector {String} The move down button selector.
	   * @returns {Reorder} This.
	   */
	  withDownSelector(moveDownSelector) {
	    this.options.moveDownSelector = moveDownSelector;
	    return this;
	  }

	  /**
	   * Sets the selector which is used to identify the move up button within the re-orderable item.
	   *
	   * @param moveUpSelector {String} The move up button selector.
	   * @returns {Reorder} This.
	   */
	  withMoveUpSelector(moveUpSelector) {
	    this.options.moveUpSelector = moveUpSelector;
	    return this;
	  }

	  /**
	   * Sets a callback function to be used after an element changes order.
	   *
	   * @param reorderCallback {function} The optional callback function to call after an element changes order. This
	   *        function will be provided with the item that just moved.
	   * @returns {Reorder} This.
	   */
	  withReorderCallback(reorderCallback) {
	    this.options.reorderCallback = reorderCallback;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {Reorder} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /**
	   * Redraw the state of this widget. This may be called if you have added additional items to be re-ordered.
	   *
	   * @returns {Reorder} This.
	   */
	  redraw() {
	    this._refreshButtonStates();
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Handle the Move Down click event.
	   *
	   * @param {Event} event The event.
	   * @private
	   */
	  _handleMoveDownClick(event) {
	    Utils.stopEvent(event);

	    const target = new PrimeElement(event.target);
	    const item = target.queryUp(this.options.itemSelector);
	    this.moveDown(item);
	  }

	  /**
	   * Handle the Move Up click event.
	   *
	   * @param {Event} event The event.
	   * @private
	   */
	  _handleMoveUpClick(event) {
	    Utils.stopEvent(event);

	    const target = new PrimeElement(event.target);
	    const item = target.queryUp(this.options.itemSelector);
	    this.moveUp(item);
	  }

	  /**
	   * Handle a 'refresh' to ensure the buttons are in the correct state.
	   * @private
	   */
	  _refreshButtonStates() {
	    const items = this.element.query(this.options.itemSelector);
	    if (items.length === 0) {
	      return;
	    }

	    if (items.length === 1) {
	      // Only one item, all buttons are disabled
	      items[0].queryFirst(this.options.moveDownSelector).addClass('disabled');
	      items[0].queryFirst(this.options.moveUpSelector).addClass('disabled');
	      items[0].setDataAttribute('index', 0);
	      return;
	    }

	    // More than one item
	    items.each(function(element, index) {
	      if (index === 0) {
	        // First element
	        element.queryFirst(this.options.moveUpSelector).addClass('disabled');
	        element.queryFirst(this.options.moveDownSelector).removeClass('disabled');
	      } else if (index === (items.length - 1)) {
	        // Last element
	        element.queryFirst(this.options.moveUpSelector).removeClass('disabled');
	        element.queryFirst(this.options.moveDownSelector).addClass('disabled');
	      } else {
	        // Enable these up and down buttons
	        element.queryFirst(this.options.moveDownSelector).removeClass('disabled');
	        element.queryFirst(this.options.moveUpSelector).removeClass('disabled');
	      }

	      // Set the index data attribute
	      element.setDataAttribute('index', index);
	    }.bind(this));
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      itemSelector: 'data-item',
	      moveDownSelector: 'a.down',
	      moveUpSelector: 'a.up',
	      reorderCallback: null
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2016-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	//Some externs to make intellij linter shutup. :p
	/**
	 * @external TouchEvent
	 */

	/**
	 * @property {Array} changedTouches
	 * @name TouchEvent#changedTouches
	 */

	/**
	 * @class Touchable
	 */
	class Touchable {
	  /**
	   * Constructs a new Touchable object for the given element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for the Touchable widget.
	   * @param {Function} [eventPropagationHandler] A Function that handles how the event is handled for the touchstart,
	   * touchend, touchmove, and touchcancel events. This Function takes the event object as its only parameter.
	   * @constructor
	   */
	  constructor(element, eventPropagationHandler) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this.eventPropagationHandler = eventPropagationHandler;
	  }

	  /**
	   * Destroys the Touchable Widget
	   */
	  destroy() {
	    this.element
	        .removeEventListener('touchstart', this._handleTouchStart)
	        .removeEventListener('touchmove', this._handleTouchMove)
	        .removeEventListener('touchcancel', this._handleTouchCancel)
	        .removeEventListener('touchend', this._handleTouchEnd)
	        .removeEventListenersByPattern(/Prime\.Widgets\.Touchable:.+/);
	  }

	  /**
	   * Initializes the widget by attaching all of the event listeners to the element.
	   *
	   * @returns {Touchable} This.
	   */
	  initialize() {
	    this.element
	        .addEventListener('touchstart', this._handleTouchStart)
	        .addEventListener('touchmove', this._handleTouchMove)
	        .addEventListener('touchcancel', this._handleTouchCancel)
	        .addEventListener('touchend', this._handleTouchEnd);
	    return this;
	  }

	  /**
	   * Provide a handler that will be called when a long press is detected.
	   *
	   * @param {Function} handler The event handler.
	   * @returns {Touchable} This
	   */
	  withLongPressHandler(handler) {
	    this.element.addEventListener('Touchable:longPress', handler);
	    return this;
	  }

	  /**
	   * Provide a handler that will be called when a move event is detected.
	   *
	   * @param {Function} handler The event handler.
	   * @returns {Touchable} This
	   */
	  withMoveHandler(handler) {
	    this.element.addEventListener('Touchable:move', handler);
	    return this;
	  }

	  /**
	   * Provide a handler that will be called when a long press is detected.
	   *
	   * @param {Function} handler The event handler.
	   * @returns {Touchable} This
	   */
	  withSwipeDownHandler(handler) {
	    this.element.addEventListener('Touchable:swipeDown', handler);
	    return this;
	  }

	  /**
	   * Provide a handler that will be called when a swipe left event is detected.
	   *
	   * @param {Function} handler The event handler.
	   * @returns {Touchable} This
	   */
	  withSwipeLeftHandler(handler) {
	    this.element.addEventListener('Touchable:swipeLeft', handler);
	    return this;
	  }

	  /**
	   * Provide a handler that will be called when a swipe right event is detected.
	   *
	   * @param {Function} handler The event handler.
	   * @returns {Touchable} This
	   */
	  withSwipeRightHandler(handler) {
	    this.element.addEventListener('Touchable:swipeRight', handler);
	    return this;
	  }

	  /**
	   * Provide a handler that will be called when a swipe up event is detected.
	   *
	   * @param {Function} handler The event handler.
	   * @returns {Touchable} This
	   */
	  withSwipeUpHandler(handler) {
	    this.element.addEventListener('Touchable:swipeUp', handler);
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Collects all of the touch data at the end of the touch and calculates the distances and times.
	   *
	   * @param {TouchEvent} event The TouchEvent.
	   * @private
	   */
	  _collectTouchData(event) {
	    const touchPoints = event.changedTouches.length;
	    if (touchPoints > 1) {
	      return;
	    }

	    const touch = event.changedTouches[0];
	    this.elapsedTime = new Date().getTime() - this.touchStarted;
	    this.touchEndX = touch.pageX;
	    this.touchEndY = touch.pageY;
	    this.touchX = this.touchStartX - this.touchEndX;
	    this.touchY = this.touchStartY - this.touchEndY;
	  }

	  /**
	   * Called when all processing is finished and the handlers are called based on direction and time of the touches.
	   *
	   * @private
	   */
	  _finished() {
	    // Make sure this was a swipe
	    const event = {
	      elapsedTime: this.elapsedTime,
	      touchStartX: this.touchStartX,
	      touchStartY: this.touchStartY,
	      touchEndX: this.touchEndX,
	      touchEndY: this.touchEndY,
	      touchX: this.touchX,
	      touchY: this.touchY,
	      element: this.element,
	      target: this.element.domElement
	    };
	    event.swipe = Math.abs(event.touchX) > 50 || Math.abs(event.touchY) > 50;
	    event.swipeX = event.swipe && Math.abs(event.touchX) > Math.abs(event.touchY);
	    event.swipeY = event.swipe && !event.swipeX;
	    event.longPress = !event.swipe && event.elapsedTime > 500;

	    if (event.longPress) {
	      this.element.fireCustomEvent('Touchable:longPress', event);
	    } else if (event.swipeX && event.touchX > 0) {
	      this.element.fireCustomEvent('Touchable:swipeLeft', event);
	    } else if (event.swipeX) {
	      this.element.fireCustomEvent('Touchable:swipeRight', event);
	    } else if (event.swipeY && event.touchY > 0) {
	      this.element.fireCustomEvent('Touchable:swipeUp', event);
	    } else if (event.swipeY) {
	      this.element.fireCustomEvent('Touchable:swipeDown', event);
	    }
	  }

	  /**
	   * Handle the touch cancel event.
	   *
	   * @param {TouchEvent} event The touch event.
	   * @private
	   */
	  _handleTouchCancel(event) {
	    this._collectTouchData(event);
	    this._finished();
	    if (Utils.isDefined(this.eventPropagationHandler)) {
	      this.eventPropagationHandler(event);
	    }
	  }

	  /**
	   * Handle the touch end event.
	   *
	   * @param {TouchEvent} event The touch event.
	   * @private
	   */
	  _handleTouchEnd(event) {
	    this._collectTouchData(event);
	    this._finished();
	    if (Utils.isDefined(this.eventPropagationHandler)) {
	      this.eventPropagationHandler(event);
	    }
	  }

	  /**
	   * Handle the touch move event.
	   *
	   * @param {TouchEvent} event The touch event.
	   * @private
	   */
	  _handleTouchMove(event) {
	    this.element.fireEvent('Touchable:move', event);
	    if (Utils.isDefined(this.eventPropagationHandler)) {
	      this.eventPropagationHandler(event);
	    }
	  }

	  /**
	   * Handle the touch start event.
	   *
	   * @param {TouchEvent} event The touch event.
	   * @private
	   */
	  _handleTouchStart(event) {
	    const touchPoints = event.changedTouches.length;
	    if (touchPoints > 1) {
	      if (Utils.isDefined(this.eventPropagationHandler)) {
	        this.eventPropagationHandler(event);
	      }

	      return;
	    }

	    const touch = event.changedTouches[0];
	    this.touchStarted = new Date().getTime();
	    this.touchStartX = touch.pageX;
	    this.touchStartY = touch.pageY;
	    if (Utils.isDefined(this.eventPropagationHandler)) {
	      this.eventPropagationHandler(event);
	    }
	  }
	}

	/*
	 * Copyright (c) 2015-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class SideMenu {
	  /**
	   * Constructs the side menu.
	   *
	   * @param {PrimeElement|Element} button The button element that is used to open the side menu.
	   * @param {PrimeElement|Element} sideMenuElement The side menu element that will be "hidden" and "show".
	   * @constructor
	   */
	  constructor(button, sideMenuElement) {
	    Utils.bindAll(this);
	    this.sideMenu = PrimeElement.wrap(sideMenuElement);
	    this.button = PrimeElement.wrap(button);
	    this._setInitialOptions();
	  }

	  /**
	   * Closes the side menu.
	   *
	   * @returns {SideMenu} This.
	   */
	  close() {
	    if (!PrimeDocument.bodyElement.hasClass(this.options.closedClass)) {
	      PrimeDocument.bodyElement.addClass(this.options.closedClass);
	    }

	    if (PrimeDocument.bodyElement.hasClass(this.options.openClass)) {
	      PrimeDocument.bodyElement.removeClass(this.options.openClass);
	    }

	    return this;
	  }

	  /**
	   * Initializes the widget by attaching the event listener to the menu button.
	   *
	   * @returns {SideMenu}
	   */
	  initialize() {
	    this.button.addEventListener('click', this._handleClickEvent);
	    return this;
	  }

	  /**
	   * @returns {boolean} True if the side menu is currently open.
	   */
	  isOpen() {
	    return this.sideMenu.getLeft() >= 0;
	    // return PrimeDocument.bodyElement.hasClass('prime-side-menu-open') || !PrimeDocument.bodyElement.hasClass('prime-side-menu-closed');
	  }

	  /**
	   * Opens the mobile nav.
	   * @returns {SideMenu} This.
	   */
	  open() {
	    if (PrimeDocument.bodyElement.hasClass(this.options.closedClass)) {
	      PrimeDocument.bodyElement.removeClass(this.options.closedClass);
	    }

	    if (!PrimeDocument.bodyElement.hasClass(this.options.openClass)) {
	      PrimeDocument.bodyElement.addClass(this.options.openClass);
	    }

	    this.touchable = new Touchable(PrimeDocument.bodyElement).withSwipeLeftHandler(this._handleSwipeLeft);
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {SideMenu} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Handles the click event on the side menu button and calls either the open or close function.
	   *
	   * @private
	   */
	  _handleClickEvent(event) {
	    Utils.stopEvent(event);
	    if (this.isOpen()) {
	      this.close();
	    } else {
	      this.open();
	    }
	  }

	  /**
	   * Handles the synthetic swipe left event that Prime.js provides.
	   *
	   * @private
	   */
	  _handleSwipeLeft() {
	    if (this.isOpen()) {
	      this.close();
	    }

	    if (Utils.isDefined(this.touchable)) {
	      this.touchable.destroy();
	      this.touchable = null;
	    }
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      closedClass: 'prime-side-menu-closed',
	      openClass: 'prime-side-menu-open'
	    };

	    const userOptions = Utils.dataSetToOptions(this.sideMenu);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	const PrimeStorage = {
	  /**
	   * True if local storage is supported.
	   * @type {boolean} true if local storage is supported. Local in this case being used to indicate either type 'local' or 'session'.
	   */
	  supported: typeof(Storage) !== 'undefined',

	  /**
	   * Set an object into session storage.
	   * @param key {string} the key to store the object.
	   * @param object {object} the object to store.
	   */
	  setSessionObject: function(key, object) {
	    PrimeStorage._setObject(sessionStorage, key, object);
	  },

	  /**
	   * Retrieve an object from session storage.
	   * @param key {string} the key that was used to store the object.
	   * @return {object} the stored object or null if it does not exist or local storage is not supported.
	   */
	  getSessionObject: function(key) {
	    return PrimeStorage._getObject(sessionStorage, key);
	  },

	  /**
	   * Set an object into local storage storage.
	   * @param key {string} the key to store the object.
	   * @param object {object} the object to store.
	   */
	  setLocalObject: function(key, object) {
	    PrimeStorage._setObject(localStorage, key, object);
	  },

	  /**
	   * Retrieve an object from local storage.
	   * @param key {string} the key that was used to store the object.
	   * @return {object} the stored object or null if it does not exist or local storage is not supported.
	   */
	  getLocalObject: function(key) {
	    return PrimeStorage._getObject(localStorage, key);
	  },

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  _getObject: function(storage, key) {
	    if (PrimeStorage.supported) {
	      const item = storage.getItem(key);
	      if (item !== null) {
	        return JSON.parse(item);
	      }
	    }

	    return null;
	  },

	  _setObject: function(storage, key, object) {
	    if (PrimeStorage.supported) {
	      storage.setItem(key, JSON.stringify(object));
	    }
	  }
	};

	/*
	 * Copyright (c) 2014-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class SplitButton {
	  /**
	   * Constructs a new SplitButton object for the given element.
	   *
	   * The markup must be a specific structure in order for the SplitButton to remember the last action the user took
	   * as well as show and hide the menu of items.
	   *
	   * Here's the format for the elements.
	   *
	   * <pre>
	   *   &lt;div class="split-button"&gt;
	   *     &lt;a href="#"&gt;Loading... &lt;/a&gt;
	   *     &lt;button type="button"&gt;&lt;/button&gt;
	   *     &lt;div type="menu"&gt;
	   *       &lt;a class="item" href="/admin/foo/add/"&gt;Add&lt;/a&gt;
	   *       &lt;a class="item" href="/admin/foo/delete/"&gt;Delete&lt;/a&gt;
	   *     &lt;/div&gt;
	   *   &lt;/ul&gt;
	   * </pre>
	   *
	   * Also, it is important to understand how to attach event listeners to the SplitButton. You cannot attach them to
	   * the individual menu items since those will never be clicked. Instead, you must attach them to the div at the top
	   * and handle all the events from inside. This is due to how the split button changes the main button based on the
	   * action the user took last.
	   *
	   * @param element {PrimeElement|Element|EventTarget} The element to transform into a split button.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this.currentAction = this.element.queryFirst('a');
	    if (this.currentAction === null) {
	      throw new TypeError('The SplitButton element must contain an <a> that is the currently selected action.');
	    }
	    this.loading = this.currentAction;

	    this.button = this.element.queryFirst('button');
	    if (this.button === null) {
	      throw new TypeError('The SplitButton element must contain a <button> that is used to open it.');
	    }

	    this.menu = this.element.queryFirst('.menu');
	    if (this.menu === null) {
	      throw new TypeError('The SplitButton element must contain a <div class="menu"> that contains the menu items.');
	    }

	    this.items = this.menu.query('.item');
	    if (this.items.length === 0) {
	      throw new TypeError('The SplitButton element must contain at least one item.');
	    }

	    this.actionIndex = null;
	    this.options = {};
	    this._setInitialOptions();
	  }

	  /**
	   * Removes the event listeners.
	   */
	  destroy() {
	    this.button.removeEventListener('click', this._handleButtonClick);
	  }

	  /**
	   * Initializes the SplitButton by setting up all the event listeners and managing the default action or the last action
	   * that the user took.
	   */
	  initialize() {
	    this.button.addEventListener('click', this._handleButtonClick);
	    this.items.each(item => item.addEventListener('click', this._handleItemClick));
	    this.redraw();
	    return this;
	  }

	  redraw() {
	    // Load the last action (if any)
	    let actionId = null;
	    if (PrimeStorage.supported && this.options.localStorageKey !== null) {
	      actionId = PrimeStorage.getSessionObject(this.options.localStorageKey);
	      if (actionId !== null) {
	        this.selectAction(actionId);
	      }
	    }

	    // If no action is selected from local storage, select the default
	    if (actionId === null) {
	      this.selectDefaultAction();
	    }

	    return this;
	  }

	  selectAction(actionId) {
	    const item = PrimeDocument.queryById(actionId);
	    if (item !== null) {
	      let classes = '';
	      if (this.loading !== null) {
	        classes = this.loading.getAttribute('class');
	        this.loading.removeFromDOM();
	        this.loading = null;
	      } else {
	        classes = this.currentAction.getAttribute('class');
	        this.currentAction.setAttribute('class', this.currentAction.getAttribute('data-original-class'));
	        this.currentAction.removeFromDOM();
	        this.currentAction.prependTo(this.menu);
	      }

	      item.setAttribute('data-original-class', item.getAttribute('class'));
	      item.setAttribute('class', classes);
	      item.removeFromDOM();
	      item.prependTo(this.element);
	      this.currentAction = item;
	    } else {
	      // This shouldn't infinitely recurse because that method always finds something
	      this.selectDefaultAction();
	    }

	    // this.currentAction.setAttribute('href', item.getAttribute('href'));
	    // this.currentAction.setHTML(item.getHTML());
	    return this;
	  }

	  selectDefaultAction() {
	    // Find the default
	    let actionId = null;
	    for (let i = 0; i < this.items.length; i++) {
	      if (this.items[i].hasClass('default')) {
	        actionId = this.items[i].getId();
	        break;
	      }
	    }

	    // Fall back if it wasn't found
	    if (actionId === null) {
	      actionId = this.items[0].getId();
	    }

	    // Select the default (or first item)
	    if (actionId !== null) {
	      this._saveLastAction(actionId);
	      this.selectAction(actionId);
	    }

	    return this;
	  }

	  withLocalStorageKey(localStorageKey) {
	    this.options.localStorageKey = localStorageKey;
	    return this;
	  }

	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }

	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Handles the button click event.
	   * @private
	   */
	  _handleButtonClick(event) {
	    Utils.stopEvent(event);
	    if (this.menu.isVisible()) {
	      this.menu.hide();
	    } else {
	      this.menu.show();
	    }
	  }

	  /**
	   * Handles the item click event to update the last action in local storage (if enabled).
	   * @private
	   */
	  _handleItemClick(event) {
	    for (let i = 0; i < this.items.length; i++) {
	      if (this.items[i].domElement === event.target) {
	        let actionId = this.items[i].getId();
	        this._saveLastAction(actionId);
	        this.selectAction(actionId);
	        this.menu.hide();
	        break;
	      }
	    }
	  }

	  _saveLastAction(actionId) {
	    if (PrimeStorage.supported && this.options.localStorageKey !== null) {
	      PrimeStorage.setSessionObject(this.options.localStorageKey, actionId);
	    }
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      localStorageKey: null
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2017-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class Table {
	  /**
	   * Constructs a new Table object for the given table element.
	   *
	   * @param {PrimeElement|Element} element The table element.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.column = null;
	    this.columnIndex = 0;
	    this.sortAscending = true;

	    this.element = PrimeElement.wrap(element);
	    this.thead = this.element.queryFirst('thead');
	    this.tbody = this.element.queryFirst('tbody');

	    if (!this.element.is('table')) {
	      throw new TypeError('The element you passed in is not a table element.');
	    }

	    this._setInitialOptions();
	  }

	  /**
	   * Initializes the table widget.
	   *
	   * @returns {Table} This.
	   */
	  initialize() {
	    // Sortable by default unless it is disabled
	    if (this.element.getDataAttribute('sortable') !== 'false') {
	      this._initializeSort();
	    }

	    // Initialize the checkbox handling
	    this.selectAll = this.element.queryFirst('thead > tr > th input[type="checkbox"]');
	    if (this.selectAll !== null) {
	      this.selectAll.addEventListener('change', this._handleSelectAllChange);
	    }

	    this.element.query('tbody > tr > td input[type="checkbox"]').addEventListener('click', this._handleCheckboxEvent);
	    this.checkedCount = 0;
	    this.numberofCheckboxes = this.element.query('tbody td input[type="checkbox"]').length;

	    return this;
	  }

	  /**
	   * Sort the table.
	   */
	  sort() {
	    this._clearSortIndicators();

	    if (this.column.hasClass('sort-up')) {
	      this.column.removeClass('sort-up').addClass('sort-down');
	      this.sortAscending = false;
	    } else if (this.column.hasClass('sort-down')) {
	      this.column.removeClass('sort-down').addClass('sort-up');
	      this.sortAscending = true;
	    } else {
	      this.column.addClass('sort-up');
	      this.sortAscending = true;
	    }

	    // Collect the values to sort
	    const rows = [];
	    this.tbody.query('tr').each(function(element) {
	      rows.push(element);
	    });

	    rows.sort(this._comparator);
	    let i = 0;
	    const length = rows.length;
	    if (this.sortAscending) {
	      for (i = 0; i <  length; i++) {
	        this.tbody.appendElement(rows[i]);
	      }
	    } else {
	      for (i = length; i > 0; i--) {
	        this.tbody.appendElement(rows[i - 1]);
	      }
	    }

	    // Save current sorted column state in local storage.
	    if (PrimeStorage.supported && this.options.localStorageKey !== null) {
	      const data = {
	        columnIndex: this.columnIndex,
	        sortAscending: this.sortAscending
	      };
	      PrimeStorage.setSessionObject(this.options.localStorageKey, data);
	    }
	  }

	  /**
	   * Sets a callback on a checkbox event.
	   *
	   * @param {function} callback The callback function
	   * @returns {Table} This.
	   */
	  withCheckEventCallback(callback) {
	    this.options.checkEventCallback = callback;
	    return this;
	  }

	  /**
	   * Enables local storage of the sorted column. This key is required to enable local storage of the sorted column.
	   *
	   * @param {String} key The local storage key.
	   * @returns {Table} This.
	   */
	  withLocalStorageKey(key) {
	    this.options.localStorageKey = key;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {Table} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Remove the ascending and descending sort classes on every column except the current column being sorted.
	   * @private
	   */
	  _clearSortIndicators() {
	    this.thead.query('th').each((function(element) {
	      if (element.domElement !== this.column.domElement) {
	        element.removeClass('sort-up sort-down');
	      }
	    }).bind(this));
	  }

	  /**
	   * Sort function to be used by the .sort() method.
	   * @param a The first row to compare
	   * @param b The second row to compare
	   * @returns {number}
	   * @private
	   */
	  _comparator(a, b) {
	    const sortType = this.thead.query('th')[this.columnIndex].getDataAttribute('sortType') || 'string';
	    if (sortType !== 'string' && sortType !== 'number') {
	      throw new Error('Unsupported sort type. [string] or [number] are the two supported sort types.');
	    }

	    const cell1 = a.query('td')[this.columnIndex];
	    const cell2 = b.query('td')[this.columnIndex];

	    const sortValue1 = cell1.getDataAttribute('sortValue');
	    const sortValue2 = cell2.getDataAttribute('sortValue');

	    // Prefer the data-sort-value if provided
	    let value1 = sortValue1 || cell1.getTextContent().toLowerCase();
	    let value2 = sortValue2 || cell2.getTextContent().toLowerCase();

	    if (sortType === 'string') {
	      return value1.localeCompare(value2);
	    } else {
	      value1 = this._toNumber(value1);
	      value2 = this._toNumber(value2);

	      if (value1 < value2) {
	        return -1;
	      }

	      if (value1 > value2) {
	        return 1;
	      }

	      return 0;
	    }
	  }

	  // noinspection JSMethodCanBeStatic
	  /**
	   * Return the column index where 0 is the first column in the table.
	   * @param column {PrimeElement} the column to determine the index of
	   * @returns {number} a positive integer representing the index of the column in the table.
	   * @private
	   */
	  _getColumnIndex(column) {
	    let columnIndex = 0;
	    let current = column;
	    let previous = column;
	    while (previous !== null) {
	      previous = current.getPreviousSibling();
	      current = previous;
	      columnIndex++;
	    }

	    return columnIndex - 1;
	  }

	  _handleCheckboxEvent(event) {
	    const target = new PrimeElement(event.currentTarget);
	    const currentCheckedCount = this.checkedCount;
	    this.checkedCount = this.checkedCount + (target.isChecked() ? 1 : -1);

	    if (this.selectAll !== null) {
	      if (currentCheckedCount === this.numberofCheckboxes && this.numberofCheckboxes !== this.checkedCount) {
	        this.selectAll.setChecked(false);
	      } else if (currentCheckedCount !== this.numberofCheckboxes && this.numberofCheckboxes === this.checkedCount) {
	        this.selectAll.setChecked(true);
	      }
	    }

	    if (this.options.checkEventCallback !== null) {
	      this.options.checkEventCallback({
	        checkedCount: this.checkedCount
	      });
	    }
	  }

	  _handleSelectAllChange() {
	    if (this.selectAll.isChecked()) {
	      this.element.query('tbody tr > td input[type="checkbox"]').each(function(e) {
	        if (!e.isChecked()) {
	          e.setChecked(true);
	          this.checkedCount++;
	        }
	      }.bind(this));
	    } else {
	      this.element.query('tbody tr > td input[type="checkbox"]').each(function(e) {
	        if (e.isChecked()) {
	          e.setChecked(false);
	          this.checkedCount--;
	        }
	      }.bind(this));
	    }

	    if (this.options.checkEventCallback !== null) {
	      this.options.checkEventCallback({
	        checkedCount: this.checkedCount
	      });
	    }
	  }

	  /**
	   * Handle the click event on the sortable column.
	   * @param event {MouseEvent} the click event
	   * @private
	   */
	  _handleSortableColumnClick(event) {
	    Utils.stopEvent(event);
	    const target = new PrimeElement(event.currentTarget);
	    this.column = target;
	    this.columnIndex = this._getColumnIndex(target);

	    this.sort();
	  }

	  /**
	   * Add the click event listener to the column unless it matches the ignore selector.
	   * @param column {PrimeElement} the column element to initialize.
	   * @private
	   */
	  _initializeColumn(column) {
	    if (!column.is('[data-sortable="false"]') && column.queryFirst('input[type="checkbox"]') === null) {
	      column.addClass('sortable').addEventListener('click', this._handleSortableColumnClick);
	    }
	  }

	  _initializeSort() {
	    this.thead.query('th').each(this._initializeColumn);

	    if (PrimeStorage.supported && this.options.localStorageKey !== null) {
	      const state = PrimeStorage.getSessionObject(this.options.localStorageKey);
	      if (state !== null) {
	        this.columnIndex = state.columnIndex;
	        this.sortAscending = state.sortAscending;

	        this.column = this.thead.query('th')[this.columnIndex];
	        if (this.sortAscending) {
	          this.column.addClass('sort-down');
	        } else {
	          this.column.addClass('sort-up');
	        }

	        this.sort();
	      }
	    }
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      localStorageKey: null,
	      checkEventCallback: null
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }

	  // noinspection JSMethodCanBeStatic
	  _toNumber(value) {
	    const number = Number(value);
	    if (isNaN(value)) {
	      console.error(new Error('Expected value [' + value + '] to be a number.'));
	      return value;
	    }
	    return number;
	  }
	}

	/*
	 * Copyright (c) 2015-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class Tabs {
	  /**
	   * Constructs a new Tabs object for the given ul element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The ul element to build the tab widget from
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    if (this.element.getTagName().toLowerCase() === 'ul') {
	      this.tabsContainer = this.element;
	    } else {
	      this.tabsContainer = this.element.queryFirst('ul');
	    }

	    if (this.tabsContainer === null) {
	      throw new TypeError('Tabs requires a ul element. The passed element does not contain a ul element');
	    }

	    this._setInitialOptions();
	    this.tabContents = {};
	    this.tabs = {};
	    this.tabArray = [];
	    this.selectedTab = null;
	  }

	  /**
	   * Destroys the Tabs widget
	   */
	  destroy() {
	    this.tabsContainer.query('a').each(function(a) {
	      a.removeEventListener('click', this._handleClick);
	    }.bind(this));

	    for (let i = 0; i < this.tabs.length; i++) {
	      this.tabs[i].removeClass(this.options.tabContentClass);
	    }
	  }

	  /**
	   * Hides the tab for the given Id.
	   *
	   * @param id The Id of the tab to hide.
	   */
	  hideTab(id) {
	    const tab = this.tabs[id];
	    tab.hide();
	    this.redraw();
	  }

	  /**
	   * Initializes the Tabs widget. Call this after you have set all the initial options.
	   *
	   * @returns {Tabs} This.
	   */
	  initialize() {
	    this.tabsContainer.query('li:not(.disabled)').each(function(tab) {
	      const a = tab.queryFirst('a').addEventListener('click', this._handleClick);
	      const dataSet = tab.getDataSet();

	      const href = a.getAttribute('href');
	      const isAnchor = href.charAt(0) === '#';
	      if (isAnchor) {
	        dataSet.tabId = href.substring(1);
	        dataSet.tabUrl = '';
	      } else {
	        dataSet.tabId = href;
	        dataSet.tabUrl = href;
	      }

	      this.tabs[dataSet.tabId] = tab;
	      this.tabArray.push(tab);

	      let content = PrimeDocument.queryById(dataSet.tabId);
	      if (content === null && isAnchor) {
	        throw new Error('A div is required with the following ID [' + dataSet.tabId + ']');
	      } else if (content === null) {
	        content = PrimeDocument.newElement('<div>').insertAfter(this.element).setAttribute('id', href);
	      }

	      content.hide();

	      content.addClass(this.options.tabContentClass);
	      this.tabContents[dataSet.tabId] = content;
	    }.bind(this));

	    if (this.options.deepLinkingEnabled) {
	      const tabId = window.location.hash.replace(/^#/, '');
	      if (Utils.isDefined(tabId) && Utils.isDefined(this.tabs[tabId])) {
	        this.selectTab(tabId);
	      }
	    }

	    this.redraw();
	    return this;
	  }

	  /**
	   * Re-applies the first-child, last-child, and active classes based on the current state of the tabs. If there
	   * is no tab that is active, this also selects the first tab that is visible.
	   */
	  redraw() {
	    let firstVisible = null;
	    let lastVisible = null;
	    let selectNew = false;
	    let noneActive = true;
	    for (let i = 0; i < this.tabArray.length; i++) {
	      if (this.tabArray[i].isVisible()) {
	        if (firstVisible === null) {
	          firstVisible = this.tabArray[i];
	        }

	        lastVisible = this.tabArray[i];

	        if (this.tabArray[i].hasClass('selected')) {
	          noneActive = false;
	        }
	      } else if (this.tabArray[i].hasClass('selected')) {
	        selectNew = true;
	      }

	      this.tabArray[i].removeClass('first-visible-tab');
	      this.tabArray[i].removeClass('last-visible-tab');
	    }

	    firstVisible.addClass('first-visible-tab');
	    lastVisible.addClass('last-visible-tab');

	    let tabId = null;
	    if (selectNew || noneActive) {
	      if (PrimeStorage.supported && this.options.localStorageKey !== null) {
	        const state = PrimeStorage.getSessionObject(this.options.localStorageKey);
	        if (state !== null) {
	          tabId = state.tabId;
	        }
	      }

	      // If no tabId was found or the tab is not currently visible, select the first visible
	      if (tabId === null || !this.tabs[tabId] || !this.tabs[tabId].isVisible()) {
	        tabId = firstVisible.getDataSet().tabId;
	      }

	      this.selectTab(tabId);
	    }

	    // If error class handling was enabled, add the error class to the tab and set focus
	    if (this.options.errorClass) {
	      for (tabId in this.tabContents) {
	        if (this.tabContents.hasOwnProperty(tabId)) {
	          const errorElement = this.tabContents[tabId].queryFirst('.' + this.options.errorClass);
	          if (errorElement !== null) {
	            this.tabs[tabId].queryFirst('a').addClass(this.options.errorClass);
	            this.selectTab(tabId);
	          }
	        }
	      }
	    }
	  }

	  /**
	   * Select the active tab. Sets the active class on the li and shows only the corresponding tab content.
	   *
	   * @param id The Id of the tab to select.
	   */
	  selectTab(id) {
	    if (this.selectedTab !== null && this.selectedTab.getDataSet().tabId === id) {
	      return;
	    }

	    for (const tabId in this.tabs) {
	      if (this.tabs.hasOwnProperty(tabId)) {
	        this.tabs[tabId].removeClass('selected');
	      }
	    }

	    this.tabs[id].addClass('selected');
	    this.selectedTab = this.tabs[id];
	    for (const tabId in this.tabContents) {
	      if (this.tabContents.hasOwnProperty(tabId) && tabId === id) {
	        this.tabContents[tabId].show('block');
	        if (this.options.selectCallback) {
	          this.options.selectCallback(this.tabs[tabId], this.tabContents[tabId]);
	        }
	      } else {
	        this.tabContents[tabId].hide();
	      }
	    }

	    // Save current selected tab state in local storage. The JSON object isn't necessary at the moment,
	    // but we can tack on other properties as needed for additional state in the future.
	    if (PrimeStorage.supported && this.options.localStorageKey !== null) {
	      const data = {
	        tabId: id
	      };
	      PrimeStorage.setSessionObject(this.options.localStorageKey, data);
	    }

	    const ajaxURL = this.selectedTab.getDataSet().tabUrl;
	    if (ajaxURL !== '') {
	      this.selectedTab.addClass('loading');
	      this.tabContents[id].setHTML('');
	      this.tabContents[id].addClass('loading');
	      new PrimeRequest(ajaxURL, 'GET')
	          .withSuccessHandler(this._handleAJAXResponse)
	          .withErrorHandler(this._handleAJAXResponse)
	          .go();
	    }
	  }

	  /**
	   * Shows the tab for the given Id.
	   *
	   * @param {String} id The Id of the tab to hide.
	   */
	  showTab(id) {
	    this.tabs[id].show();
	    this.redraw();
	  }

	  /**
	   * Adds a callback for AJAX calls. This is invoked after the AJAX load completes and the HTML is inserted into the
	   * DOM. The function is passed the container for the tab that was selected.
	   *
	   * @param {Function} callback The callback function.
	   * @returns {Tabs} This Tabs.
	   */
	  withAJAXCallback(callback) {
	    this.options.ajaxCallback = callback;
	    return this;
	  }

	  /**
	   * Disable the default behavior of allowing a deep link provided on the URL to set the default tab during render.
	   *
	   * @returns {Tabs} This Tabs.
	   */
	  withDeepLinkingDisabled() {
	    this.options.deepLinkingEnabled = false;
	    return this;
	  }

	  /**
	   * Enable error class handling. When this option is used, if the specified error class is found on any element
	   * in the tab content the same error class will be added to the tab to identify the tab contains errors.
	   *
	   * @returns {Tabs} This Tabs.
	   */
	  withErrorClassHandling(errorClass) {
	    this.options.errorClass = errorClass;
	    return this;
	  }

	  /**
	   * Enables local storage of the currently selected tab. If the user navigates away from the page and back, the same
	   * tab will be selected. This key is how the selected tab is stored in local storage and by setting a key you also
	   * enable this feature.
	   *
	   * @param {?String} key The local storage key.
	   * @returns {Tabs} This Tabs.
	   */
	  withLocalStorageKey(key) {
	    this.options.localStorageKey = key;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {Tabs} This Tabs.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /**
	   * Specifies a callback function that is called whenever tabs are changed.
	   *
	   * @param {?Function} callback The callback function.
	   * @returns {Tabs} This Tabs.
	   */
	  withSelectCallback(callback) {
	    this.options.selectCallback = callback;
	    return this;
	  }

	  /**
	   * Sets the class name for the tab content elements.
	   *
	   * @param className {String} The class name.
	   * @returns {Tabs}
	   */
	  withTabContentClass(className) {
	    this.options.tabContentClass = className;
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Handles the AJAX response.
	   *
	   * @param {XMLHttpRequest} xhr The AJAX response.
	   * @private
	   */
	  _handleAJAXResponse(xhr) {
	    this.selectedTab.removeClass('loading');
	    const container = this.tabContents[this.selectedTab.getDataSet().tabId];
	    container.removeClass('loading');
	    container.setHTML(xhr.responseText);

	    if (this.options.ajaxCallback !== null) {
	      this.options.ajaxCallback(container);
	    }
	  }

	  /**
	   * Handle the tab click by showing the corresponding panel and hiding the others.
	   *
	   * @param {MouseEvent} event The click event on the anchor tag.
	   * @private
	   */
	  _handleClick(event) {
	    Utils.stopEvent(event);
	    const a = new PrimeElement(event.currentTarget);
	    if (!a.hasClass('disabled')) {
	      const href = a.getAttribute('href');
	      if (href.charAt(0) === '#') {
	        this.selectTab(href.substring(1));
	      } else {
	        this.selectTab(href);
	      }
	    }
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      ajaxCallback: null,
	      errorClass: null,
	      deepLinkingEnabled: true,
	      localStorageKey: null,
	      selectCallback: null,
	      tabContentClass: 'prime-tab-content'
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2017-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	const open = [];

	class Tooltip {
	  /**
	   * Constructs a new Tooltip object for the given element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for the Tooltip widget.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = PrimeElement.wrap(element);
	    this._setInitialOptions();
	  }

	  static get open() {
	    return open;
	  }

	  /**
	   * Hides the tooltip.
	   *
	   * @returns {Tooltip} This.
	   */
	  hide() {
	    if (Tooltip.open.length > 0) {
	      Tooltip.open.forEach(function(t) {
	        t.removeFromDOM();
	      });
	    }
	    return this;
	  }

	  /**
	   * Initializes the widget by attaching event listeners to the element.
	   *
	   * @returns {Tooltip} This.
	   */
	  initialize() {
	    this.element.addEventListener('mouseenter', this._handleMouseEnter).addEventListener('mouseleave', this._handleMouseLeave);
	    PrimeDocument.addEventListener('scroll', this._handleMouseLeave);
	    return this;
	  }

	  /**
	   * Shows the tooltip.
	   *
	   * @returns {Tooltip} This.
	   */
	  show() {
	    const text = this.element.getDataSet()[this.options.dataName] || this.element.getAttribute('title');
	    const zIndex = this.element.getRelativeZIndex();
	    let classNames = this.options.className + ' ' + this.element.getTagName().toLocaleLowerCase();
	    if (this.options.additionalClasses !== null) {
	      classNames = classNames + ' ' + this.options.additionalClasses;
	    }
	    const tooltip = PrimeDocument.newElement('<span>')
	        .appendTo(PrimeDocument.bodyElement)
	        .addClass(classNames)
	        .setHTML(text)
	        .setStyle('zIndex', zIndex + 10);

	    const left = this.element.getLeft();
	    const top = this.element.getTop();
	    const width = this.element.getWidth();
	    const tooltipWidth = tooltip.getWidth();
	    const tooltipHeight = tooltip.getHeight();

	    tooltip.setLeft(left - (tooltipWidth / 2) + (width / 2));
	    tooltip.setTop(top - tooltipHeight - 8);

	    // If the tooltip is too close to the top of the screen invert it and move it under the element
	    if ((top - tooltipHeight - 8) < 0) {
	      tooltip.setTop(top + this.element.getHeight() + 8).addClass('inverted');
	    }

	    Tooltip.open.push(tooltip);
	    return this;
	  }

	  /**
	   * Sets the class name to use when creating the tooltip.
	   *
	   * @param additionalClasses {?String} The class name or spaces separated names.
	   * @returns {Tooltip} This.
	   */
	  withAdditionalClassNames(additionalClasses) {
	    this.options.additionalClasses = additionalClasses;
	    return this;
	  }

	  /**
	   * Sets the class name to use when creating the tooltip.
	   *
	   * @param className {String} The class name.
	   * @returns {Tooltip} This.
	   */
	  withClassName(className) {
	    this.options.className = className;
	    return this;
	  }

	  /**
	   * Set data-set name to pull the tooltip text from.
	   *
	   * @param {string} name The data-set name.
	   * @returns {Tooltip} This.
	   */
	  withDataName(name) {
	    this.options.dataName = name;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {Tooltip} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Handles the mouse enter event to show the tooltip.
	   *
	   * @private
	   */
	  _handleMouseEnter() {
	    this.show();
	  }

	  /**
	   * Handles the mouse exit event to hide the tooltip.
	   *
	   * @private
	   */
	  _handleMouseLeave() {
	    this.hide();
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      additionalClasses: null,
	      className: 'prime-tooltip',
	      dataName: 'tooltip'
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	PrimeDocument.onReady(function() {
	  // Fix browser issues with tooltips sticking around on back-button navigation
	  PrimeWindow.addEventListener('beforeunload', function() {
	    if (Tooltip.open.length > 0) {
	      Tooltip.open.forEach(function(t) {
	        t.removeFromDOM();
	      });
	    }
	  });
	});

	/*
	 * Copyright (c) 2016-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class TreeView {
	  /**
	   * Constructs a new TreeView object for the given element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element for the TreeView widget.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);
	    this.element = PrimeElement.wrap(element);
	    this._setInitialOptions();
	  }

	  /**
	   * Initializes the element by traverse its children to find all of the anchor tags with the folder-toggle class (or
	   * whatever you set the class to).
	   *
	   * @returns {TreeView} This.
	   */
	  initialize() {
	    this.element.query('a.' + this.options.folderToggleClassName).each(function(e) {
	      e.addEventListener('click', this._handleClick);
	    }.bind(this));
	    return this;
	  }

	  /**
	   * Sets the folder toggle class name.
	   *
	   * @param className {String} The class name.
	   * @returns {TreeView} This.
	   */
	  withFolderToggleClassName(className) {
	    this.options.folderToggleClassName = className;
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  // noinspection JSMethodCanBeStatic
	  /**
	   * Handles the click event.
	   * @private
	   */
	  _handleClick(event) {
	    Utils.stopEvent(event);
	    const a = PrimeElement.wrap(event.target);
	    const li = a.getParent();
	    if (a.hasClass('open')) {
	      a.removeClass('open');
	      li.removeClass('open');
	    } else {
	      a.addClass('open');
	      li.addClass('open');
	    }
	  }

	  /**
	   * Set the initial options for this widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      folderToggleClassName: 'prime-folder-toggle'
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (const option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	var Widgets = /*#__PURE__*/Object.freeze({
		__proto__: null,
		AJAXDialog: AJAXDialog,
		DateTimePicker: DateTimePicker,
		Dismissable: Dismissable,
		Draggable: Draggable,
		HTMLDialog: HTMLDialog,
		InProgress: InProgress,
		MultipleSelect: MultipleSelect,
		Overlay: Overlay,
		Reorder: Reorder,
		Searcher: Searcher,
		SideMenu: SideMenu,
		SplitButton: SplitButton,
		Table: Table,
		Tabs: Tabs,
		Tooltip: Tooltip,
		Touchable: Touchable,
		TreeView: TreeView
	});

	/*
	 * Copyright (c) 2012-2018, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class BaseTransition {
	  /**
	   * Constructs a BaseTransition for the given element.
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element the effect will be applied to.
	   * @param {number} endValue The end value for the transition.
	   * @constructor
	   */
	  constructor(element, endValue) {
	    Utils.bindAll(this);
	    this.element = PrimeElement.wrap(element);
	    this.duration = 1000;
	    this.endFunction = null;
	    this.endValue = endValue;
	    this.iterations = 20;
	  }

	  /**
	   * Sets the function that is called when the effect has completed.
	   *
	   * @param {Function} endFunction The function that is called when the effect is completed.
	   * @returns {BaseTransition} This Effect.
	   */
	  withEndFunction(endFunction) {
	    this.endFunction = endFunction;
	    return this;
	  }

	  /**
	   * Sets the duration of the fade-out effect.
	   *
	   * @param {number} duration The duration in milliseconds.
	   * @returns {BaseTransition} This Effect.
	   */
	  withDuration(duration) {
	    if (duration < 100) {
	      throw new TypeError('Duration should be greater than 100 milliseconds or it won\'t really be noticeable');
	    }

	    this.duration = duration;
	    return this;
	  }

	  /*
	   * Protected functions
	   */

	  /**
	   * Changes an integer style property of the Element iteratively over a given period of time from one value to another
	   * value.
	   *
	   * @protected
	   * @param {Function} getFunction The function on the element to call to get the current value for the transition.
	   * @param {Function} setFunction The function on the element to call to set the new value for the transition.
	   */
	  _changeNumberStyleIteratively(getFunction, setFunction) {
	    let currentValue = getFunction.call(this.element);
	    const step = Math.abs(this.endValue - currentValue) / this.iterations;

	    // Close around ourselves
	    const self = this;
	    const stepFunction = function(last) {
	      if (last) {
	        currentValue = self.endValue;
	      } else {
	        if (currentValue < self.endValue) {
	          currentValue += step;
	        } else {
	          currentValue -= step;
	        }
	      }

	      setFunction.call(self.element, currentValue);
	    };

	    Utils.callIteratively(this.duration, this.iterations, stepFunction, this._internalEndFunction);
	  }

	  /* ===================================================================================================================
	   * Private Methods
	   * ===================================================================================================================*/

	  /**
	   * Handles the call back at the end.
	   *
	   * @private
	   */
	  _internalEndFunction() {
	    this._subclassEndFunction(this);

	    if (this.endFunction) {
	      this.endFunction(this);
	    }
	  }

	  /**
	   * Virtual function stub
	   *
	   * @private
	   */
	  _subclassEndFunction() {
	  }
	}

	class Fade extends BaseTransition {
	  /**
	   * Constructs a new Fade for the given element. The fade effect uses the CSS opacity style and supports the IE alpha
	   * style. The duration defaults to 1000 milliseconds (1 second). This changes the opacity over the duration from 1.0 to
	   * 0.0. At the end, this hides the element so that it doesn't take up any space.
	   *
	   * @constructor
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element to fade out.
	   */
	  constructor(element) {
	    super(element, 0.0);
	  }

	  /**
	   * Internal call back at the end of the transition. This hides the element so it doesn't take up space.
	   *
	   * @override
	   * @private
	   */
	  _subclassEndFunction() {
	    this.element.hide();
	  }

	  /**
	   * Executes the fade effect on the element using the opacity style.
	   */
	  go() {
	    this._changeNumberStyleIteratively(this.element.getOpacity, this.element.setOpacity);
	  }
	}

	class Appear extends BaseTransition {
	  /**
	   * Constructs a new Appear for the given element. The appear effect uses the CSS opacity style and supports the IE
	   * alpha style. The duration defaults to 1000 milliseconds (1 second). This first sets the opacity to 0, then it shows
	   * the element and finally it raises the opacity.
	   *
	   * @constructor
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element to appear.
	   * @param {number} [opacity=1.0] The final opacity to reach when the effect is complete. Defaults to 1.0.
	   */
	  constructor(element, opacity) {
	    if (!Utils.isDefined(opacity)) {
	      opacity = 1.0;
	    }
	    super(element, opacity);
	  }

	  /**
	   * Executes the appear effect on the element using the opacity style.
	   */
	  go() {
	    this.element.setOpacity(0.0);
	    this.element.show();
	    this._changeNumberStyleIteratively(this.element.getOpacity, this.element.setOpacity);
	  }
	}

	class ScrollTo extends BaseTransition {
	  /**
	   * Constructs a new ScrollTo for the given element. The duration defaults to 1000 milliseconds (1 second).
	   *
	   * @param {PrimeElement|Element|EventTarget} element The Prime Element to scroll.
	   * @param {number} position The position to scroll the element to.
	   * @constructor
	   */
	  constructor(element, position) {
	    super(element, position);

	    this.axis = 'vertical';
	  }

	  /**
	   * Set the scroll axis, either 'horizontal' or 'vertical'. Default is 'vertical'.
	   *
	   * @param {string} axis The axis to scroll.
	   * @returns {ScrollTo}
	   */
	  withAxis(axis) {
	    this.axis = axis || 'vertical';
	    return this;
	  }

	  /**
	   * Executes the scroll effect on the element.
	   */
	  go() {
	    if (this.axis === 'vertical') {
	      this._changeNumberStyleIteratively(this.element.getScrollTop, this.element.scrollTo);
	    } else {
	      this._changeNumberStyleIteratively(this.element.getScrollLeft, this.element.scrollLeftTo);
	    }
	  }
	}

	class SlideOpen {
	  /**
	   * Creates a SlideOpen effect on the given element.
	   *
	   * @param {PrimeElement} element The element.
	   * @constructor
	   */
	  constructor(element) {
	    Utils.bindAll(this);

	    this.element = element;
	    if (this.isOpen()) {
	      element.domElement.primeVisibleHeight = element.getHeight();
	    } else {
	      element.setStyle('height', 'auto');
	      element.domElement.primeVisibleHeight = element.getHeight();
	      element.setStyle('height', '0');
	    }

	    this.isTransitioning = false;

	    this._setInitialOptions();
	  }

	  close() {
	    if (!this.isOpen()) {
	      return;
	    }

	    // Set a fixed height instead of auto so that the transition runs, but only if the element is "open"
	    this.element.setHeight(this.element.domElement.primeVisibleHeight);
	    this.isTransitioning = true;

	    // This timeout is needed since the height change takes time to run
	    setTimeout(function() {
	      this.element.setHeight(0);
	      this.element.removeClass('open');
	      this.isTransitioning = false;

	      if (this.options.closeCallback !== null) {
	        this.options.closeCallback();
	      }
	    }.bind(this), this.options.timeout);
	  }

	  isOpen() {
	    return this.element.getHeight() !== 0 || this.element.hasClass('open');
	  }

	  open() {
	    if (this.isOpen()) {
	      return;
	    }

	    this.element.setHeight(this.element.domElement.primeVisibleHeight);
	    this.isTransitioning = true;

	    setTimeout(function() {
	      this.element.setHeight('auto');
	      this.element.addClass('open');
	      this.isTransitioning = false;

	      if (this.options.openCallback !== null) {
	        this.options.openCallback();
	      }
	    }.bind(this), this.options.timeout);
	  }

	  toggle() {
	    if (this.isOpen()) {
	      this.close();
	    } else {
	      this.open();
	    }
	  }

	  /**
	   * Set the close callback function.
	   *
	   * @param {?Function} callback The close callback
	   * @returns {SlideOpen} This.
	   */
	  withCloseCallback(callback) {
	    this.options.closeCallback = callback;
	    return this;
	  }

	  /**
	   * Set the open callback function.
	   *
	   * @param {?Function} callback The open callback
	   * @returns {SlideOpen} This.
	   */
	  withOpenCallback(callback) {
	    this.options.openCallback = callback;
	    return this;
	  }

	  /**
	   * Set more than one option at a time by providing a map of key value pairs. This is considered an advanced
	   * method to set options on the widget. The caller needs to know what properties are valid in the options object.
	   *
	   * @param {Object} options Key value pair of configuration options.
	   * @returns {SlideOpen} This.
	   */
	  withOptions(options) {
	    if (!Utils.isDefined(options)) {
	      return this;
	    }

	    for (let option in options) {
	      if (options.hasOwnProperty(option)) {
	        this.options[option] = options[option];
	      }
	    }
	    return this;
	  }

	  /* ===================================================================================================================
	   * Private methods
	   * ===================================================================================================================*/

	  /**
	   * Set the initial options of the widget.
	   * @private
	   */
	  _setInitialOptions() {
	    // Defaults
	    this.options = {
	      openCallback: null,
	      closeCallback: null,
	      timeout: 310
	    };

	    const userOptions = Utils.dataSetToOptions(this.element);
	    for (let option in userOptions) {
	      if (userOptions.hasOwnProperty(option)) {
	        this.options[option] = userOptions[option];
	      }
	    }
	  }
	}

	var Effects = /*#__PURE__*/Object.freeze({
		__proto__: null,
		BaseTransition: BaseTransition,
		Fade: Fade,
		Appear: Appear,
		ScrollTo: ScrollTo,
		SlideOpen: SlideOpen
	});

	/*
	 * Copyright (c) 2016-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class DataQueue {
	  /**
	   * First-In-First-Out Queue implementation modeled after java.util.Deque interface.
	   *
	   * @constructor
	   */
	  constructor() {
	    Utils.bindAll(this);
	    this._elements = {};
	    this._head = 0;
	    this._tail = 0;
	  }

	  /**
	   * Add the element to the head of the queue.
	   *
	   * @param {Object} element An object to store in the queue.
	   * @returns {DataQueue} This Element.
	   */
	  add(element) {
	    this._elements[this._head] = element;
	    this._head++;

	    return this;
	  }

	  /**
	   * Return true if the queue is empty.
	   *
	   * @returns {boolean} True if the queue is empty, false if not.
	   */
	  isEmpty() {
	    return this._head === this._tail;
	  }

	  /**
	   * Return but do not remove the tail of the queue. This is the oldest element in the queue.
	   *
	   * @returns {Object} The object at the tail of the queue, or null if empty.
	   */
	  peek() {
	    if (this.isEmpty()) {
	      return null;
	    }

	    return this._elements[this._tail];
	  }

	  /**
	   * Return and remove the tail of the queue. This is the oldest element in the queue.
	   *
	   * @returns {Object} the object at the tail of the queue, or null if the queue is empty.
	   */
	  poll() {
	    if (this.isEmpty()) {
	      return null;
	    }

	    const object = this._elements[this._tail];
	    delete this._elements[this._tail];
	    this._tail++;

	    // The cursor should not go off the end of the queue
	    if (this._cursor < this._tail) {
	      this._cursor = this._tail;
	    }

	    return object;
	  }

	  /**
	   * Return the size of the queue.
	   *
	   * @returns {Number} The size of the queue.
	   */
	  size() {
	    return this._head - this._tail;
	  }

	}

	/*
	 * Copyright (c) 2013-2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	class Template {
	  /**
	   * A Javascript Object that can serve to generate Prime.Document.Element from a source string and optional parameters.
	   *
	   * @constructor
	   * @param {string} template The String that defines the source of the template.
	   */
	  constructor(template) {
	    Utils.bindAll(this);
	    this.init(template);
	  }

	  init(template) {
	    this.template = template;
	  }

	  /**
	   * Generates a String from the given parameterHash.  Provide a hash of String keys to values.
	   * Keys can be regular text strings, in which case it will look for and replace #{key} as with the value.  You can
	   * also make the key a String "/key/", which will be converted to a Regex and run.
	   *
	   * For the value you can provide a straight up String, int, etc, or you can provide a function which will be called
	   * to provide the value
	   *
	   * @param {Object} parameters An object that contains the parameters for the template to replace.
	   * @returns {string} The result of executing the template.
	   */
	  generate(parameters) {
	    parameters = Utils.isDefined(parameters) ? parameters : {};
	    let templateCopy = String(this.template);
	    for (let key in parameters) {
	      if (parameters.hasOwnProperty(key)) {
	        const value = parameters[key];
	        let expressedValue;
	        if (typeof(value) === 'function') {
	          expressedValue = value();
	        } else {
	          expressedValue = value;
	        }

	        if (key.indexOf('/') === 0 && key.lastIndexOf('/') === key.length - 1) {
	          templateCopy = templateCopy.replace(new RegExp(key.substring(1, key.length - 1), "g"), expressedValue);
	        } else {
	          const expressedKey = "#{" + key + "}";
	          while (templateCopy.indexOf(expressedKey) !== -1) {
	            templateCopy = templateCopy.replace(expressedKey, expressedValue);
	          }
	        }
	      }
	    }

	    return templateCopy;
	  }

	  /**
	   * Calls to generate and then appends the resulting value to the inner HTML of the provided primeElement.
	   *
	   * @param {PrimeElement} primeElement The prime Element instance to append the result of executing the template to.
	   * @param {Object} parameters An object that contains the parameters for the template to replace.
	   */
	  appendTo(primeElement, parameters) {
	    if (Utils.isDefined(primeElement)) {
	      primeElement.setHTML(primeElement.getHTML() + this.generate(parameters));
	    } else {
	      throw new TypeError('Please supply an element to append to');
	    }
	  }

	  /**
	   * Calls to generate and then inserts the resulting elements into the dom before the primeElement
	   *
	   * @param {PrimeElement} primeElement The prime Element instance to insert the result of executing the template before.
	   * @param {Object} parameters An object that contains the parameters for the template to replace.
	   */
	  insertBefore(primeElement, parameters) {
	    if (Utils.isDefined(primeElement)) {
	      const holder = document.createElement('div');
	      holder.innerHTML = this.generate(parameters);
	      new PrimeElement(holder.children[0]).insertBefore(primeElement);
	    } else {
	      throw new TypeError('Please supply an element to append to');
	    }
	  }

	  /**
	   * Calls to generate and then inserts the resulting elements into the dom after the primeElement
	   *
	   * @param {PrimeElement} primeElement The prime Element instance to insert the result of executing the template after.
	   * @param {Object} parameters An object that contains the parameters for the template to replace.
	   */
	  insertAfter(primeElement, parameters) {
	    if (Utils.isDefined(primeElement)) {
	      const holder = document.createElement('div');
	      holder.innerHTML = this.generate(parameters);
	      new PrimeElement(holder.children[0]).insertAfter(primeElement);
	    } else {
	      throw new TypeError('Please supply an element to append to');
	    }
	  }
	}

	/*
	 * Copyright (c) 2017, Inversoft Inc., All Rights Reserved
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 *   http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing,
	 * software distributed under the License is distributed on an
	 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
	 * either express or implied. See the License for the specific
	 * language governing permissions and limitations under the License.
	 */

	const Ajax = {
	  Request: PrimeRequest
	};

	const Data = {
	  Queue: DataQueue
	};

	exports.Ajax = Ajax;
	exports.Browser = Browser;
	exports.Data = Data;
	exports.Date = PrimeDate;
	exports.Document = PrimeDocument;
	exports.Effects = Effects;
	exports.Events = Events;
	exports.Storage = PrimeStorage;
	exports.Template = Template;
	exports.Utils = Utils;
	exports.Widgets = Widgets;
	exports.Window = PrimeWindow;

	return exports;

}({}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJpbWUtZXM2LTEuNS4zLmpzIiwic291cmNlcyI6WyIuLi9zcmMvbWFpbi9qcy9Ccm93c2VyLmpzIiwiLi4vc3JjL21haW4vanMvRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzIiwiLi4vc3JjL21haW4vanMvRG9jdW1lbnQvUHJpbWVFbGVtZW50TGlzdC5qcyIsIi4uL3NyYy9tYWluL2pzL1ByaW1lRG9jdW1lbnQuanMiLCIuLi9zcmMvbWFpbi9qcy9VdGlscy5qcyIsIi4uL3NyYy9tYWluL2pzL1dpZGdldHMvT3ZlcmxheS5qcyIsIi4uL3NyYy9tYWluL2pzL1ByaW1lUmVxdWVzdC5qcyIsIi4uL3NyYy9tYWluL2pzL1dpbmRvdy5qcyIsIi4uL3NyYy9tYWluL2pzL1dpZGdldHMvRHJhZ2dhYmxlLmpzIiwiLi4vc3JjL21haW4vanMvV2lkZ2V0cy9BSkFYRGlhbG9nLmpzIiwiLi4vc3JjL21haW4vanMvRXZlbnRzLmpzIiwiLi4vc3JjL21haW4vanMvRGF0ZS5qcyIsIi4uL3NyYy9tYWluL2pzL1dpZGdldHMvRGF0ZVRpbWVQaWNrZXIuanMiLCIuLi9zcmMvbWFpbi9qcy9XaWRnZXRzL0Rpc21pc3NhYmxlLmpzIiwiLi4vc3JjL21haW4vanMvV2lkZ2V0cy9IVE1MRGlhbG9nLmpzIiwiLi4vc3JjL21haW4vanMvV2lkZ2V0cy9JblByb2dyZXNzLmpzIiwiLi4vc3JjL21haW4vanMvV2lkZ2V0cy9TZWFyY2hlci5qcyIsIi4uL3NyYy9tYWluL2pzL1dpZGdldHMvTXVsdGlwbGVTZWxlY3QuanMiLCIuLi9zcmMvbWFpbi9qcy9XaWRnZXRzL1Jlb3JkZXIuanMiLCIuLi9zcmMvbWFpbi9qcy9XaWRnZXRzL1RvdWNoYWJsZS5qcyIsIi4uL3NyYy9tYWluL2pzL1dpZGdldHMvU2lkZU1lbnUuanMiLCIuLi9zcmMvbWFpbi9qcy9TdG9yYWdlLmpzIiwiLi4vc3JjL21haW4vanMvV2lkZ2V0cy9TcGxpdEJ1dHRvbi5qcyIsIi4uL3NyYy9tYWluL2pzL1dpZGdldHMvVGFibGUuanMiLCIuLi9zcmMvbWFpbi9qcy9XaWRnZXRzL1RhYnMuanMiLCIuLi9zcmMvbWFpbi9qcy9XaWRnZXRzL1Rvb2x0aXAuanMiLCIuLi9zcmMvbWFpbi9qcy9XaWRnZXRzL1RyZWVWaWV3LmpzIiwiLi4vc3JjL21haW4vanMvV2lkZ2V0cy9XaWRnZXRzLmpzIiwiLi4vc3JjL21haW4vanMvRWZmZWN0cy5qcyIsIi4uL3NyYy9tYWluL2pzL0RhdGFRdWV1ZS5qcyIsIi4uL3NyYy9tYWluL2pzL1RlbXBsYXRlLmpzIiwiLi4vc3JjL21haW4vanMvUHJpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBUaGUgQnJvd3NlciBuYW1lc3BhY2UuIFRoaXMgbmFtZXNwYWNlIGRvZXMgbm90IGNvbnRhaW4gYW55IGNsYXNzZXMsIGp1c3QgZnVuY3Rpb25zLlxuICpcbiAqIEBuYW1lc3BhY2UgQnJvd3NlclxuICovXG5jb25zdCBCcm93c2VyID0ge1xuICAvKipcbiAgICogRGV0ZWN0cyB0aGUgYnJvd3NlciBuYW1lIGFuZCB2ZXJzaW9uLlxuICAgKi9cbiAgZGV0ZWN0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm5hbWUgPSB0aGlzLl9zZWFyY2hTdHJpbmcodGhpcy5kYXRhQnJvd3NlcikgfHwgXCJBbiB1bmtub3duIGJyb3dzZXJcIjtcbiAgICB0aGlzLnZlcnNpb24gPSB0aGlzLl9zZWFyY2hWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IHRoaXMuX3NlYXJjaFZlcnNpb24obmF2aWdhdG9yLmFwcFZlcnNpb24pIHx8IFwiYW4gdW5rbm93biB2ZXJzaW9uXCI7XG4gICAgdGhpcy5vcyA9IHRoaXMuX3NlYXJjaFN0cmluZyh0aGlzLmRhdGFPUykgfHwgXCJhbiB1bmtub3duIE9TXCI7XG4gIH0sXG5cblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIFByaXZhdGUgTWV0aG9kc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICAvKipcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgYXJyYXkuXG4gICAqIEByZXR1cm5zIHs/c3RyaW5nfSBUaGUgYnJvd3NlciBpZGVudGl0eSBTdHJpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2VhcmNoU3RyaW5nOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkYXRhU3RyaW5nID0gZGF0YVtpXS5zdHJpbmc7XG4gICAgICBjb25zdCBkYXRhUHJvcCA9IGRhdGFbaV0ucHJvcDtcbiAgICAgIHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyA9IGRhdGFbaV0udmVyc2lvblNlYXJjaCB8fCBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgaWYgKGRhdGFTdHJpbmcgJiYgZGF0YVN0cmluZy5pbmRleE9mKGRhdGFbaV0uc3ViU3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGRhdGFbaV0uaWRlbnRpdHk7XG4gICAgICB9IGVsc2UgaWYgKGRhdGFQcm9wKSB7XG4gICAgICAgIHJldHVybiBkYXRhW2ldLmlkZW50aXR5O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZGF0YVN0cmluZyBUaGUgYnJvd3NlciBkYXRhIHN0cmluZy5cbiAgICogQHJldHVybnMgez9udW1iZXJ9IFRoZSB2ZXJzaW9uIG9yIG51bGwuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2VhcmNoVmVyc2lvbjogZnVuY3Rpb24oZGF0YVN0cmluZykge1xuICAgIGNvbnN0IGluZGV4ID0gZGF0YVN0cmluZy5pbmRleE9mKHRoaXMudmVyc2lvblNlYXJjaFN0cmluZyk7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YVN0cmluZy5zdWJzdHJpbmcoaW5kZXggKyB0aGlzLnZlcnNpb25TZWFyY2hTdHJpbmcubGVuZ3RoICsgMSkpO1xuICB9LFxuXG4gIGRhdGFCcm93c2VyOiBbXG4gICAge1xuICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgc3ViU3RyaW5nOiBcIkNocm9tZVwiLFxuICAgICAgaWRlbnRpdHk6IFwiQ2hyb21lXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZzogXCJPbW5pV2ViXCIsXG4gICAgICB2ZXJzaW9uU2VhcmNoOiBcIk9tbmlXZWIvXCIsXG4gICAgICBpZGVudGl0eTogXCJPbW5pV2ViXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnZlbmRvcixcbiAgICAgIHN1YlN0cmluZzogXCJBcHBsZVwiLFxuICAgICAgaWRlbnRpdHk6IFwiU2FmYXJpXCIsXG4gICAgICB2ZXJzaW9uU2VhcmNoOiBcIlZlcnNpb25cIlxuICAgIH0sXG4gICAge1xuICAgICAgcHJvcDogd2luZG93Lm9wZXJhLFxuICAgICAgaWRlbnRpdHk6IFwiT3BlcmFcIixcbiAgICAgIHZlcnNpb25TZWFyY2g6IFwiVmVyc2lvblwiXG4gICAgfSxcbiAgICB7XG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci52ZW5kb3IsXG4gICAgICBzdWJTdHJpbmc6IFwiaUNhYlwiLFxuICAgICAgaWRlbnRpdHk6IFwiaUNhYlwiXG4gICAgfSxcbiAgICB7XG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci52ZW5kb3IsXG4gICAgICBzdWJTdHJpbmc6IFwiS0RFXCIsXG4gICAgICBpZGVudGl0eTogXCJLb25xdWVyb3JcIlxuICAgIH0sXG4gICAge1xuICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgc3ViU3RyaW5nOiBcIkZpcmVmb3hcIixcbiAgICAgIGlkZW50aXR5OiBcIkZpcmVmb3hcIlxuICAgIH0sXG4gICAge1xuICAgICAgc3RyaW5nOiBuYXZpZ2F0b3IudmVuZG9yLFxuICAgICAgc3ViU3RyaW5nOiBcIkNhbWlub1wiLFxuICAgICAgaWRlbnRpdHk6IFwiQ2FtaW5vXCJcbiAgICB9LFxuICAgIHsgICAgLy8gZm9yIG5ld2VyIE5ldHNjYXBlcyAoNispXG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICBzdWJTdHJpbmc6IFwiTmV0c2NhcGVcIixcbiAgICAgIGlkZW50aXR5OiBcIk5ldHNjYXBlXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZzogXCJNU0lFXCIsXG4gICAgICBpZGVudGl0eTogXCJFeHBsb3JlclwiLFxuICAgICAgdmVyc2lvblNlYXJjaDogXCJNU0lFXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZzogXCJHZWNrb1wiLFxuICAgICAgaWRlbnRpdHk6IFwiTW96aWxsYVwiLFxuICAgICAgdmVyc2lvblNlYXJjaDogXCJydlwiXG4gICAgfSxcbiAgICB7ICAgICAvLyBmb3Igb2xkZXIgTmV0c2NhcGVzICg0LSlcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZzogXCJNb3ppbGxhXCIsXG4gICAgICBpZGVudGl0eTogXCJOZXRzY2FwZVwiLFxuICAgICAgdmVyc2lvblNlYXJjaDogXCJNb3ppbGxhXCJcbiAgICB9XG4gIF0sXG4gIGRhdGFPUzogW1xuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgc3ViU3RyaW5nOiBcIldpblwiLFxuICAgICAgaWRlbnRpdHk6IFwiV2luZG93c1wiXG4gICAgfSxcbiAgICB7XG4gICAgICBzdHJpbmc6IG5hdmlnYXRvci5wbGF0Zm9ybSxcbiAgICAgIHN1YlN0cmluZzogXCJNYWNcIixcbiAgICAgIGlkZW50aXR5OiBcIm1hY09TXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZzogXCJpUGhvbmVcIixcbiAgICAgIGlkZW50aXR5OiBcImlQaG9uZS9pUG9kXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnVzZXJBZ2VudCxcbiAgICAgIHN1YlN0cmluZzogXCJpUGFkXCIsXG4gICAgICBpZGVudGl0eTogXCJpUGFkXCJcbiAgICB9LFxuICAgIHtcbiAgICAgIHN0cmluZzogbmF2aWdhdG9yLnBsYXRmb3JtLFxuICAgICAgc3ViU3RyaW5nOiBcIkxpbnV4XCIsXG4gICAgICBpZGVudGl0eTogXCJMaW51eFwiXG4gICAgfVxuICBdXG59O1xuQnJvd3Nlci5kZXRlY3QoKTtcblxuZXhwb3J0IHtCcm93c2VyfVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNy0yMDE4LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtCcm93c2VyfSBmcm9tIFwiLi4vQnJvd3Nlci5qc1wiO1xuaW1wb3J0IHtQcmltZURvY3VtZW50fSBmcm9tIFwiLi4vUHJpbWVEb2N1bWVudC5qc1wiO1xuaW1wb3J0IHtQcmltZUVsZW1lbnRMaXN0fSBmcm9tIFwiLi9QcmltZUVsZW1lbnRMaXN0LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcblxuY29uc3QgYmxvY2tFbGVtZW50UmVnZXhwID0gL14oPzpBUlRJQ0xFfEFTSURFfEJMT0NLUVVPVEV8Qk9EWXxCUnxCVVRUT058Q0FOVkFTfENBUFRJT058Q09MfENPTEdST1VQfEREfERJVnxETHxEVHxFTUJFRHxGSUVMRFNFVHxGSUdDQVBUSU9OfEZJR1VSRXxGT09URVJ8Rk9STXxIMXxIMnxIM3xINHxINXxINnxIRUFERVJ8SEdST1VQfEhSfExJfE1BUHxPQkpFQ1R8T0x8T1VUUFVUfFB8UFJFfFBST0dSRVNTfFNFQ1RJT058VEFCTEV8VEJPRFl8VEVYVEFSRUF8VEZPT1R8VEh8VEhFQUR8VFJ8VUx8VklERU8pJC87XG5jb25zdCBtb3VzZUV2ZW50c1JlZ2V4cCA9IC9eKD86Y2xpY2t8ZGJsY2xpY2t8bW91c2Vkb3dufG1vdXNldXB8bW91c2VvdmVyfG1vdXNlbW92ZXxtb3VzZW91dHxtb3VzZWVudGVyfG1vdXNlbGVhdmUpJC87XG5jb25zdCBodG1sRXZlbnRzUmVnZXhwID0gL14oPzphYm9ydHxibHVyfGNoYW5nZXxlcnJvcnxmb2N1c3xsb2FkfHJlc2V0fHJlc2l6ZXxzY3JvbGx8c2VsZWN0fHN1Ym1pdHx1bmxvYWQpJC87XG5sZXQgYW5vbnltb3VzSWQgPSAxO1xuY29uc3QgaWVBbHBoYVJlZ2V4cCA9IC9hbHBoYVxcKG9wYWNpdHk9KC4rKVxcKS87XG5cbmNsYXNzIFByaW1lRWxlbWVudCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEVsZW1lbnQgY2xhc3MgZm9yIHRoZSBnaXZlbiBET00gZWxlbWVudC5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7RWxlbWVudHxFdmVudFRhcmdldH0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKGVsZW1lbnQubm9kZVR5cGUpIHx8IGVsZW1lbnQubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBjYW4gb25seSBwYXNzIGluIERPTSBlbGVtZW50IE5vZGUgb2JqZWN0cyB0byB0aGUgUHJpbWVEb2N1bWVudC5FbGVtZW50IGNvbnN0cnVjdG9yJyk7XG4gICAgfVxuXG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcbiAgICB0aGlzLmRvbUVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVycyA9IFtdO1xuICAgIHRoaXMuZG9tRWxlbWVudC5ldmVudExpc3RlbmVycyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGNhcHR1cmVzIHRoZSB0YWduYW1lcyBvZiBhbGwgdGhlIGJsb2NrIGVsZW1lbnRzIGluIEhUTUw1LlxuICAgKlxuICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgKi9cbiAgc3RhdGljIGdldCBibG9ja0VsZW1lbnRSZWdleHAoKSB7XG4gICAgcmV0dXJuIGJsb2NrRWxlbWVudFJlZ2V4cDtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgbW91c2VFdmVudHNSZWdleHAoKSB7XG4gICAgcmV0dXJuIG1vdXNlRXZlbnRzUmVnZXhwO1xuICB9XG5cbiAgc3RhdGljIGdldCBodG1sRXZlbnRzUmVnZXhwKCkge1xuICAgIHJldHVybiBodG1sRXZlbnRzUmVnZXhwO1xuICB9XG5cbiAgc3RhdGljIGdldCBhbm9ueW1vdXNJZCgpIHtcbiAgICByZXR1cm4gYW5vbnltb3VzSWQ7XG4gIH1cblxuICBzdGF0aWMgc2V0IGFub255bW91c0lkKHZhbHVlKSB7XG4gICAgYW5vbnltb3VzSWQgPSB2YWx1ZTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgaWVBbHBoYVJlZ2V4cCgpIHtcbiAgICByZXR1cm4gaWVBbHBoYVJlZ2V4cDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdGF0aWMgbWV0aG9kIHRoYXQgd3JhcHMgYW4gZWxlbWVudCBpbiBhIFByaW1lRWxlbWVudCB1bmxlc3MgaXQgaXMgYWxyZWFkeSB3cmFwcGVkLiBJbiB0aGF0IGNhc2UsIGl0IHNpbXBseVxuICAgKiByZXR1cm5zIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHdyYXAuXG4gICAqIEBzdGF0aWNcbiAgICovXG4gIHN0YXRpYyB3cmFwKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKGVsZW1lbnQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpID8gZWxlbWVudCA6IG5ldyBQcmltZUVsZW1lbnQoZWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhdGljIG1ldGhvZCB0aGF0IHVud3JhcHMgYW4gZWxlbWVudCB0byBhIERPTSBlbGVtZW50LiBUaGlzIGlzIHRoZSBpbnZlcnNlIG9mIEVsZW1lbnQud3JhcC4gSWYgdGhpcyBpcyBwYXNzZWQgYW5cbiAgICogRWxlbWVudCwgaXQgcmV0dXJucyBkb21FbGVtZW50LiBPdGhlcndpc2UsIHRoaXMganVzdCByZXR1cm5zIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBzdGF0aWMgdW53cmFwKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gKGVsZW1lbnQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpID8gZWxlbWVudC5kb21FbGVtZW50IDogZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBnaXZlbiBjbGFzcyAob3IgbGlzdCBvZiBzcGFjZSBzZXBhcmF0ZWQgY2xhc3NlcykgdG8gdGhpcyBFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lcyBUaGUgY2xhc3MgbmFtZShzKSBzZXBhcmF0ZWQgYnkgYSBzcGFjZS5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgYWRkQ2xhc3MoY2xhc3NOYW1lcykge1xuICAgIGxldCBjdXJyZW50Q2xhc3NOYW1lID0gdGhpcy5kb21FbGVtZW50LmNsYXNzTmFtZTtcbiAgICBpZiAoY3VycmVudENsYXNzTmFtZSA9PT0gJycpIHtcbiAgICAgIGN1cnJlbnRDbGFzc05hbWUgPSBjbGFzc05hbWVzO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBjdXJyZW50Q2xhc3NOYW1lTGlzdCA9IHRoaXMuZG9tRWxlbWVudC5jbGFzc05hbWUuc3BsaXQoVXRpbHMuc3BhY2VSZWdleCk7XG4gICAgICBjb25zdCBuZXdDbGFzc05hbWVMaXN0ID0gY2xhc3NOYW1lcy5zcGxpdChVdGlscy5zcGFjZVJlZ2V4KTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmV3Q2xhc3NOYW1lTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoY3VycmVudENsYXNzTmFtZUxpc3QuaW5kZXhPZihuZXdDbGFzc05hbWVMaXN0W2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICBjdXJyZW50Q2xhc3NOYW1lTGlzdC5wdXNoKG5ld0NsYXNzTmFtZUxpc3RbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGN1cnJlbnRDbGFzc05hbWUgPSBjdXJyZW50Q2xhc3NOYW1lTGlzdC5qb2luKCcgJyk7XG4gICAgfVxuXG4gICAgdGhpcy5kb21FbGVtZW50LmNsYXNzTmFtZSA9IGN1cnJlbnRDbGFzc05hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQGNhbGxiYWNrIFByaW1lRGVsZWdhdGlvbkV2ZW50TGlzdGVuZXJcbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgdGhlIG9yaWdpbmFsIGV2ZW50XG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSB0YXJnZXQgdGhlIHRhcmdldCBkb21FbGVtZW50IHRoYXQgbWF0Y2hlZCB0aGUgcmVnaXN0ZXJlZCBzZWxlY3RvclxuICAgKi9cblxuICAvKipcbiAgICogQXR0YWNoZXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGVsZW1lbnQgYW5kIHdpbGwgb25seSBpbnZva2UgdGhlIGxpc3RlbmVyIHdoZW4gdGhlIGV2ZW50IHRhcmdldCBtYXRjaGVzXG4gICAqIHRoZSBwcm92aWRlZCBzZWxlY3Rvci5cbiAgICpcbiAgICogVGhlIGludGVudCBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRvIHByb3ZpZGUgYSBkZWxlZ2F0ZWQgbGlzdGVuZXIgYW5kIGhhbmRsZSBldmVudHMgZnJvbSBuZXN0ZWQgZWxlbWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtICB7c3RyaW5nfSBzZWxlY3RvciBUaGUgc2VsZWN0b3IgdG8gbWF0Y2ggYWdhaW5zdCB0aGUgRWxlbWVudFxuICAgKiBAcGFyYW0ge1ByaW1lRGVsZWdhdGlvbkV2ZW50TGlzdGVuZXJ9IGxpc3RlbmVyIFRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvblxuICAgKi9cbiAgYWRkRGVsZWdhdGVkRXZlbnRMaXN0ZW5lcihldmVudCwgc2VsZWN0b3IsIGxpc3RlbmVyKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LmRlbGVnYXRlZExpc3RlbmVycyA9ICB0aGlzLmRvbUVsZW1lbnQuZGVsZWdhdGVkTGlzdGVuZXJzIHx8IFtdO1xuICAgIGxldCBhbGxEZWxlZ2F0ZWRMaXN0ZW5lcnMgPSB0aGlzLmRvbUVsZW1lbnQuZGVsZWdhdGVkTGlzdGVuZXJzO1xuXG4gICAgLy8gU3RvcmUgdGhlIGV2ZW50IGxpc3RlbmVycyBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbiAgICAvLyAgIFsgZXZlbnRfdHlwZSAtPiBbIHNlbGVjdG9yIC0+IFsgbGlzdGVuZXJzIF0gXSBdXG4gICAgLy9cbiAgICAvLyBFeGFtcGxlOlxuICAgIC8vICAgWyAnY2xpY2snIC0+IFsgJ2EuZm9vJyAtPiBbIGZ1bmNBLCBmdW5jQiBdIF0gXVxuXG4gICAgaWYgKCEoZXZlbnQgaW4gYWxsRGVsZWdhdGVkTGlzdGVuZXJzKSkge1xuICAgICAgYWxsRGVsZWdhdGVkTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgIH1cblxuICAgIGlmICghKHNlbGVjdG9yIGluIGFsbERlbGVnYXRlZExpc3RlbmVyc1tldmVudF0pKSB7XG4gICAgICBhbGxEZWxlZ2F0ZWRMaXN0ZW5lcnNbZXZlbnRdW3NlbGVjdG9yXSA9IFtdO1xuICAgIH1cblxuICAgIGxldCBkZWxlZ2F0ZWRMaXN0ZW5lcnMgPSBhbGxEZWxlZ2F0ZWRMaXN0ZW5lcnNbZXZlbnRdW3NlbGVjdG9yXSB8fCBbXTtcbiAgICBpZiAoIShsaXN0ZW5lciBpbiBkZWxlZ2F0ZWRMaXN0ZW5lcnMpKSB7XG4gICAgICBkZWxlZ2F0ZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLl9oYW5kbGVEZWxlZ2F0ZWRFdmVudCk7XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoZXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhpcyBFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGV2ZW50LmluZGV4T2YoJzonKSA9PT0gLTEpIHtcbiAgICAgIC8vIFRyYWRpdGlvbmFsIGV2ZW50XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMgPSB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMgfHwge307XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdID0gdGhpcy5kb21FbGVtZW50LmV2ZW50TGlzdGVuZXJzW2V2ZW50XSB8fCBbXTtcbiAgICAgIGlmICh0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmluZGV4T2YobGlzdGVuZXIpID09PSAtMSkge1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLnB1c2gobGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgdGhpcy5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyLCBmYWxzZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEN1c3RvbSBldmVudFxuICAgICAgdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzID0gdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzIHx8IHt9O1xuICAgICAgdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XSA9IHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF0gfHwgW107XG4gICAgICBpZiAodGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XS5pbmRleE9mKGxpc3RlbmVyKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSBnaXZlbiBlbGVtZW50IHRvIHRoaXMgZWxlbWVudC4gSWYgdGhlIGdpdmVuIGVsZW1lbnQgYWxyZWFkeSBleGlzdHMgaW4gdGhlIERPTSwgaXQgaXMgcmVtb3ZlZCBmcm9tIGl0c1xuICAgKiBjdXJyZW50IGxvY2F0aW9uIGFuZCBwbGFjZWQgYXQgdGhlIGVuZCBvZiB0aGlzIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fE5vZGV9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBhcHBlbmRFbGVtZW50KGVsZW1lbnQpIHtcbiAgICBjb25zdCBkb21FbGVtZW50ID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpID8gZWxlbWVudC5kb21FbGVtZW50IDogZWxlbWVudDtcbiAgICBpZiAoZG9tRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICBkb21FbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZG9tRWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5kb21FbGVtZW50LmFwcGVuZENoaWxkKGRvbUVsZW1lbnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFwcGVuZHMgdGhlIGdpdmVuIEhUTUwgc3RyaW5nIHRvIHRoaXMgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgVGhlIEhUTUwgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBhcHBlbmRIVE1MKGh0bWwpIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCBodG1sKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoaXMgRWxlbWVudCAod2hpY2ggbXVzdCBiZSBhIG5ld2x5IGNyZWF0ZWQgRWxlbWVudCkgaW50byB0aGUgRE9NIGluc2lkZSBhdCB0aGUgdmVyeSBlbmQgb2YgdGhlIGdpdmVuXG4gICAqIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fE5vZGV9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gaW5zZXJ0IHRoaXMgRWxlbWVudCBpbnRvLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBhcHBlbmRUbyhlbGVtZW50KSB7XG4gICAgLy8gRXJyb3Igb3V0IGZvciBub3cgaWYgdGhpcyBlbGVtZW50IGlzIGluIHRoZSBkb2N1bWVudCBzbyB3ZSBjYW4gcHVudCBvbiBjbG9uaW5nIGZvciBub3dcbiAgICBpZiAodGhpcy5kb21FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBjYW4gb25seSBpbnNlcnQgbmV3IFByaW1lRWxlbWVudHMgZm9yIG5vdycpO1xuICAgIH1cblxuICAgIGNvbnN0IGRvbUVsZW1lbnQgPSAoZWxlbWVudCBpbnN0YW5jZW9mIFByaW1lRWxlbWVudCkgPyBlbGVtZW50LmRvbUVsZW1lbnQgOiBlbGVtZW50O1xuICAgIGlmIChkb21FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIGRvbUVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5kb21FbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGVsZW1lbnQgeW91IHBhc3NlZCBpbnRvIGFwcGVuZFRvIGlzIG5vdCBpbiB0aGUgRE9NLiBZb3UgY2FuXFwndCBpbnNlcnQgYSBQcmltZUVsZW1lbnQgaW5zaWRlIGFuIGVsZW1lbnQgdGhhdCBpc25cXCd0IGluIHRoZSBET00geWV0LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcmVzIGFuIGV2ZW50IG9uIHRoZSBFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge09iamVjdH0gW21lbW9dIEFzc2lnbmVkIHRvIHRoZSBtZW1vIGZpZWxkIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFt0YXJnZXRdIFRoZSB0YXJnZXQuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2J1YmJsaW5nXSBJZiB0aGUgZXZlbnQgaXMgYnViYmxpbmcsIGRlZmF1bHRzIHRvIHRydWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NhbmNlbGFibGVdIElmIHRoZSBldmVudCBpcyBjYW5jZWxsYWJsZSwgZGVmYXVsdHMgdG8gdHJ1ZS5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgZmlyZUV2ZW50KGV2ZW50LCBtZW1vLCB0YXJnZXQsIGJ1YmJsaW5nLCBjYW5jZWxhYmxlKSB7XG4gICAgbWVtbyA9IFV0aWxzLmlzRGVmaW5lZChtZW1vKSA/IG1lbW8gOiB7fTtcbiAgICB0YXJnZXQgPSBVdGlscy5pc0RlZmluZWQodGFyZ2V0KSA/IHRhcmdldCA6IHRoaXM7XG4gICAgYnViYmxpbmcgPSBVdGlscy5pc0RlZmluZWQoYnViYmxpbmcpID8gYnViYmxpbmcgOiB0cnVlO1xuICAgIGNhbmNlbGFibGUgPSBVdGlscy5pc0RlZmluZWQoY2FuY2VsYWJsZSkgPyBjYW5jZWxhYmxlIDogdHJ1ZTtcblxuICAgIGxldCBldnQ7XG4gICAgaWYgKGV2ZW50LmluZGV4T2YoJzonKSA9PT0gLTEpIHtcbiAgICAgIC8vIFRyYWRpdGlvbmFsIGV2ZW50XG4gICAgICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QpIHtcbiAgICAgICAgLy8gRGlzcGF0Y2ggZm9yIElFXG4gICAgICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gICAgICAgIGV2dC5tZW1vID0gbWVtbyB8fCB7fTtcbiAgICAgICAgZXZ0LmNhbmNlbEJ1YmJsZSA9ICFidWJibGluZztcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LmZpcmVFdmVudCgnb24nICsgZXZlbnQsIGV2dCk7XG4gICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSB7XG4gICAgICAgIC8vIERpc3BhdGNoIGZvciBvdGhlcnNcbiAgICAgICAgaWYgKFByaW1lRWxlbWVudC5tb3VzZUV2ZW50c1JlZ2V4cC50ZXN0KGV2ZW50KSkge1xuICAgICAgICAgIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiTW91c2VFdmVudHNcIik7XG4gICAgICAgICAgZXZ0LmluaXRNb3VzZUV2ZW50KGV2ZW50LCBidWJibGluZywgY2FuY2VsYWJsZSwgd2luZG93LCAwLCAwLCAwLCAwLCAwLCBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgMCwgbnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoUHJpbWVFbGVtZW50Lmh0bWxFdmVudHNSZWdleHAudGVzdChldmVudCkpIHtcbiAgICAgICAgICBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkhUTUxFdmVudHNcIik7XG4gICAgICAgICAgZXZ0LmluaXRFdmVudChldmVudCwgYnViYmxpbmcsIGNhbmNlbGFibGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgWycgKyBldmVudCArICddJyk7XG4gICAgICAgIH1cblxuICAgICAgICBldnQubWVtbyA9IG1lbW8gfHwge307XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmFibGUgdG8gZmlyZSBldmVudC4gTmVpdGhlciBjcmVhdGVFdmVudE9iamVjdCBub3IgY3JlYXRlRXZlbnQgbWV0aG9kcyBhcmUgYXZhaWxhYmxlJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEN1c3RvbSBldmVudFxuICAgICAgdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XSA9IHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF0gfHwgW107XG4gICAgICBldnQgPSB7ZXZlbnQ6IGV2ZW50LCBtZW1vOiBtZW1vLCB0YXJnZXQ6IHRhcmdldH07XG4gICAgICBmb3IgKGxldCBpbmRleCBpbiB0aGlzLmRvbUVsZW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbUVsZW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmhhc093blByb3BlcnR5KGluZGV4KSkge1xuICAgICAgICAgIHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF1baW5kZXhdKGV2dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJlcyBhIGN1c3RvbSBldmVudCBvbiB0aGUgRWxlbWVudCB1c2luZyB0aGUgZ2l2ZW4gZXZlbnQgb2JqZWN0IHJhdGhlciB0aGFuIGNyZWF0aW5nIGEgbmV3IGV2ZW50IG9iamVjdC4gVGhpcyBpc1xuICAgKiB1c2VmdWwgZm9yIHBhc3MtdGhyb3VnaCBldmVudCBoYW5kbGluZy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50T2JqIFRoZSBldmVudCBvYmplY3QgdG8gcGFzcyB0byB0aGUgaGFuZGxlcnMuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIGZpcmVDdXN0b21FdmVudChldmVudCwgZXZlbnRPYmopIHtcbiAgICBldmVudE9iaiA9IFV0aWxzLmlzRGVmaW5lZChldmVudE9iaikgPyBldmVudE9iaiA6IHt9O1xuICAgIGlmIChldmVudC5pbmRleE9mKCc6JykgPT09IC0xKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlzIG1ldGhvZCBjYW4gb25seSBiZSB1c2VkIGZvciBjdXN0b20gZXZlbnRzJyk7XG4gICAgfVxuXG4gICAgLy8gQ3VzdG9tIGV2ZW50XG4gICAgdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XSA9IHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF0gfHwgW107XG4gICAgZm9yIChsZXQgaW5kZXggaW4gdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgaWYgKHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF0uaGFzT3duUHJvcGVydHkoaW5kZXgpKSB7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF1baW5kZXhdKGV2ZW50T2JqKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBQdXRzIHRoZSBmb2N1cyBvbiB0aGlzIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIGZvY3VzKCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5mb2N1cygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFic29sdXRlIHRvcCBvZiB0aGlzIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbnVtYmVyIG9mIHBpeGVscyB0aGF0IHRoaXMgZWxlbWVudCBpcyBmcm9tIHRoZSB0b3Agb2YgdGhlIGRvY3VtZW50LlxuICAgKi9cbiAgZ2V0QWJzb2x1dGVUb3AoKSB7XG4gICAgbGV0IHRvcCA9IDA7XG4gICAgbGV0IGUgPSB0aGlzLmRvbUVsZW1lbnQ7XG4gICAgd2hpbGUgKGUpIHtcbiAgICAgIHRvcCArPSBlLm9mZnNldFRvcDtcbiAgICAgIGUgPSBlLm9mZnNldFBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdG9wO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBhdHRyaWJ1dGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBhdHRyaWJ1dGUgbmFtZS5cbiAgICogQHJldHVybnMgez9zdHJpbmd9IFRoaXMgYXR0cmlidXRlIHZhbHVlIG9yIG51bGwuXG4gICAqL1xuICBnZXRBdHRyaWJ1dGUobmFtZSkge1xuICAgIGNvbnN0IGF0dHIgPSB0aGlzLmRvbUVsZW1lbnQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0obmFtZSk7XG4gICAgaWYgKGF0dHIpIHtcbiAgICAgIHJldHVybiBhdHRyLnZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIG9uIHRoZSBlbGVtZW50IGFzIGFuIG9iamVjdC5cbiAgICpcbiAgICogQHJldHVybnMge29iamVjdH0gVGhpcyBhdHRyaWJ1dGVzIG9yIGFuIGVtcHR5IG9iamVjdCBpZiB0aGVyZSBhcmUgbm8gYXR0cmlidXRlcyBvbiB0aGlzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRBdHRyaWJ1dGVzKCkge1xuICAgIGNvbnN0IGF0dHJzID0ge307XG4gICAgaWYgKHRoaXMuZG9tRWxlbWVudC5oYXNBdHRyaWJ1dGVzKCkpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb21FbGVtZW50LmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXR0cnNbdGhpcy5kb21FbGVtZW50LmF0dHJpYnV0ZXNbaV0ubmFtZV0gPSB0aGlzLmRvbUVsZW1lbnQuYXR0cmlidXRlc1tpXS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXR0cnM7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmlld2FibGUgaGVpZ2h0IG9mIHRoZSBFbGVtZW50IGFzIGFuIGludGVnZXIgdmFsdWUgaW4gcGl4ZWxzLiBUaGlzIGhlaWdodCBpbmNsdWRlcyBib3JkZXIsIHBhZGRpbmcgYW5kIHNjcm9sbCBiYXIgYnV0IGV4Y2x1ZGVzIHRoZSBtYXJnaW5zLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgaGVpZ2h0IGFzIHBpeGVscyAobnVtYmVyKSBvciBhIHN0cmluZy5cbiAgICovXG4gIGdldEJvcmRlcmVkSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHdpZHRoIG9mIHRoZSBFbGVtZW50IGFzIGFuIGludGVnZXIgdmFsdWUuIFRoaXMgd2lkdGggaW5jbHVkZXMgYm9yZGVyLCBwYWRkaW5nIGFuZCBzY3JvbGwgYmFyIGJ1dCBleGNsdWRlcyB0aGUgbWFyZ2lucy5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIGhlaWdodCBpbiBwaXhlbHMuXG4gICAqL1xuICBnZXRCb3JkZXJlZFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIGJvdHRvbSBwb3NpdGlvbiAoaW4gcGl4ZWxzKSBvZiB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgKi9cbiAgZ2V0Qm90dG9tKCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNoaWxkcmVuIGVsZW1lbnRzIG9mIHRoaXMgRWxlbWVudCwgb3B0aW9uYWxseSByZWR1Y2VkIHRvIHRob3NlIG1hdGNoaW5nIHRoZSBvcHRpb25hbCBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtzZWxlY3Rvcl0gVGhlIHNlbGVjdG9yLiBPcHRpb25hbCwgaWYgbm90IHByb3ZpZGVkIGFsbCBjaGlsZHJlbiB3aWxsIGJlIHJldHVybmVkLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50TGlzdH0gVGhlIGNoaWxkcmVuLlxuICAgKi9cbiAgZ2V0Q2hpbGRyZW4oc2VsZWN0b3IpIHtcbiAgICBpZiAoIVV0aWxzLmlzRGVmaW5lZChzZWxlY3RvcikpIHtcbiAgICAgIHJldHVybiBuZXcgUHJpbWVFbGVtZW50TGlzdCh0aGlzLmRvbUVsZW1lbnQuY2hpbGRyZW4pO1xuICAgIH1cblxuICAgIGNvbnN0IG1hdGNoZWQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG9tRWxlbWVudC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmRvbUVsZW1lbnQuY2hpbGRyZW5baV07XG4gICAgICBpZiAoY2hpbGQubWF0Y2hlcyhzZWxlY3RvcikpIHtcbiAgICAgICAgbWF0Y2hlZC5wdXNoKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByaW1lRWxlbWVudExpc3QobWF0Y2hlZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY2xhc3MgdmFsdWUgb2YgdGhlIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBtaWdodCBiZSBhIHNpbmdsZSBjbGFzcyBvciBtdWx0aXBsZSBjbGFzcyBuYW1lcy5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGNsYXNzLlxuICAgKi9cbiAgZ2V0Q2xhc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5jbGFzc05hbWU7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgY29tcHV0ZWQgc3R5bGUgaW5mb3JtYXRpb24gZm9yIHRoaXMgRWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybnMge0lFRWxlbWVudFN0eWxlfENTU1N0eWxlRGVjbGFyYXRpb259IFRoZSBzdHlsZSBpbmZvcm1hdGlvbi5cbiAgICovXG4gIGdldENvbXB1dGVkU3R5bGUoKSB7XG4gICAgcmV0dXJuICh0aGlzLmRvbUVsZW1lbnQuY3VycmVudFN0eWxlKSA/IHRoaXMuZG9tRWxlbWVudC5jdXJyZW50U3R5bGUgOiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKHRoaXMuZG9tRWxlbWVudCwgbnVsbCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlcyB0aGUgbG9jYXRpb24gb2YgdGhpcyBlbGVtZW50IHdpdGggcmVzcGVjdCB0byB0aGUgZG9jdW1lbnQgcmF0aGVyIHRoYW4gdGhlIGVsZW1lbnRzIHBhcmVudCwgb2Zmc2V0IHBhcmVudFxuICAgKiBvciBzY3JvbGwgcG9zaXRpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHt7dG9wOiBudW1iZXIsIGxlZnQ6IG51bWJlcn19XG4gICAqL1xuICBnZXRDb29yZGluYXRlcygpIHtcbiAgICBjb25zdCBib3ggPSB0aGlzLmRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQuYm9keTtcbiAgICBjb25zdCBkb2N1bWVudEVsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICBjb25zdCBzY3JvbGxUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBib2R5LnNjcm9sbFRvcDtcbiAgICBjb25zdCBzY3JvbGxMZWZ0ID0gd2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGJvZHkuc2Nyb2xsTGVmdDtcblxuICAgIGNvbnN0IGNsaWVudFRvcCA9IGRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AgfHwgYm9keS5jbGllbnRUb3AgfHwgMDtcbiAgICBjb25zdCBjbGllbnRMZWZ0ID0gZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG5cbiAgICBjb25zdCB0b3AgPSBib3gudG9wICsgc2Nyb2xsVG9wIC0gY2xpZW50VG9wO1xuICAgIGNvbnN0IGxlZnQgPSBib3gubGVmdCArIHNjcm9sbExlZnQgLSBjbGllbnRMZWZ0O1xuXG4gICAgcmV0dXJuIHt0b3A6IE1hdGgucm91bmQodG9wKSwgbGVmdDogTWF0aC5yb3VuZChsZWZ0KX07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZGF0YXNldCBpZiBpdCBleGlzdHMsIG90aGVyd2lzZSwgdGhpcyBjcmVhdGVzIGEgbmV3IGRhdGFzZXQgb2JqZWN0IGFuZCByZXR1cm5zIGl0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7b2JqZWN0fSBUaGlzIGRhdGFzZXQgb2JqZWN0LlxuICAgKi9cbiAgZ2V0RGF0YVNldCgpIHtcbiAgICBpZiAodGhpcy5kb21FbGVtZW50LmRhdGFzZXQpIHtcbiAgICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuZGF0YXNldDtcbiAgICB9XG5cbiAgICB0aGlzLmRvbUVsZW1lbnQuZGF0YXNldCA9IHt9O1xuICAgIGNvbnN0IGF0dHJzID0gdGhpcy5nZXRBdHRyaWJ1dGVzKCk7XG4gICAgZm9yIChsZXQgcHJvcCBpbiBhdHRycykge1xuICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KHByb3ApICYmIHByb3AuaW5kZXhPZignZGF0YS0nKSA9PT0gMCkge1xuICAgICAgICBjb25zdCBkYXRhTmFtZSA9IHByb3Auc3Vic3RyaW5nKDUpLnJlcGxhY2UoLy0oW2Etel0pL2csIGZ1bmN0aW9uKGcpIHtcbiAgICAgICAgICByZXR1cm4gZ1sxXS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LmRhdGFzZXRbZGF0YU5hbWVdID0gYXR0cnNbcHJvcF07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuZGF0YXNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBkYXRhIHZhbHVlIGlmIGl0IGV4aXN0cywgb3RoZXJ3aXNlIHJldHVybnMgbnVsbC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGF0dHJpYnV0ZSBuYW1lLlxuICAgKiBAcmV0dXJucyB7P3N0cmluZ30gVGhpcyBhdHRyaWJ1dGUgdmFsdWUgb3IgbnVsbC5cbiAgICovXG4gIGdldERhdGFBdHRyaWJ1dGUobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmdldERhdGFTZXQoKVtuYW1lXSB8fCBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZmlyc3QgY2hpbGQgZWxlbWVudCBvZiB0aGlzIEVsZW1lbnQsIG9wdGlvbmFsbHkgZmlsdGVyZWQgdXNpbmcgdGhlIG9wdGlvbmFsIHNlbGVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlbGVjdG9yXSBUaGUgc2VsZWN0b3IuIE9wdGlvbmFsLlxuICAgKiBAcmV0dXJucyB7P1ByaW1lRWxlbWVudH0gVGhlIGZpcnN0IGNoaWxkIGVsZW1lbnQgb3IgbnVsbCBpZiB0aGUgZWxlbWVudCBoYXMgbm8gY2hpbGRyZW4gb3IgYSBzZWxlY3RvciB3YXMgcHJvdmlkZWQgYW5kIG5vdGhpbmcgbWF0Y2hlZCB0aGUgc2VsZWN0b3IuLlxuICAgKi9cbiAgZ2V0Rmlyc3RDaGlsZChzZWxlY3Rvcikge1xuICAgIGNvbnN0IGxhc3RDaGlsZCA9IHRoaXMuZ2V0Q2hpbGRyZW4oc2VsZWN0b3IpWzBdO1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKGxhc3RDaGlsZCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBsYXN0Q2hpbGQ7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgdmlld2FibGUgaGVpZ2h0IG9mIHRoZSBFbGVtZW50IGFzIGFuIGludGVnZXIgdmFsdWUgaW4gcGl4ZWxzLiBUaGlzIGhlaWdodCBpbmNsdWRlcyBwYWRkaW5nIGFuZCBzY3JvbGwgYmFyXG4gICAqIGJ1dCBleGNsdWRlcyB0aGUgbWFyZ2luIGFuZCBib3JkZXJzLiBUaGlzIGlzIG9mdGVuIGNhbGxlZCB0aGUgaW5uZXJIZWlnaHQgb2YgdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBoZWlnaHQgYXMgcGl4ZWxzIChudW1iZXIpIG9yIGEgc3RyaW5nLlxuICAgKi9cbiAgZ2V0SGVpZ2h0KCkge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKTtcbiAgICBjb25zdCBvZmZzZXRIZWlnaHQgPSB0aGlzLmRvbUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IGJvcmRlclRvcCA9IGNvbXB1dGVkU3R5bGVbJ2JvcmRlclRvcFdpZHRoJ107XG4gICAgY29uc3QgYm9yZGVyQm90dG9tID0gY29tcHV0ZWRTdHlsZVsnYm9yZGVyQm90dG9tV2lkdGgnXTtcbiAgICByZXR1cm4gb2Zmc2V0SGVpZ2h0IC0gVXRpbHMucGFyc2VDU1NNZWFzdXJlKGJvcmRlclRvcCkgLSBVdGlscy5wYXJzZUNTU01lYXN1cmUoYm9yZGVyQm90dG9tKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBpbm5lciBIVE1MIGNvbnRlbnQgb2YgdGhlIEVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBIVE1MIGNvbnRlbnQuXG4gICAqL1xuICBnZXRIVE1MKCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuaW5uZXJIVE1MO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIElEIG9mIHRoaXMgZWxlbWVudCBmcm9tIHRoZSBkb21FbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBJRCBUaGUgaWQgb2YgdGhlIGRvbUVsZW1lbnQgaWYgaXQgZXhpc3RzLlxuICAgKi9cbiAgZ2V0SWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGxhc3QgY2hpbGQgZWxlbWVudCBvZiB0aGlzIEVsZW1lbnQsIG9wdGlvbmFsbHkgZmlsdGVyZWQgdXNpbmcgdGhlIG9wdGlvbmFsIHNlbGVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlbGVjdG9yXSBUaGUgc2VsZWN0b3IuIE9wdGlvbmFsLlxuICAgKiBAcmV0dXJucyB7P1ByaW1lRWxlbWVudH0gVGhlIGxhc3QgY2hpbGQgZWxlbWVudCBvciBudWxsIGlmIHRoZSBlbGVtZW50IGhhcyBubyBjaGlsZHJlbiBvciBhIHNlbGVjdG9yIHdhcyBwcm92aWRlZCBhbmQgbm90aGluZyBtYXRjaGVkIHRoZSBzZWxlY3Rvci4uXG4gICAqL1xuICBnZXRMYXN0Q2hpbGQoc2VsZWN0b3IpIHtcbiAgICBjb25zdCBlbGVtZW50TGlzdCA9IHRoaXMuZ2V0Q2hpbGRyZW4oc2VsZWN0b3IpO1xuICAgIGlmIChlbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZWxlbWVudExpc3RbZWxlbWVudExpc3QubGVuZ3RoIC0gMV07XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIGxlZnQgcG9zaXRpb24gKGluIHBpeGVscykgb2YgdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICovXG4gIGdldExlZnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHs/UHJpbWVFbGVtZW50fSBUaGlzIGVsZW1lbnRzIG5leHQgc2libGluZyBvciBudWxsLlxuICAgKi9cbiAgZ2V0TmV4dFNpYmxpbmcoKSB7XG4gICAgbGV0IHNpYmxpbmcgPSB0aGlzLmRvbUVsZW1lbnQubmV4dFNpYmxpbmc7XG4gICAgd2hpbGUgKHNpYmxpbmcgIT09IG51bGwgJiYgc2libGluZy5ub2RlVHlwZSAhPT0gMSkge1xuICAgICAgc2libGluZyA9IHNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgfVxuXG4gICAgaWYgKHNpYmxpbmcgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJpbWVFbGVtZW50KHNpYmxpbmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50cyBvZmZzZXQgbGVmdCBpbiBwaXhlbHMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBvZmZzZXQgbGVmdC5cbiAgICovXG4gIGdldE9mZnNldExlZnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5vZmZzZXRMZWZ0O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBlbGVtZW50cyBvZmZzZXQgdG9wIGluIHBpeGVscy5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIG9mZnNldCB0b3AuXG4gICAqL1xuICBnZXRPZmZzZXRUb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5vZmZzZXRUb3A7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBvcGFjaXR5IHZhbHVlIGZvciB0aGUgRWxlbWVudC4gVGhpcyBoYW5kbGVzIHRoZSBJRSBhbHBoYSBmaWx0ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBvcGFjaXR5IHZhbHVlLlxuICAgKi9cbiAgZ2V0T3BhY2l0eSgpIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7XG4gICAgbGV0IG9wYWNpdHkgPSAxLjA7XG4gICAgaWYgKEJyb3dzZXIubmFtZSA9PT0gJ0V4cGxvcmVyJyAmJiBCcm93c2VyLnZlcnNpb24gPCA5KSB7XG4gICAgICBjb25zdCBmaWx0ZXIgPSBjb21wdXRlZFN0eWxlWydmaWx0ZXInXTtcbiAgICAgIGlmIChmaWx0ZXIgIT09IHVuZGVmaW5lZCAmJiBmaWx0ZXIgIT09ICcnKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBQcmltZUVsZW1lbnQuaWVBbHBoYVJlZ2V4cC5tYXRjaChmaWx0ZXIpO1xuICAgICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgb3BhY2l0eSA9IHBhcnNlRmxvYXQobWF0Y2hlc1swXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3BhY2l0eSA9IHBhcnNlRmxvYXQoY29tcHV0ZWRTdHlsZVsnb3BhY2l0eSddKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3BhY2l0eTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50TGlzdH0gSWYgdGhpcyBlbGVtZW50IGlzIGEgc2VsZWN0IGJveCwgdGhpcyByZXR1cm5zIHRoZSBvcHRpb25zIG9mIHRoZSBzZWxlY3QgYm94IGluXG4gICAqICAgICAgICAgIGFuIEVsZW1lbnRMaXN0LlxuICAgKi9cbiAgZ2V0T3B0aW9ucygpIHtcbiAgICBpZiAodGhpcy5nZXRUYWdOYW1lKCkgIT09ICdTRUxFQ1QnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgY2FuIG9ubHkgZ2V0IHRoZSBvcHRpb25zIGZvciBzZWxlY3QgZWxlbWVudHMnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByaW1lRWxlbWVudExpc3QodGhpcy5kb21FbGVtZW50Lm9wdGlvbnMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG91dGVyIGhlaWdodCBvZiB0aGUgZWxlbWVudCwgaW5jbHVkaW5nIHRoZSBtYXJnaW5zLiBUaGlzIGRvZXMgbm90IGluY2x1ZGUgdGhlIHBhZGRpbmcgb3IgYm9yZGVycy5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIG91dGVyIGhlaWdodCBvZiB0aGUgZWxlbWVudC5cbiAgICovXG4gIGdldE91dGVySGVpZ2h0KCkge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKTtcbiAgICBjb25zdCBvZmZzZXRIZWlnaHQgPSB0aGlzLmRvbUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgIGNvbnN0IG1hcmdpblRvcCA9IGNvbXB1dGVkU3R5bGVbJ21hcmdpblRvcCddO1xuICAgIGNvbnN0IG1hcmdpbkJvdHRvbSA9IGNvbXB1dGVkU3R5bGVbJ21hcmdpbkJvdHRvbSddO1xuICAgIHJldHVybiBvZmZzZXRIZWlnaHQgKyBVdGlscy5wYXJzZUNTU01lYXN1cmUobWFyZ2luVG9wKSArIFV0aWxzLnBhcnNlQ1NTTWVhc3VyZShtYXJnaW5Cb3R0b20pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG91dGVyIEhUTUwgY29udGVudCBvZiB0aGUgRWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIG91dGVyIEhUTUwgY29udGVudC5cbiAgICovXG4gIGdldE91dGVySFRNTCgpIHtcbiAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50Lm91dGVySFRNTDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBvdXRlciB3aWR0aCBvZiB0aGUgZWxlbWVudCwgaW5jbHVkaW5nIHRoZSBtYXJnaW5zLiBUaGlzIGRvZXMgbm90IGluY2x1ZGUgdGhlIHBhZGRpbmcgb3IgYm9yZGVycy5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIG91dGVyIHdpZHRoIG9mIHRoZSBlbGVtZW50LlxuICAgKi9cbiAgZ2V0T3V0ZXJXaWR0aCgpIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7XG4gICAgY29uc3Qgb2Zmc2V0V2lkdGggPSB0aGlzLmRvbUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgY29uc3QgbWFyZ2luTGVmdCA9IGNvbXB1dGVkU3R5bGVbJ21hcmdpbkxlZnQnXTtcbiAgICBjb25zdCBtYXJnaW5SaWdodCA9IGNvbXB1dGVkU3R5bGVbJ21hcmdpblJpZ2h0J107XG4gICAgcmV0dXJuIG9mZnNldFdpZHRoICsgVXRpbHMucGFyc2VDU1NNZWFzdXJlKG1hcmdpbkxlZnQpICsgVXRpbHMucGFyc2VDU1NNZWFzdXJlKG1hcmdpblJpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoaXMgZWxlbWVudCdzIHBhcmVudCBhcyBhIFByaW1lRWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybnMgez9QcmltZUVsZW1lbnR9IFRoaXMgZWxlbWVudCdzIHBhcmVudCBvciBudWxsIGlmIHRoZXJlIGlzIG5vIHBhcmVudFxuICAgKi9cbiAgZ2V0UGFyZW50KCkge1xuICAgIGlmIChVdGlscy5pc0RlZmluZWQodGhpcy5kb21FbGVtZW50LnBhcmVudEVsZW1lbnQpKSB7XG4gICAgICByZXR1cm4gbmV3IFByaW1lRWxlbWVudCh0aGlzLmRvbUVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7P1ByaW1lRWxlbWVudH0gVGhpcyBlbGVtZW50cyBwcmV2aW91cyBzaWJsaW5nIG9yIG51bGwuXG4gICAqL1xuICBnZXRQcmV2aW91c1NpYmxpbmcoKSB7XG4gICAgbGV0IHNpYmxpbmcgPSB0aGlzLmRvbUVsZW1lbnQucHJldmlvdXNTaWJsaW5nO1xuICAgIHdoaWxlIChzaWJsaW5nICE9PSBudWxsICYmIHNpYmxpbmcubm9kZVR5cGUgIT09IDEpIHtcbiAgICAgIHNpYmxpbmcgPSBzaWJsaW5nLnByZXZpb3VzU2libGluZztcbiAgICB9XG5cbiAgICBpZiAoc2libGluZyA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcmltZUVsZW1lbnQoc2libGluZyk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHpJbmRleCBzdHlsZSBvZiB0aGlzIGVsZW1lbnQgYmFzZWQgb24gdGhlIGVsZW1lbnQgb3IgdGhlIGZpcnN0IHBvc2l0aW9uZWQgcGFyZW50LlxuICAgKi9cbiAgZ2V0UmVsYXRpdmVaSW5kZXgoKSB7XG4gICAgbGV0IGUgPSB0aGlzO1xuICAgIHdoaWxlIChlICE9PSBudWxsICYmIGUuZ2V0Q29tcHV0ZWRTdHlsZSgpWyd6SW5kZXgnXSA9PT0gJ2F1dG8nKSB7XG4gICAgICBlID0gZS5nZXRQYXJlbnQoKTtcbiAgICB9XG4gICAgcmV0dXJuIGUgPT09IG51bGwgPyAwIDogcGFyc2VJbnQoZS5nZXRDb21wdXRlZFN0eWxlKClbJ3pJbmRleCddKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgcmlnaHQgcG9zaXRpb24gKGluIHBpeGVscykgb2YgdGhlIGN1cnJlbnQgZWxlbWVudC5cbiAgICovXG4gIGdldFJpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHNjcm9sbCBoZWlnaHQgb2YgdGhpcyBlbGVtZW50LlxuICAgKi9cbiAgZ2V0U2Nyb2xsSGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBzY3JvbGwgbGVmdCBwb3NpdGlvbiBvZiB0aGlzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRTY3JvbGxMZWZ0KCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgc2Nyb2xsIHRvcCBwb3NpdGlvbiBvZiB0aGlzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRTY3JvbGxUb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC5zY3JvbGxUb3A7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHNjcm9sbCB3aWR0aCBvZiB0aGlzIGVsZW1lbnQuXG4gICAqL1xuICBnZXRTY3JvbGxXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50LnNjcm9sbFdpZHRoO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgc2VsZWN0ZWQgdGV4dHMgb2YgdGhpcyBFbGVtZW50LCBpZiB0aGUgZWxlbWVudCBpcyBhIHNlbGVjdC4gSWYgaXQgaXMgYW55dGhpbmcgZWxzZSB0aGlzIHJldHVybnNcbiAgICogbnVsbC5cbiAgICpcbiAgICogQHJldHVybnMge0FycmF5fSBUaGUgdGV4dHMgb2YgdGhpcyBFbGVtZW50LlxuICAgKi9cbiAgZ2V0U2VsZWN0ZWRUZXh0cygpIHtcbiAgICBsZXQgdGV4dHM7XG4gICAgaWYgKHRoaXMuZG9tRWxlbWVudC50YWdOYW1lID09PSAnU0VMRUNUJykge1xuICAgICAgdGV4dHMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb21FbGVtZW50Lm9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRoaXMuZG9tRWxlbWVudC5vcHRpb25zW2ldLnNlbGVjdGVkKSB7XG4gICAgICAgICAgdGV4dHMucHVzaCh0aGlzLmRvbUVsZW1lbnQub3B0aW9uc1tpXS50ZXh0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0ZXh0cyA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRleHRzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgdmFsdWVzIG9mIHRoaXMgRWxlbWVudCwgaWYgdGhlIGVsZW1lbnQgaXMgYSBjaGVja2JveCBvciBzZWxlY3QuIElmIGl0IGlzIGFueXRoaW5nIGVsc2UgdGhpcyByZXR1cm5zXG4gICAqIG51bGwuXG4gICAqXG4gICAqIEByZXR1cm5zIHtBcnJheX0gVGhlIHZhbHVlcyBvZiB0aGlzIEVsZW1lbnQuXG4gICAqL1xuICBnZXRTZWxlY3RlZFZhbHVlcygpIHtcbiAgICBsZXQgdmFsdWVzO1xuICAgIGlmICh0aGlzLmRvbUVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiAodGhpcy5kb21FbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCcgfHwgdGhpcy5kb21FbGVtZW50LnR5cGUgPT09ICdyYWRpbycpKSB7XG4gICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmRvbUVsZW1lbnQubmFtZTtcbiAgICAgIGNvbnN0IGZvcm0gPSBQcmltZURvY3VtZW50LnF1ZXJ5VXAoJ2Zvcm0nLCB0aGlzLmRvbUVsZW1lbnQpO1xuICAgICAgUHJpbWVEb2N1bWVudC5xdWVyeSgnaW5wdXRbbmFtZT1cIicgKyBuYW1lICsgJ1wiXScsIGZvcm0pLmVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5pc0NoZWNrZWQoKSkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKGVsZW1lbnQuZ2V0VmFsdWUoKSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kb21FbGVtZW50LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICB2YWx1ZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb21FbGVtZW50Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLmRvbUVsZW1lbnQub3B0aW9uc1tpXS5zZWxlY3RlZCkge1xuICAgICAgICAgIHZhbHVlcy5wdXNoKHRoaXMuZG9tRWxlbWVudC5vcHRpb25zW2ldLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB2YWx1ZSBvZiBhIHN0eWxlIGF0dHJpYnV0ZS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHN0eWxlIHZhbHVlLlxuICAgKi9cbiAgZ2V0U3R5bGUobmFtZSkge1xuICAgIG5hbWUgPSBVdGlscy5jb252ZXJ0U3R5bGVOYW1lKG5hbWUpO1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuc3R5bGVbbmFtZV07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIHRhZyBuYW1lIG9mIHRoaXMgZWxlbWVudCBhcyBhIHN0cmluZy4gVGhpcyBpcyBhbHdheXMgdXBwZXJjYXNlLlxuICAgKi9cbiAgZ2V0VGFnTmFtZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50LnRhZ05hbWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSB0ZXh0IGNvbnRlbnQgb2YgdGhpcyBFbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgdGV4dCBjb250ZW50cyBvZiB0aGlzIEVsZW1lbnQuXG4gICAqL1xuICBnZXRUZXh0Q29udGVudCgpIHtcbiAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50LmlubmVyVGV4dCA/IHRoaXMuZG9tRWxlbWVudC5pbm5lclRleHQgOiB0aGlzLmRvbUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHRvcCBwb3NpdGlvbiAoaW4gcGl4ZWxzKSBvZiB0aGUgY3VycmVudCBlbGVtZW50LlxuICAgKi9cbiAgZ2V0VG9wKCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHdpZHRoIG9mIHRoZSBFbGVtZW50IGFzIGFuIGludGVnZXIgdmFsdWUuIFRoaXMgd2lkdGggaW5jbHVkZXMgcGFkZGluZyBhbmQgc2Nyb2xsIGJhciBidXQgZXhjbHVkZXMgdGhlIG1hcmdpbiBhbmQgYm9yZGVycy5cbiAgICogVGhpcyBpcyBvZnRlbiBjYWxsZWQgdGhlIGlubmVyV2lkdGggb2YgdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBoZWlnaHQgaW4gcGl4ZWxzLlxuICAgKi9cbiAgZ2V0V2lkdGgoKSB7XG4gICAgY29uc3QgY29tcHV0ZWRTdHlsZSA9IHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZSgpO1xuICAgIGNvbnN0IG9mZnNldFdpZHRoID0gdGhpcy5kb21FbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIGNvbnN0IGJvcmRlckxlZnQgPSBjb21wdXRlZFN0eWxlWydib3JkZXJMZWZ0V2lkdGgnXTtcbiAgICBjb25zdCBib3JkZXJSaWdodCA9IGNvbXB1dGVkU3R5bGVbJ2JvcmRlclJpZ2h0V2lkdGgnXTtcbiAgICByZXR1cm4gb2Zmc2V0V2lkdGggLSBVdGlscy5wYXJzZUNTU01lYXN1cmUoYm9yZGVyTGVmdCkgLSBVdGlscy5wYXJzZUNTU01lYXN1cmUoYm9yZGVyUmlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgdmFsdWUgYXR0cmlidXRlIG9mIHRoaXMgRWxlbWVudC4gVGhpcyB3b3JrcyBvbiBhbGwgY2hlY2tib3hlcywgcmFkaW8gYnV0dG9ucywgdGV4dCwgdGV4dCBhcmVhcywgYW5kXG4gICAqIG9wdGlvbnMuIEhvd2V2ZXIsIHRoaXMgZG9lcyBub3QgcmV0cmlldmUgdGhlIHNlbGVjdGVkIG9wdGlvbnMgaW4gYSBzZWxlY3QgYm94LCBjaGVja2VkIGNoZWNrYm94ZXMgb3IgY2hlY2tlZCByYWRpb1xuICAgKiBidXR0b25zLiBVc2UgdGhlIGdldFNlbGVjdGVkVmFsdWVzIGZ1bmN0aW9uIGZvciB0aGF0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgdmFsdWUgb2YgdGhpcyBFbGVtZW50LlxuICAgKi9cbiAgZ2V0VmFsdWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC52YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaGFzIG9uZSBvciBhbGwgY2xhc3MgbmFtZXNcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZXMgVGhlIGNsYXNzIG5hbWUocykgaW4gYSBzdHJpbmcuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGFsbCBjbGFzcyBuYW1lcyBhcmUgcHJlc2VudC5cbiAgICovXG4gIGhhc0NsYXNzKGNsYXNzTmFtZXMpIHtcbiAgICBjb25zdCBjdXJyZW50Q2xhc3NOYW1lcyA9IHRoaXMuZG9tRWxlbWVudC5jbGFzc05hbWU7XG4gICAgaWYgKGN1cnJlbnRDbGFzc05hbWVzID09PSAnJykge1xuICAgICAgcmV0dXJuIGNsYXNzTmFtZXMgPT09ICcnO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRDbGFzc05hbWVMaXN0ID0gY3VycmVudENsYXNzTmFtZXMuc3BsaXQoVXRpbHMuc3BhY2VSZWdleCk7XG4gICAgY29uc3QgZmluZENsYXNzTmFtZUxpc3QgPSBjbGFzc05hbWVzLnNwbGl0KFV0aWxzLnNwYWNlUmVnZXgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZmluZENsYXNzTmFtZUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjdXJyZW50Q2xhc3NOYW1lTGlzdC5pbmRleE9mKGZpbmRDbGFzc05hbWVMaXN0W2ldKSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEhpZGVzIHRoZSBFbGVtZW50IGJ5IHNldHRpbmcgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZS5cbiAgICpcbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoaXMgRWxlbWVudCBpbnRvIHRoZSBET00gYWZ0ZXIgdGhlIGdpdmVuIGVsZW1lbnQsIHJlbW92aW5nIGl0IGZyb20gaXQncyBwYXJlbnQgaWYgaXQncyBhbiBleGlzdGluZyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGluc2VydCB0aGlzIEVsZW1lbnQgYWZ0ZXIuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIGluc2VydEFmdGVyKGVsZW1lbnQpIHtcbiAgICBpZiAodGhpcy5kb21FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIHRoaXMuZG9tRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZG9tRWxlbWVudCk7XG4gICAgfVxuXG4gICAgY29uc3QgZG9tRWxlbWVudCA9IChlbGVtZW50IGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSA/IGVsZW1lbnQuZG9tRWxlbWVudCA6IGVsZW1lbnQ7XG4gICAgY29uc3QgcGFyZW50RWxlbWVudCA9IGRvbUVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICBpZiAocGFyZW50RWxlbWVudCkge1xuICAgICAgcGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5kb21FbGVtZW50LCBkb21FbGVtZW50Lm5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGVsZW1lbnQgeW91IHBhc3NlZCBpbnRvIGluc2VydEFmdGVyIGlzIG5vdCBpbiB0aGUgRE9NLiBZb3UgY2FuXFwndCBpbnNlcnQgYSBQcmltZUVsZW1lbnQgYWZ0ZXIgYW4gZWxlbWVudCB0aGF0IGlzblxcJ3QgaW4gdGhlIERPTSB5ZXQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGlzIEVsZW1lbnQgaW50byB0aGUgRE9NIGJlZm9yZSB0aGUgZ2l2ZW4gZWxlbWVudCwgcmVtb3ZpbmcgaXQgZnJvbSBpdCdzIHBhcmVudCBpZiBpdCdzIGFuIGV4aXN0aW5nIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gaW5zZXJ0IHRoaXMgRWxlbWVudCBiZWZvcmUuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIGluc2VydEJlZm9yZShlbGVtZW50KSB7XG4gICAgaWYgKHRoaXMuZG9tRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnQpO1xuICAgIH1cblxuICAgIGNvbnN0IGRvbUVsZW1lbnQgPSAoZWxlbWVudCBpbnN0YW5jZW9mIFByaW1lRWxlbWVudCkgPyBlbGVtZW50LmRvbUVsZW1lbnQgOiBlbGVtZW50O1xuICAgIGNvbnN0IHBhcmVudEVsZW1lbnQgPSBkb21FbGVtZW50LnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgIHBhcmVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuZG9tRWxlbWVudCwgZG9tRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBlbGVtZW50IHlvdSBwYXNzZWQgaW50byBpbnNlcnRCZWZvcmUgaXMgbm90IGluIHRoZSBET00uIFlvdSBjYW5cXCd0IGluc2VydCBhIFByaW1lRWxlbWVudCBiZWZvcmUgYW4gZWxlbWVudCB0aGF0IGlzblxcJ3QgaW4gdGhlIERPTSB5ZXQuJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGUgZ2l2ZW4gSFRNTCBzbmlwcGV0IGRpcmVjdGx5IGFmdGVyIHRoaXMgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgVGhlIEhUTUwgc3RyaW5nLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBpbnNlcnRIVE1MQWZ0ZXIoaHRtbCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyZW5kJywgaHRtbCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGUgZ2l2ZW4gSFRNTCBzbmlwcGV0IGluc2lkZSB0aGlzIGVsZW1lbnQsIGJlZm9yZSBpdHMgZmlyc3QgY2hpbGQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBodG1sIFRoZSBIVE1MIHN0cmluZy5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgaW5zZXJ0SFRNTEFmdGVyQmVnaW4oaHRtbCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5pbnNlcnRBZGphY2VudEhUTUwoJ2FmdGVyYmVnaW4nLCBodG1sKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnNlcnRzIHRoZSBnaXZlbiB0ZXh0IGFmdGVyIHRoaXMgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gaW5zZXJ0LlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBpbnNlcnRUZXh0QWZ0ZXIodGV4dCkge1xuICAgIGlmICghdGhpcy5kb21FbGVtZW50LnBhcmVudE5vZGUpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoaXMgRWxlbWVudCBpcyBub3QgY3VycmVudGx5IGluIHRoZSBET00nKTtcbiAgICB9XG5cbiAgICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpO1xuICAgIHRoaXMuZG9tRWxlbWVudC5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0ZXh0Tm9kZSwgdGhpcy5kb21FbGVtZW50Lm5leHRTaWJsaW5nKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluc2VydHMgdGhlIGdpdmVuIHRleHQgYmVmb3JlIHRoaXMgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGhlIHRleHQgdG8gaW5zZXJ0LlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBpbnNlcnRUZXh0QmVmb3JlKHRleHQpIHtcbiAgICBpZiAoIXRoaXMuZG9tRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGlzIEVsZW1lbnQgaXMgbm90IGN1cnJlbnRseSBpbiB0aGUgRE9NJyk7XG4gICAgfVxuXG4gICAgY29uc3QgdGV4dE5vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcbiAgICB0aGlzLmRvbUVsZW1lbnQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGV4dE5vZGUsIHRoaXMuZG9tRWxlbWVudCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgbWF0Y2hlcyB0aGUgcHJvdmlkZWQgc2VsZWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciB0byBtYXRjaCBhZ2FpbnN0IHRoZSBFbGVtZW50XG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbGVtZW50IG1hdGNoZXMgdGhlIHNlbGVjdG9yLCBmYWxzZSBpZiBpdCBkb2VzIG5vdCBtYXRjaCB0aGUgc2VsZWN0b3IuXG4gICAqL1xuICBpcyhzZWxlY3Rvcikge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQubWF0Y2hlcyhzZWxlY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZWxlbWVudCBpcyBjaGVja2VkLiBJZiB0aGUgZWxlbWVudCBpcyBub3QgYSBjaGVja2JveCBvciBhIHJhZGlvIHRoaXMgcmV0dXJucyBmYWxzZS5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIGZhbHNlIGlmIGl0IGlzbid0IG9yIGlzIG5vdCBhIGNoZWNrYm94IG9yIGEgcmFkaW8uXG4gICAqL1xuICBpc0NoZWNrZWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZG9tRWxlbWVudC50YWdOYW1lID09PSAnSU5QVVQnICYmICh0aGlzLmRvbUVsZW1lbnQudHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0aGlzLmRvbUVsZW1lbnQudHlwZSA9PT0gJ3JhZGlvJykgJiYgdGhpcy5kb21FbGVtZW50LmNoZWNrZWQ7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiB0aGlzIGVsZW1lbnQgaXMgYSBjaGlsZCBvZiB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8Tm9kZX0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGlzIGEgY2hpbGQgb2YuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoaXMgZWxlbWVudCBpcyBhIGNoaWxkIG9mIHRoZSBnaXZlbiBlbGVtZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBpc0NoaWxkT2YoZWxlbWVudCkge1xuICAgIGNvbnN0IGRvbUVsZW1lbnQgPSBlbGVtZW50IGluc3RhbmNlb2YgUHJpbWVFbGVtZW50ID8gZWxlbWVudC5kb21FbGVtZW50IDogZWxlbWVudDtcbiAgICBsZXQgcGFyZW50ID0gdGhpcy5kb21FbGVtZW50LnBhcmVudE5vZGU7XG4gICAgd2hpbGUgKGRvbUVsZW1lbnQgIT09IHBhcmVudCAmJiBwYXJlbnQgIT09IG51bGwpIHtcbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBkb21FbGVtZW50ID09PSBwYXJlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFdoZXRoZXIgb3Igbm90IHRoaXMgZWxlbWVudCBpcyBkaXNhYmxlZCBhY2NvcmRpbmcgdG8gdGhlIGRpc2FibGVkIHByb3BlcnR5LlxuICAgKi9cbiAgaXNEaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5kb21FbGVtZW50LmRpc2FibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoaXMgZWxlbWVudCBoYXMgZm9jdXMuXG4gICAqL1xuICBpc0ZvY3VzZWQoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMuZG9tRWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoaXMgZWxlbWVudCBpcyBhbiBJTlBVVCwgU0VMRUNUIG9yIFRFWFRBUkVBLlxuICAgKi9cbiAgaXNJbnB1dCgpIHtcbiAgICBjb25zdCB0YWdOYW1lID0gdGhpcy5nZXRUYWdOYW1lKCk7XG4gICAgcmV0dXJuIHRhZ05hbWUgPT09ICdTRUxFQ1QnIHx8IHRhZ05hbWUgPT09ICdJTlBVVCcgfHwgdGFnTmFtZSA9PT0gJ1RFWFRBUkVBJztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmVzIGlmIHRoZSB0aGlzIGVsZW1lbnQgaXMgaW5zaWRlIHRoZSBnaXZlbiBlbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB0YXJnZXQge1ByaW1lRWxlbWVudH0gVGhlIHRhcmdldCBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIGVsZW1lbnQgaXMgaW5zaWRlIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKi9cbiAgaXNJbnNpZGUodGFyZ2V0KSB7XG4gICAgaWYgKHRoaXMuZG9tRWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keSB8fCB0aGlzLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCB0aGlzLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KCk7XG4gICAgd2hpbGUgKHBhcmVudC5kb21FbGVtZW50ICE9PSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICBpZiAocGFyZW50LmRvbUVsZW1lbnQgPT09IHRhcmdldC5kb21FbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcGFyZW50ID0gcGFyZW50LmdldFBhcmVudCgpO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBlbGVtZW50IGlzIHNlbGVjdGVkLiBJZiB0aGUgZWxlbWVudCBpcyBub3QgYW4gb3B0aW9uIHRoaXMgcmV0dXJucyBmYWxzZS5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIGZhbHNlIGlmIGl0IGlzbid0IG9yIGlzIG5vdCBhbiBvcHRpb24uXG4gICAqL1xuICBpc1NlbGVjdGVkKCkge1xuICAgIHJldHVybiB0aGlzLmRvbUVsZW1lbnQudGFnTmFtZSA9PT0gJ09QVElPTicgJiYgdGhpcy5kb21FbGVtZW50LnNlbGVjdGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIGVsZW1lbnQgaXMgdmlzaWJsZSB1c2luZyBpdHMgZGlzcGxheSBhbmQgdmlzaWJpbGl0eSBzdHlsZXMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbGVtZW50IGlzIHZpc2libGUsIGZhbHNlIG90aGVyd2lzZS4gVGhpcyBtaWdodCByZXR1cm4gYW4gaW52YWxpZCB2YWx1ZSBpZiB0aGUgZWxlbWVudFxuICAgKiBpcyBhYnNvbHV0ZWx5IHBvc2l0aW9uZWQgYW5kIG9mZiB0aGUgc2NyZWVuLCBidXQgaXMgc3RpbGwgdGVjaG5pY2FsbHkgdmlzaWJsZS5cbiAgICovXG4gIGlzVmlzaWJsZSgpIHtcbiAgICBjb25zdCBjb21wdXRlZFN0eWxlID0gdGhpcy5nZXRDb21wdXRlZFN0eWxlKCk7XG4gICAgcmV0dXJuIGNvbXB1dGVkU3R5bGVbJ2Rpc3BsYXknXSAhPT0gJ25vbmUnICYmIGNvbXB1dGVkU3R5bGVbJ3Zpc2liaWxpdHknXSAhPT0gJ2hpZGRlbic7XG4gIH1cblxuICAvKipcbiAgICogSW5zZXJ0cyB0aGlzIEVsZW1lbnQgKHdoaWNoIG11c3QgYmUgYSBuZXdseSBjcmVhdGVkIEVsZW1lbnQpIGludG8gdGhlIERPTSBpbnNpZGUgYXQgdGhlIHZlcnkgYmVnaW5uaW5nIG9mIHRoZSBnaXZlblxuICAgKiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGluc2VydCB0aGlzIEVsZW1lbnQgaW50by5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgcHJlcGVuZFRvKGVsZW1lbnQpIHtcbiAgICAvLyBFcnJvciBvdXQgZm9yIG5vdyBpZiB0aGlzIGVsZW1lbnQgaXMgaW4gdGhlIGRvY3VtZW50IHNvIHdlIGNhbiBwdW50IG9uIGNsb25pbmcgZm9yIG5vd1xuICAgIGlmICh0aGlzLmRvbUVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IGNhbiBvbmx5IGluc2VydCBuZXcgUHJpbWVFbGVtZW50cyBmb3Igbm93Jyk7XG4gICAgfVxuXG4gICAgY29uc3QgZG9tRWxlbWVudCA9IChlbGVtZW50IGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSA/IGVsZW1lbnQuZG9tRWxlbWVudCA6IGVsZW1lbnQ7XG4gICAgaWYgKGRvbUVsZW1lbnQucGFyZW50Tm9kZSkge1xuICAgICAgZG9tRWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5kb21FbGVtZW50LCBkb21FbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgZWxlbWVudCB5b3UgcGFzc2VkIGludG8gcHJlcGVuZFRvIGlzIG5vdCBpbiB0aGUgRE9NLiBZb3UgY2FuXFwndCBpbnNlcnQgYSBQcmltZUVsZW1lbnQgaW5zaWRlIGFuIGVsZW1lbnQgdGhhdCBpc25cXCd0IGluIHRoZSBET00geWV0LicpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXJpZXMgdGhlIERPTSB1c2luZyB0aGUgZ2l2ZW4gc2VsZWN0b3Igc3RhcnRpbmcgYXQgdGhpcyBlbGVtZW50IGFuZCByZXR1cm5zIGFsbCB0aGUgbWF0Y2hlZCBlbGVtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFRoZSBzZWxlY3Rvci5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudExpc3R9IEFuIGVsZW1lbnQgbGlzdC5cbiAgICovXG4gIHF1ZXJ5KHNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIFByaW1lRG9jdW1lbnQucXVlcnkoc2VsZWN0b3IsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFF1ZXJpZXMgdGhlIERPTSB1c2luZyB0aGUgZ2l2ZW4gc2VsZWN0b3Igc3RhcnRpbmcgYXQgdGhpcyBlbGVtZW50IGFuZCByZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGVkIGVsZW1lbnRcbiAgICogb3IgbnVsbCBpZiB0aGVyZSBhcmVuJ3QgYW55IG1hdGNoZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBUaGUgc2VsZWN0b3IuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IEFuIGVsZW1lbnQgb3IgbnVsbC5cbiAgICovXG4gIHF1ZXJ5Rmlyc3Qoc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gUHJpbWVEb2N1bWVudC5xdWVyeUZpcnN0KHNlbGVjdG9yLCB0aGlzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWVyaWVzIHRoZSBET00gdXNpbmcgdGhlIGdpdmVuIHNlbGVjdG9yIHN0YXJ0aW5nIGF0IHRoaXMgZWxlbWVudCBhbmQgcmV0dXJucyB0aGUgbGFzdCBtYXRjaGVkIGVsZW1lbnRcbiAgICogb3IgbnVsbCBpZiB0aGVyZSBhcmVuJ3QgYW55IG1hdGNoZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBUaGUgc2VsZWN0b3IuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IEFuIGVsZW1lbnQgb3IgbnVsbC5cbiAgICovXG4gIHF1ZXJ5TGFzdChzZWxlY3Rvcikge1xuICAgIHJldHVybiBQcmltZURvY3VtZW50LnF1ZXJ5TGFzdChzZWxlY3RvciwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogVHJhdmVyc2VzIHVwIHRoZSBET00gZnJvbSB0aGlzIGVsZW1lbnQgYW5kIGxvb2tzIGZvciBhIG1hdGNoIHRvIHRoZSBzZWxlY3Rvci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFRoZSBzZWxlY3Rvci5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gQW4gZWxlbWVudCBvciBudWxsLlxuICAgKi9cbiAgcXVlcnlVcChzZWxlY3Rvcikge1xuICAgIHJldHVybiBQcmltZURvY3VtZW50LnF1ZXJ5VXAoc2VsZWN0b3IsIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIG9mIHRoZSBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICByZW1vdmVBbGxFdmVudExpc3RlbmVycygpIHtcbiAgICBmb3IgKGxldCBldmVudCBpbiB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIGlmICh0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoZXZlbnQpKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kb21FbGVtZW50LmV2ZW50TGlzdGVuZXJzW2V2ZW50XS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRoaXMuX2ludGVybmFsUmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgdGhpcy5kb21FbGVtZW50LmV2ZW50TGlzdGVuZXJzW2V2ZW50XVtpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMgPSB7fTtcbiAgICB0aGlzLmRvbUVsZW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnMgPSB7fTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYW4gYXR0cmlidXRlIGZyb20gdGhlIEVsZW1lbnRcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZS5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgcmVtb3ZlQXR0cmlidXRlKG5hbWUpIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGNsYXNzIChvciBsaXN0IG9mIHNwYWNlIHNlcGFyYXRlZCBjbGFzc2VzKSBmcm9tIHRoaXMgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZXMgVGhlIGNsYXNzIG5hbWUocykuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHJlbW92ZUNsYXNzKGNsYXNzTmFtZXMpIHtcbiAgICBjb25zdCBjdXJyZW50Q2xhc3NOYW1lID0gdGhpcy5kb21FbGVtZW50LmNsYXNzTmFtZTtcbiAgICBpZiAoY3VycmVudENsYXNzTmFtZSA9PT0gJycpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRDbGFzc05hbWVMaXN0ID0gY3VycmVudENsYXNzTmFtZS5zcGxpdChVdGlscy5zcGFjZVJlZ2V4KTtcbiAgICBjb25zdCByZW1vdmVDbGFzc05hbWVMaXN0ID0gY2xhc3NOYW1lcy5zcGxpdChVdGlscy5zcGFjZVJlZ2V4KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbW92ZUNsYXNzTmFtZUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgIFV0aWxzLnJlbW92ZUZyb21BcnJheShjdXJyZW50Q2xhc3NOYW1lTGlzdCwgcmVtb3ZlQ2xhc3NOYW1lTGlzdFtpXSk7XG4gICAgfVxuXG4gICAgdGhpcy5kb21FbGVtZW50LmNsYXNzTmFtZSA9IGN1cnJlbnRDbGFzc05hbWVMaXN0LmpvaW4oJyAnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV2ZW50IGxpc3RlbmVyIGZvciBhIHNwZWNpZmljIGV2ZW50IGZyb20gdGhpcyBFbGVtZW50LCB5b3UgbXVzdCBoYXZlIGF0dGFjaGVkIHVzaW5nIGFkZEV2ZW50TGlzdGVuZXJcbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHsqfSBsaXN0ZW5lciBUaGUgZXZlbnQgbGlzdGVuZXIgdGhhdCB3YXMgYm91bmQuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgbGV0IGxpc3RlbmVycztcbiAgICBpZiAoZXZlbnQuaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgdGhpcy5faW50ZXJuYWxSZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICBsaXN0ZW5lcnMgPSB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0ZW5lcnMgPSB0aGlzLmRvbUVsZW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdO1xuICAgIH1cblxuICAgIGlmIChsaXN0ZW5lcnMpIHtcbiAgICAgIFV0aWxzLnJlbW92ZUZyb21BcnJheShsaXN0ZW5lcnMsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBvZiB0aGUgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgZ2l2ZW4gZXZlbnQgZnJvbSB0aGlzIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgZm9yLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICByZW1vdmVFdmVudExpc3RlbmVycyhldmVudCkge1xuICAgIGlmIChldmVudC5pbmRleE9mKCc6JykgPT09IC0xKSB7XG4gICAgICBpZiAodGhpcy5kb21FbGVtZW50LmV2ZW50TGlzdGVuZXJzW2V2ZW50XSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG9tRWxlbWVudC5ldmVudExpc3RlbmVyc1tldmVudF0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0aGlzLl9pbnRlcm5hbFJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuZG9tRWxlbWVudC5ldmVudExpc3RlbmVyc1tldmVudF1baV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuZG9tRWxlbWVudC5ldmVudExpc3RlbmVyc1tldmVudF07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0aGlzLmRvbUVsZW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmRvbUVsZW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYWxsIG9mIHRoZSBldmVudCBsaXN0ZW5lcnMgZm9yIHRoZSBnaXZlbiBwYXR0ZXJuIGZyb20gdGhpcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1JlZ0V4cH0gcGF0dGVybiBUaGUgcmVndWxhciBleHByZXNzaW9uIHRoYXQgbWF0Y2hlcyB0aGUgbmFtZXMgb2YgdGhlIGV2ZW50cyB0byByZW1vdmUgdGhlIGxpc3RlbmVycyBmb3IuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzQnlQYXR0ZXJuKHBhdHRlcm4pIHtcbiAgICBmb3IgKGxldCBldmVudCBpbiB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMpIHtcbiAgICAgIGlmICh0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnMuaGFzT3duUHJvcGVydHkoZXZlbnQpICYmIHBhdHRlcm4udGVzdChldmVudCkpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdGhpcy5faW50ZXJuYWxSZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLmRvbUVsZW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGV2ZW50IGluIHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVycykge1xuICAgICAgaWYgKHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShldmVudCkgJiYgcGF0dGVybi50ZXN0KGV2ZW50KSkge1xuICAgICAgICBkZWxldGUgdGhpcy5kb21FbGVtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoaXMgRWxlbWVudCBmcm9tIHRoZSBET00uIElmIHRoZSBFbGVtZW50IGlzbid0IGluIHRoZSBET00gdGhpcyBkb2VzIG5vdGhpbmcuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHJlbW92ZUZyb21ET00oKSB7XG4gICAgaWYgKHRoaXMuZG9tRWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmRvbUVsZW1lbnQpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIHNlbGVjdGVkIHJhbmdlIGZvciB0aGlzIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNlbGVjdEVsZW1lbnRDb250ZW50cygpIHtcbiAgICBsZXQgcmFuZ2U7XG4gICAgbGV0IHNlbGVjdGlvbjtcblxuICAgIGlmIChkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgLyogSUUgKi9cbiAgICAgIHJhbmdlID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgIHJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KHRoaXMuZG9tRWxlbWVudCk7XG4gICAgICByYW5nZS5zZWxlY3QoKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgIC8qIFJlc3Qgb2YgdGhlIHdvcmxkICovXG4gICAgICBzZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICByYW5nZS5zZWxlY3ROb2RlQ29udGVudHModGhpcy5kb21FbGVtZW50KTtcbiAgICAgIHNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIHNlbGVjdGlvbi5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xscyB0aGlzIEVsZW1lbnQgaW50byB0aGUgdmlzaWJsZSBhcmVhIG9mIHRoZSBicm93c2VyIHdpbmRvdy5cbiAgICpcbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgc2Nyb2xsSW50b1ZpZXcoKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LnNjcm9sbEludG9WaWV3KCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2Nyb2xscyB0aGlzIGVsZW1lbnQgdG8gdGhlIGdpdmVuIGhvcml6b250YWwgcG9zaXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvbiBUaGUgcG9zaXRpb24gdG8gc2Nyb2xsIHRoZSBlbGVtZW50IHRvLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBzY3JvbGxMZWZ0VG8ocG9zaXRpb24pIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQuc2Nyb2xsTGVmdCA9IHBvc2l0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdGhpcyBlbGVtZW50IHRvIHRoZSBnaXZlbiB2ZXJ0aWNhbCBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uIFRoZSBwb3NpdGlvbiB0byBzY3JvbGwgdGhlIGVsZW1lbnQgdG8uXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNjcm9sbFRvKHBvc2l0aW9uKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LnNjcm9sbFRvcCA9IHBvc2l0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdGhpcyBlbGVtZW50IHRvIHRoZSBib3R0b20uXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNjcm9sbFRvQm90dG9tKCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5zY3JvbGxUb3AgPSB0aGlzLmRvbUVsZW1lbnQuc2Nyb2xsSGVpZ2h0O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNjcm9sbHMgdGhpcyBlbGVtZW50IHRvIHRoZSB0b3AuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNjcm9sbFRvVG9wKCkge1xuICAgIHRoaXMuZG9tRWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW4gYXR0cmlidXRlIG9mIHRoZSBFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgYXR0cmlidXRlIG5hbWVcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZSBUaGUgYXR0cmlidXRlIHZhbHVlXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNldEF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKSB7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYXR0cmlidXRlID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKG5hbWUpO1xuICAgICAgYXR0cmlidXRlLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgdGhpcy5kb21FbGVtZW50LnNldEF0dHJpYnV0ZU5vZGUoYXR0cmlidXRlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGEgZGF0YS0gYXR0cmlidXRlIG9mIHRoZSBFbGVtZW50LlxuICAgKlxuICAgKiBFeGFtcGxlOiBzZXREYXRhQXR0cmlidXRlKCdmb29CYXInLCAnYmF6Jyk7XG4gICAqICBpcyBlcXVpdmFsZW50IHRvIGNhbGxpbmcgc2V0QXR0cmlidXRlKCdkYXRhLWZvby1iYXInLCAnYmF6Jyk7XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBhdHRyaWJ1dGUgbmFtZVxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHZhbHVlIFRoZSBhdHRyaWJ1dGUgdmFsdWVcbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgc2V0RGF0YUF0dHJpYnV0ZShuYW1lLCB2YWx1ZSkge1xuICAgIGNvbnN0IGRhdGFOYW1lID0gJ2RhdGEtJyArIG5hbWUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgIHJldHVybiB0aGlzLnNldEF0dHJpYnV0ZShkYXRhTmFtZSwgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgbXVsdGlwbGUgYXR0cmlidXRlcyBvZiB0aGUgRWxlbWVudCBmcm9tIHRoZSBoYXNoXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBhdHRyaWJ1dGVzIEFuIG9iamVjdCBvZiBrZXkgdmFsdWUgc3R5bGUgcGFpcnMuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNldEF0dHJpYnV0ZXMoYXR0cmlidXRlcykge1xuICAgIGZvciAobGV0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICBpZiAoYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIHRoaXMuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSWYgdGhpcyBlbGVtZW50IGlzIGEgY2hlY2tib3ggb3IgcmFkaW8gYnV0dG9uLCB0aGlzIHNldHMgdGhlIGNoZWNrZWQgZmllbGQgb24gdGhlIERPTSBvYmplY3QgZXF1YWwgdG8gdGhlIGdpdmVuXG4gICAqIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgdGhlIGNoZWNrZWQgc3RhdGUgb2YgdGhpcyBlbGVtZW50IHRvLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBzZXRDaGVja2VkKHZhbHVlKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LmNoZWNrZWQgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGlmIHRoaXMgZWxlbWVudCBpcyBkaXNhYmxlZCBvciBub3QuIFRoaXMgd29ya3Mgd2l0aCBhbnkgZWxlbWVudCB0aGF0IHJlc3BvbmRzIHRvIHRoZSBkaXNhYmxlZCBwcm9wZXJ0eS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IHRoZSBkaXNhYmxlZCBzdGF0ZSBvZiB0aGlzIGVsZW1lbnQgdG8uXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNldERpc2FibGVkKHZhbHVlKSB7XG4gICAgdGhpcy5kb21FbGVtZW50LmRpc2FibGVkID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGVpZ2h0IG9mIHRoaXMgZWxlbWVudCB1c2luZyB0aGUgaGVpZ2h0IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IGhlaWdodCBUaGUgbmV3IGhlaWdodCBhcyBhIG51bWJlciAoZm9yIHBpeGVscykgb3Igc3RyaW5nLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBzZXRIZWlnaHQoaGVpZ2h0KSB7XG4gICAgaWYgKHR5cGVvZihoZWlnaHQpID09PSAnbnVtYmVyJykge1xuICAgICAgaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0eWxlKCdoZWlnaHQnLCBoZWlnaHQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGlubmVyIEhUTUwgY29udGVudCBvZiB0aGUgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8UHJpbWVFbGVtZW50fSBuZXdIVE1MIFRoZSBuZXcgSFRNTCBjb250ZW50IGZvciB0aGUgRWxlbWVudC5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgc2V0SFRNTChuZXdIVE1MKSB7XG4gICAgaWYgKG5ld0hUTUwgIT09IG51bGwpIHtcbiAgICAgIGlmIChuZXdIVE1MIGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5pbm5lckhUTUwgPSBuZXdIVE1MLmdldEhUTUwoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5pbm5lckhUTUwgPSBuZXdIVE1MO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBJRCBvZiB0aGUgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBJRC5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgc2V0SWQoaWQpIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQuaWQgPSBpZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGxlZnQgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gbGVmdCBUaGUgbGVmdCBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCBpbiBwaXhlbHMgb3IgYXMgYSBzdHJpbmcuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNldExlZnQobGVmdCkge1xuICAgIGxldCBsZWZ0U3RyaW5nID0gbGVmdDtcbiAgICBpZiAodHlwZW9mKGxlZnQpID09PSAnbnVtYmVyJykge1xuICAgICAgbGVmdFN0cmluZyA9IGxlZnQgKyAncHgnO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3R5bGUoJ2xlZnQnLCBsZWZ0U3RyaW5nKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBvcGFjaXR5IG9mIHRoZSBlbGVtZW50LiBUaGlzIGFsc28gc2V0cyB0aGUgSUUgYWxwaGEgZmlsdGVyIGZvciBJRSB2ZXJzaW9uIDkgb3IgeW91bmdlci5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IG9wYWNpdHkgVGhlIG9wYWNpdHkuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNldE9wYWNpdHkob3BhY2l0eSkge1xuICAgIGlmIChCcm93c2VyLm5hbWUgPT09ICdFeHBsb3JlcicgJiYgQnJvd3Nlci52ZXJzaW9uIDwgOSkge1xuICAgICAgdGhpcy5kb21FbGVtZW50LnN0eWxlLmZpbHRlciA9ICdhbHBoYShvcGFjaXR5PScgKyBvcGFjaXR5ICsgJyknO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc2VsZWN0ZWQgdmFsdWUgb24gdGhlIGVsZW1lbnQuIElmIHRoZSBlbGVtZW50IGlzIG5vdCBhbiBvcHRpb24gb3IgcmFkaW8sIHRoaXMgZG9lcyBub3RoaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNlbGVjdGVkIFNlbGVjdGVkIHZhbHVlLlxuICAgKi9cbiAgc2V0U2VsZWN0ZWQoc2VsZWN0ZWQpIHtcbiAgICB0aGlzLmRvbUVsZW1lbnQuc2VsZWN0ZWQgPSBzZWxlY3RlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZWxlY3RlZCB2YWx1ZShzKSBvZiB0aGlzIGVsZW1lbnQuIFRoaXMgd29ya3Mgb24gc2VsZWN0cywgY2hlY2tib3hlcywgYW5kIHJhZGlvIGJ1dHRvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbYXJndW1lbnRzXSBUaGUgdmFsdWUocykgdG8gc2VsZWN0ICh2YXIgYXJncykuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNldFNlbGVjdGVkVmFsdWVzKCkge1xuICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGV5IHBhc3NlZCBpbiBhbiBhcnJheVxuICAgIGxldCB2YWx1ZXMgPSBudWxsO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIFV0aWxzLmlzQXJyYXkoYXJndW1lbnRzWzBdKSkge1xuICAgICAgdmFsdWVzID0gYXJndW1lbnRzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmRvbUVsZW1lbnQudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiAodGhpcy5kb21FbGVtZW50LnR5cGUgPT09ICdjaGVja2JveCcgfHwgdGhpcy5kb21FbGVtZW50LnR5cGUgPT09ICdyYWRpbycpKSB7XG4gICAgICBjb25zdCBuYW1lID0gdGhpcy5kb21FbGVtZW50Lm5hbWU7XG4gICAgICBjb25zdCBmb3JtID0gUHJpbWVEb2N1bWVudC5xdWVyeVVwKCdmb3JtJywgdGhpcy5kb21FbGVtZW50KTtcbiAgICAgIFByaW1lRG9jdW1lbnQucXVlcnkoJ2lucHV0W25hbWU9XCInICsgbmFtZSArICdcIl0nLCBmb3JtKS5lYWNoKGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgZWxlbWVudC5zZXRDaGVja2VkKHZhbHVlcy5pbmRleE9mKGVsZW1lbnQuZ2V0VmFsdWUoKSkgIT09IC0xKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5kb21FbGVtZW50LnRhZ05hbWUgPT09ICdTRUxFQ1QnKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZG9tRWxlbWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQub3B0aW9uc1tpXS5zZWxlY3RlZCA9IHZhbHVlcy5pbmRleE9mKHRoaXMuZG9tRWxlbWVudC5vcHRpb25zW2ldLnZhbHVlKSAhPT0gLTE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc3R5bGUgZm9yIHRoZSBuYW1lIG9mIHRoaXMgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIHN0eWxlIG5hbWUuXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdmFsdWUgVGhlIHN0eWxlIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBzZXRTdHlsZShuYW1lLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZVtuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgbXVsdGlwbGUgc3R5bGVzIG9mIHRoaXMgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHN0eWxlcyBBbiBvYmplY3Qgd2l0aCBrZXkgdmFsdWUgcGFpcnMgZm9yIHRoZSBuZXcgc3R5bGUgbmFtZXMgYW5kIHZhbHVlcy5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgc2V0U3R5bGVzKHN0eWxlcykge1xuICAgIGZvciAobGV0IGtleSBpbiBzdHlsZXMpIHtcbiAgICAgIGlmIChzdHlsZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0aGlzLnNldFN0eWxlKGtleSwgc3R5bGVzW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0ZXh0Q29udGVudCBvZiB0aGUgRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfFByaW1lRWxlbWVudH0gbmV3VGV4dCBUaGUgbmV3IHRleHQgY29udGVudCBmb3IgdGhlIEVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNldFRleHRDb250ZW50KG5ld1RleHQpIHtcbiAgICBpZiAobmV3VGV4dCAhPT0gbnVsbCkge1xuICAgICAgaWYgKG5ld1RleHQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnRleHRDb250ZW50ID0gbmV3VGV4dC5nZXRUZXh0Q29udGVudCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBuZXdUZXh0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIG5ld1RleHQgPSBuZXdUZXh0LnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kb21FbGVtZW50LnRleHRDb250ZW50ID0gbmV3VGV4dDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0b3AgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfHN0cmluZ30gdG9wIFRoZSB0b3AgcG9zaXRpb24gb2YgdGhlIGVsZW1lbnQgaW4gcGl4ZWxzIG9yIGFzIGEgc3RyaW5nLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBzZXRUb3AodG9wKSB7XG4gICAgbGV0IHRvcFN0cmluZyA9IHRvcDtcbiAgICBpZiAodHlwZW9mKHRvcCkgPT09ICdudW1iZXInKSB7XG4gICAgICB0b3BTdHJpbmcgPSB0b3AgKyAncHgnO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3R5bGUoJ3RvcCcsIHRvcFN0cmluZyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdmFsdWUgb2YgdGhpcyBFbGVtZW50LiBUaGlzIGhhbmRsZXMgY2hlY2tib3hlcywgcmFkaW8gYnV0dG9ucywgb3B0aW9ucywgdGV4dCBpbnB1dHMgYW5kIHRleHQgYXJlYXMuIFRoaXNcbiAgICogd29ya3Mgb24gY2hlY2tib3hlcyBhbmQgcmFkaW8gYnV0dG9ucywgYnV0IGl0IGNoYW5nZSB0aGUgdmFsdWUgYXR0cmlidXRlIG9uIHRoZW0gcmF0aGVyIHRoYW4gY2hlY2tpbmcgYW5kIHVuY2hlY2tpbmdcbiAgICogdGhlIGJ1dHRvbnMgdGhlbXNlbHZlcy4gVG8gY2hlY2sgYW5kIHVuY2hlY2sgdGhlIGJ1dHRvbnMsIHVzZSB0aGUgc2VsZWN0IG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSB2YWx1ZSBUaGUgbmV3IHZhbHVlLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHRoaXMuZG9tRWxlbWVudC52YWx1ZSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHdpZHRoIG9mIHRoaXMgZWxlbWVudCB1c2luZyB0aGUgaGVpZ2h0IHN0eWxlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IHdpZHRoIFRoZSBuZXcgd2lkdGggYXMgYSBudW1iZXIgKGZvciBwaXhlbHMpIG9yIHN0cmluZy5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgc2V0V2lkdGgod2lkdGgpIHtcbiAgICBpZiAodHlwZW9mKHdpZHRoKSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHdpZHRoID0gd2lkdGggKyAncHgnO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3R5bGUoJ3dpZHRoJywgd2lkdGgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIHRoZSBFbGVtZW50IGJ5IHNldHRpbmcgdGhlIGRpc3BsYXkgc3R5bGUgZmlyc3QgdG8gZW1wdHkgc3RyaW5nLiBBZnRlciB0aGlzLCB0aGUgZWxlbWVudHMgY29tcHV0ZWQgc3R5bGUgaXNcbiAgICogY2hlY2tlZCB0byBzZWUgaWYgdGhlIGVsZW1lbnQgaXMgc3RpbGwgbm90IHZpc2libGUuIElmIHRoYXQgaXMgdHJ1ZSwgdGhlIGVsZW1lbnQgbXVzdCBoYXZlIGEgQ1NTIHN0eWxlIGRlZmluZWQgaW5cbiAgICogYSBzdHlsZXNoZWV0IHRoYXQgaXMgc2V0dGluZyBpdCB0byBkaXNwbGF5OiBub25lLiBJbiB0aGlzIGNhc2UsIHdlIGRldGVybWluZSBpZiB0aGUgZWxlbWVudCBpcyBhIGJsb2NrIGxldmVsIGVsZW1lbnRcbiAgICogYW5kIGVpdGhlciBzZXQgdGhlIGRpc3BsYXkgdG8gJ2Jsb2NrJyBvciAnaW5saW5lJy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IFtkaXNwbGF5VmFsdWVdIFRoZSBkaXNwbGF5IHZhbHVlIHRvIHVzZSBmb3IgdGhlIHNob3cuIFRoaXMgZGVmYXVsdHMgdG8gdGhlIFczQyBzdGFuZGFyZCBkaXNwbGF5XG4gICAqIHNldHRpbmcgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIGVsZW1lbnQgeW91IGFyZSBzaG93aW5nLiBGb3IgZXhhbXBsZSwgSU5QVVQgaXMgaW5saW5lIGFuZCBESVYgaXMgYmxvY2suXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIHNob3coZGlzcGxheVZhbHVlKSB7XG4gICAgaWYgKFV0aWxzLmlzRGVmaW5lZChkaXNwbGF5VmFsdWUpKSB7XG4gICAgICB0aGlzLmRvbUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXlWYWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cbiAgICBjb25zdCBjb21wdXRlZERpc3BsYXkgPSB0aGlzLmdldENvbXB1dGVkU3R5bGUoKVsnZGlzcGxheSddO1xuICAgIGlmIChjb21wdXRlZERpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgaWYgKCFVdGlscy5pc0RlZmluZWQoZGlzcGxheVZhbHVlKSkge1xuICAgICAgICBkaXNwbGF5VmFsdWUgPSAoUHJpbWVFbGVtZW50LmJsb2NrRWxlbWVudFJlZ2V4cC50ZXN0KHRoaXMuZG9tRWxlbWVudC50YWdOYW1lKSkgPyAnYmxvY2snIDogJ2lubGluZSc7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZG9tRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheVZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgY2xhc3Mgb24gdGhpcyBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIFRoZSBjbGFzcyBuYW1lLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICB0b2dnbGVDbGFzcyhjbGFzc05hbWUpIHtcbiAgICBpZiAodGhpcy5oYXNDbGFzcyhjbGFzc05hbWUpKSB7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIHRoaXMgZWxlbWVudCBmcm9tIHRoZSBET00gd2hpbGUgcHJlc2VydmluZyB0aGUgaW5uZXIgSFRNTC5cbiAgICpcbiAgICogRXhhbXBsZSwgY2FsbCB1bndyYXAgb24gdGhlIGl0YWxpYyBlbGVtZW50OlxuICAgKiAgIDxzdHJvbmc+SGVsbG88L3N0cm9uZz48aXRhbGljPiBXb3JsZCA8L2l0YWxpYz4gLS0+IDxzdHJvbmc+SGVsbG88L3N0cm9uZz4gV29ybGRcbiAgICpcbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhpcyBFbGVtZW50LlxuICAgKi9cbiAgdW53cmFwKCkge1xuICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50KCkuZG9tRWxlbWVudDtcbiAgICB3aGlsZSAodGhpcy5kb21FbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5kb21FbGVtZW50LmZpcnN0Q2hpbGQsIHRoaXMuZG9tRWxlbWVudCk7XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVGcm9tRE9NKCk7XG4gIH1cblxuICAvKipcbiAgICogQnVpbGRzIGEgbmV3IGVsZW1lbnQgdXNpbmcgdGhlIGdpdmVuIEhUTUwgc25pcHBldCAoY3VycmVudGx5IHRoaXMgb25seSBzdXBwb3J0cyB0aGUgdGFnKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGVsZW1lbnRTdHJpbmcgVGhlIGVsZW1lbnQgc3RyaW5nLlxuICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIFRoZSBwcm9wZXJ0aWVzIGZvciB0aGUgbmV3IGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IEEgbmV3IFByaW1lRWxlbWVudC5cbiAgICovXG4gIHdyYXBJbm5lckhUTUwoZWxlbWVudFN0cmluZywgcHJvcGVydGllcykge1xuICAgIGNvbnN0IGVsZW1lbnQgPSBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoZWxlbWVudFN0cmluZywgcHJvcGVydGllcyk7XG4gICAgZWxlbWVudC5zZXRIVE1MKHRoaXMuZ2V0T3V0ZXJIVE1MKCkpO1xuICAgIHRoaXMuZG9tRWxlbWVudC5vdXRlckhUTUwgPSBlbGVtZW50LmRvbUVsZW1lbnQub3V0ZXJIVE1MO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIE1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkZWxlZ2F0ZWQgZXZlbnRzLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZURlbGVnYXRlZEV2ZW50KGV2ZW50KSB7XG4gICAgdGhpcy5fY2FsbE1hdGNoZWRMaXN0ZW5lcnMoZXZlbnQsIGV2ZW50LnRhcmdldCk7XG5cbiAgICAvLyBJZiB0aGUgZXZlbnQgY2Fubm90IGJ1YmJsZSwgd2UgYXJlIGRvbmUuXG4gICAgaWYgKCFldmVudC5idWJibGVzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2hpbGUgcHJvcGFnYXRpb24gaGFzIG5vdCBiZWVuIHN0b3BwZWQsIHdhbGsgdXAgdGhlIHRyZWUgdG8gc2ltdWxhdGUgdGhlIGJ1YmJsZVxuICAgIGxldCBkb21FbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBpZiAoZG9tRWxlbWVudCA9PT0gdGhpcy5kb21FbGVtZW50IHx8IGRvbUVsZW1lbnQgPT09IGRvY3VtZW50IHx8IGV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgdGhpcy5fY2FsbE1hdGNoZWRMaXN0ZW5lcnMoZXZlbnQsIGRvbUVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIF9jYWxsTWF0Y2hlZExpc3RlbmVycyhldmVudCwgdGFyZ2V0KSB7XG4gICAgLy8gVGVzdCBlYWNoIHNlbGVjdG9yIHdlIGhhdmUgYWdhaW5zdCB0aGlzIHRhcmdldFxuICAgIGxldCBkZWxlZ2F0ZWRMaXN0ZW5lcnMgPSB0aGlzLmRvbUVsZW1lbnQuZGVsZWdhdGVkTGlzdGVuZXJzW2V2ZW50LnR5cGVdIHx8IFtdO1xuICAgIGZvciAobGV0IHNlbGVjdG9yIGluIGRlbGVnYXRlZExpc3RlbmVycykge1xuICAgICAgaWYgKGRlbGVnYXRlZExpc3RlbmVycy5oYXNPd25Qcm9wZXJ0eShzZWxlY3RvcikpIHtcbiAgICAgICAgaWYgKHRhcmdldC5tYXRjaGVzKHNlbGVjdG9yKSkge1xuXG4gICAgICAgICAgbGV0IHNjb3BlZExpc3RlbmVycyA9IGRlbGVnYXRlZExpc3RlbmVyc1tzZWxlY3Rvcl07XG4gICAgICAgICAgLy8gQ2FsbCBlYWNoIGxpc3RlbmVyIHVubGVzcyBpbW1lZGlhdGUgcHJvcGFnYXRpb24gaGFzIGJlZW4gc3RvcHBlZFxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2NvcGVkTGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGlmIChldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlZExpc3RlbmVyc1tpXShldmVudCwgdGFyZ2V0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXIgcHJveHkgZnJvbSB0aGlzIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2ludGVybmFsUmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoZXZlbnQuaW5kZXhPZignOicpID09PSAtMSkge1xuICAgICAgLy8gVHJhZGl0aW9uYWwgZXZlbnRcbiAgICAgIGlmICh0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICB0aGlzLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5kb21FbGVtZW50LmRldGFjaEV2ZW50KSB7XG4gICAgICAgIHRoaXMuZG9tRWxlbWVudC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZSB0byByZW1vdmUgZXZlbnQgZnJvbSB0aGUgZWxlbWVudC4gTmVpdGhlciByZW1vdmVFdmVudExpc3RlbmVyIG5vciBkZXRhY2hFdmVudCBtZXRob2RzIGFyZSBhdmFpbGFibGUnKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVycyAmJiB0aGlzLmRvbUVsZW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdKSB7XG4gICAgICAvLyBDdXN0b20gZXZlbnRcbiAgICAgIGNvbnN0IGN1c3RvbUxpc3RlbmVycyA9IHRoaXMuZG9tRWxlbWVudC5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF07XG4gICAgICBVdGlscy5yZW1vdmVGcm9tQXJyYXkoY3VzdG9tTGlzdGVuZXJzLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG59XG5cblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogUG9seWZpbGxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4oZnVuY3Rpb24oKSB7XG4gIGlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPSBmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgY29uc3QgZG9tRWxlbWVudCA9IHRoaXM7XG4gICAgICBjb25zdCBtYXRjaGVzID0gKGRvbUVsZW1lbnQucGFyZW50Tm9kZSB8fCBkb21FbGVtZW50LmRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcbiAgICAgIGxldCBpID0gMDtcblxuICAgICAgd2hpbGUgKG1hdGNoZXNbaV0gJiYgbWF0Y2hlc1tpXSAhPT0gZG9tRWxlbWVudCkge1xuICAgICAgICBpKys7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAhIW1hdGNoZXNbaV07XG4gICAgfTtcbiAgfVxuXG4gIC8vIEFkZCBpc1Byb3BhZ2F0aW9uU3RvcHBlZCwgdGhpcyBpcyBwYXJ0IG9mIHRoZSBET00gTGV2ZWwgMyBzcGVjIGZvciBDdXN0b21FdmVudHNcbiAgLy8gLSBhZGRpbmcgaXQgaGVyZSBmb3IgYWxsIHR5cGVzIHNvIGl0IGNhbiBiZSB1c2VkIGJ5IHRoZSBkZWxlZ2F0aW9uIGV2ZW50IGxpc3RlbmVyXG4gIC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL05PVEUtRE9NLUxldmVsLTMtRXZlbnRzLTIwMDMxMTA3L2V2ZW50cy5odG1sI0V2ZW50cy1FdmVudC1pc1Byb3BhZ2F0aW9uU3RvcHBlZFxuICBpZiAoIUV2ZW50LnByb3RvdHlwZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCkge1xuICAgIGxldCBfc3RvcFByb3BhZ2F0aW9uID0gRXZlbnQucHJvdG90eXBlLnN0b3BQcm9wYWdhdGlvbjtcbiAgICBFdmVudC5wcm90b3R5cGUuc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcbiAgICAgIF9zdG9wUHJvcGFnYXRpb24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICAvLyBBZGQgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQsIHRoaXMgaXMgcGFydCBvZiB0aGUgRE9NIExldmVsIDMgc3BlYyBmb3IgQ3VzdG9tRXZlbnRzXG4gIC8vIC0gYWRkaW5nIGl0IGhlcmUgZm9yIGFsbCB0eXBlcyBzbyBpdCBjYW4gYmUgdXNlZCBieSB0aGUgZGVsZWdhdGlvbiBldmVudCBsaXN0ZW5lclxuICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvMjAwMy9OT1RFLURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMTEwNy9ldmVudHMuaHRtbCNFdmVudHMtRXZlbnQtaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWRcbiAgaWYgKCFFdmVudC5wcm90b3R5cGUuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpIHtcbiAgICBsZXQgX3N0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IEV2ZW50LnByb3RvdHlwZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XG4gICAgRXZlbnQucHJvdG90eXBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XG4gICAgICBfc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfVxuICB9XG59KSgpO1xuXG5leHBvcnQge1ByaW1lRWxlbWVudH07XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtQcmltZUVsZW1lbnR9IGZyb20gXCIuL1ByaW1lRWxlbWVudC5qc1wiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4uL1V0aWxzLmpzXCI7XG5cbmNsYXNzIFByaW1lRWxlbWVudExpc3Qge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhbiBQcmltZUVsZW1lbnRMaXN0IG9iamVjdCB1c2luZyB0aGUgZ2l2ZW4gYXJyYXkgY29udGFpbmluZyBET01FbGVtZW50cyBvciBQcmltZUVsZW1lbnQgb2JqZWN0cywgb3IgdGhlIE5vZGVMaXN0IGNvbnRhaW5pbmcgTm9kZSBvYmplY3RzLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtBcnJheXxOb2RlTGlzdH0gZWxlbWVudHMgQW4gYXJyYXkgY29udGFpbmluZyBET01FbGVtZW50IG9yIFByaW1lRWxlbWVudCBvYmplY3RzLCBvciBhIE5vZGVMaXN0IGNvbnRhaW5pbmcgTm9kZSBvYmplY3RzLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudHMpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgLy8gTm9kZUxpc3QgZG9lcyBub3QgaW5oZXJpdCBmcm9tIEFycmF5IHNvIGRvIG5vdCBhc3N1bWUgb2JqZWN0IHR5cGUuXG4gICAgdGhpcy5sZW5ndGggPSBlbGVtZW50cy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKGVsZW1lbnRzW2ldIGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSB7XG4gICAgICAgIHRoaXNbaV0gPSBlbGVtZW50c1tpXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbaV0gPSBuZXcgUHJpbWVFbGVtZW50KGVsZW1lbnRzW2ldKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2hvcnRoYW5kIGZvciBjYWxsaW5nIHtAbGluayBQcmltZUVsZW1lbnQuYWRkQ2xhc3N9IG9uIGVhY2ggRWxlbWVudCBpbiB0aGUgUHJpbWVFbGVtZW50TGlzdC5cbiAgICpcbiAgICogQWRkcyB0aGUgZ2l2ZW4gY2xhc3MgKG9yIGxpc3Qgb2Ygc3BhY2Ugc2VwYXJhdGVkIGNsYXNzZXMpIHRvIGFsbCBFbGVtZW50cyBpbiB0aGlzIFByaW1lRWxlbWVudExpc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVzIFRoZSBjbGFzcyBuYW1lKHMpIHNlcGFyYXRlZCBieSBhIHNwYWNlLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50TGlzdH0gVGhpcyBQcmltZUVsZW1lbnRMaXN0LlxuICAgKi9cbiAgYWRkQ2xhc3MoY2xhc3NOYW1lcykge1xuICAgIHJldHVybiB0aGlzLl9wcm94eVRvRWxlbWVudCgnYWRkQ2xhc3MnLCBjbGFzc05hbWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG9ydGhhbmQgZm9yIGNhbGxpbmcge0BsaW5rIFByaW1lRWxlbWVudC5hZGRFdmVudExpc3RlbmVyfSBvbiBlYWNoIEVsZW1lbnQgaW4gdGhlIFByaW1lRWxlbWVudExpc3QuXG4gICAqXG4gICAqIEF0dGFjaGVzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGFsbCBFbGVtZW50cyBpbiB0aGlzIFByaW1lRWxlbWVudExpc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudHxQcmltZUVsZW1lbnRMaXN0fSBUaGlzIEVsZW1lbnQuXG4gICAqL1xuICBhZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIHJldHVybiB0aGlzLl9wcm94eVRvRWxlbWVudCgnYWRkRXZlbnRMaXN0ZW5lcicsIGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBlYWNoIG9mIHRoZSBQcmltZUVsZW1lbnQgb2JqZWN0cyBpbiB0aGlzIFByaW1lRWxlbWVudExpc3QgYW5kIGNhbGxzIHRoZSBnaXZlbiBmdW5jdGlvbiBmb3IgZWFjaCBvbmUuXG4gICAqIFRoZSA8Y29kZT50aGlzPC9jb2RlPiB2YXJpYWJsZSBpbnNpZGUgdGhlIGZ1bmN0aW9uIHdpbGwgYmUgbWFuYWdlZCBieSB0aGUgY2FsbGVyIG9mIHRoaXMgbWV0aG9kLiBZb3Ugc2hvdWxkIHVzZSB0aGVcbiAgICogPGNvZGU+YmluZDwvY29kZT4gbWV0aG9kIG9uIHRoZSBGdW5jdGlvbiBvYmplY3QgaWYgeW91IHdhbnQgdG8gbWFuYWdlIHRoZSA8Y29kZT50aGlzPC9jb2RlPiByZWZlcmVuY2UuXG4gICAqXG4gICAqIFRoZSBmdW5jdGlvbiBjYW4gb3B0aW9uYWxseSB0YWtlIHR3byBwYXJhbWV0ZXJzLiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAqIGlzIHRoZSBjdXJyZW50IGluZGV4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRpb25GdW5jdGlvbiBUaGUgZnVuY3Rpb24gdG8gY2FsbC5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudExpc3R9IFRoaXMgUHJpbWVFbGVtZW50TGlzdC5cbiAgICovXG4gIGVhY2goaXRlcmF0aW9uRnVuY3Rpb24pIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGl0ZXJhdGlvbkZ1bmN0aW9uKHRoaXNbaV0sIGkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3J0aGFuZCBmb3IgY2FsbGluZyB7QGxpbmsgUHJpbWVFbGVtZW50LmhpZGV9IG9uIGVhY2ggRWxlbWVudCBpbiB0aGUgUHJpbWVFbGVtZW50TGlzdC5cbiAgICpcbiAgICogSGlkZXMgdGhlIEVsZW1lbnQgYnkgc2V0dGluZyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50TGlzdH0gVGhpcyBQcmltZUVsZW1lbnRMaXN0LlxuICAgKi9cbiAgaGlkZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJveHlUb0VsZW1lbnQoJ2hpZGUnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbmRleE9mIHRoZSBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgcGFyYW1ldGVyLCBlaXRoZXIgUHJpbWUgRWxlbWVudCBvciBET01FbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGxvb2sgZm9yXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBwb3NpdGlvbiBvZiB0aGUgZWxlbWVudCBpbiB0aGUgbGlzdCwgb3IgLTEgaWYgbm90IHByZXNlbnQuXG4gICAqL1xuICBpbmRleE9mKGVsZW1lbnQpIHtcbiAgICBjb25zdCBkb21FbGVtZW50ID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpID8gZWxlbWVudC5kb21FbGVtZW50IDogZWxlbWVudDtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXNbaV0uZG9tRWxlbWVudCA9PT0gZG9tRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgdGhlIG1hdGNoZWQgZWxlbWVudHMgaW4gdGhlIFByaW1lRWxlbWVudExpc3QgZnJvbSB0aGUgRE9NLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50TGlzdH0gVGhpcyBQcmltZUVsZW1lbnRMaXN0LlxuICAgKi9cbiAgcmVtb3ZlQWxsRnJvbURPTSgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXNbaV0ucmVtb3ZlRnJvbURPTSgpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3J0aGFuZCBmb3IgY2FsbGluZyB7QGxpbmsgUHJpbWVFbGVtZW50LnJlbW92ZUNsYXNzfSBvbiBlYWNoIEVsZW1lbnQgaW4gdGhlIFByaW1lRWxlbWVudExpc3QuXG4gICAqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGNsYXNzIChvciBsaXN0IG9mIHNwYWNlIHNlcGFyYXRlZCBjbGFzc2VzKSBmcm9tIGFsbCBFbGVtZW50cyBpbiB0aGlzIFByaW1lRWxlbWVudExpc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWVzIFRoZSBjbGFzcyBuYW1lKHMpIHNlcGFyYXRlZCBieSBhIHNwYWNlLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50TGlzdH0gVGhpcyBQcmltZUVsZW1lbnRMaXN0LlxuICAgKi9cbiAgcmVtb3ZlQ2xhc3MoY2xhc3NOYW1lcykge1xuICAgIHJldHVybiB0aGlzLl9wcm94eVRvRWxlbWVudCgncmVtb3ZlQ2xhc3MnLCBjbGFzc05hbWVzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTaG9ydGhhbmQgZm9yIGNhbGxpbmcge0BsaW5rIFByaW1lRWxlbWVudC5zZXRDaGVja2VkfSBvbiBlYWNoIEVsZW1lbnQgaW4gdGhlIFByaW1lRWxlbWVudExpc3QuXG4gICAqXG4gICAqIElmIHRoaXMgZWxlbWVudCBpcyBhIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbiwgdGhpcyBzZXRzIHRoZSBjaGVja2VkIGZpZWxkIG9uIHRoZSBET00gb2JqZWN0IGVxdWFsIHRvIHRoZSBnaXZlblxuICAgKiB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0IHRoZSBjaGVja2VkIHN0YXRlIG9mIHRoaXMgZWxlbWVudCB0by5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudExpc3R9IFRoaXMgUHJpbWVFbGVtZW50TGlzdC5cbiAgICovXG4gIHNldENoZWNrZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJveHlUb0VsZW1lbnQoJ3NldENoZWNrZWQnLCB2YWx1ZSk7XG4gIH1cblxuICAvKipcbiAgICogU2hvcnRoYW5kIGZvciBjYWxsaW5nIHtAbGluayBQcmltZUVsZW1lbnQuc2V0RGlzYWJsZWR9IG9uIGVhY2ggRWxlbWVudCBpbiB0aGUgUHJpbWVFbGVtZW50TGlzdC5cbiAgICpcbiAgICogU2V0cyBpZiB0aGlzIGVsZW1lbnQgaXMgZGlzYWJsZWQgb3Igbm90LiBUaGlzIHdvcmtzIHdpdGggYW55IGVsZW1lbnQgdGhhdCByZXNwb25kcyB0byB0aGUgZGlzYWJsZWQgcHJvcGVydHkuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldCB0aGUgZGlzYWJsZWQgc3RhdGUgb2YgdGhpcyBlbGVtZW50IHRvLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50TGlzdH0gVGhpcyBQcmltZUVsZW1lbnRMaXN0LlxuICAgKi9cbiAgc2V0RGlzYWJsZWQodmFsdWUpIHtcbiAgICByZXR1cm4gdGhpcy5fcHJveHlUb0VsZW1lbnQoJ3NldERpc2FibGVkJywgdmFsdWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3J0aGFuZCBmb3IgY2FsbGluZyB7QGxpbmsgUHJpbWVFbGVtZW50LnNob3d9IG9uIGVhY2ggRWxlbWVudCBpbiB0aGUgUHJpbWVFbGVtZW50TGlzdC5cbiAgICpcbiAgICogU2hvd3MgdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnRMaXN0fSBUaGlzIFByaW1lRWxlbWVudExpc3QuXG4gICAqL1xuICBzaG93KCkge1xuICAgIHJldHVybiB0aGlzLl9wcm94eVRvRWxlbWVudCgnc2hvdycpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBjYWxsYmFjayBQcmltZUVsZW1lbnRMaXN0UHJlZGljYXRlXG4gICAqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCBkZWZpbmVzIGEgY29uZGl0aW9uIG9uIGEgUHJpbWVFbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSBlbGVtZW50XG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBlbGVtZW50IG1hdGNoZXMgYSBjb25kaXRpb25cbiAgICovXG5cbiAgLyoqXG4gICAqIEEgZnVuY3Rpb24gdGhhdCB0ZXN0cyBmb3IgYW55IGVsZW1lbnQgdGhhdCBtYXRjaGVzIGEgY29uZGl0aW9uLlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudExpc3RQcmVkaWNhdGV9IHByZWRpY2F0ZSBBIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyB0aGUgY29uZGl0aW9uIHRvIGNoZWNrXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGFueSBlbGVtZW50IG1hdGNoZXMgdGhlIHByZWRpY2F0ZVxuICAgKi9cbiAgc29tZShwcmVkaWNhdGUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUodGhpc1tpXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBQcm94eSBmdW5jdGlvbiBjYWxscyB0byBlYWNoIEVsZW1lbnQgaW4gdGhlIFByaW1lRWxlbWVudExpc3QuXG4gICAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgZnVuY3Rpb24gbmFtZSwgZm9sbG93ZWQgYnkgYSB2YXJpYWJsZSBsZW5ndGggb2YgYXJndW1lbnRzLlxuICAgKlxuICAgKiBFeGFtcGxlIHVzYWdlOiB0aGlzLl9wcm94eVRvRWxlbWVudCgnYWRkQ2xhc3MnLCBjbGFzc05hbWVzKTtcbiAgICpcbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudExpc3R9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcHJveHlUb0VsZW1lbnQoKSB7XG4gICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpc1tpXVthcmdzWzBdXS5hcHBseSh0aGlzW2ldLCBhcmdzLnNsaWNlKDEpKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuZXhwb3J0IHtQcmltZUVsZW1lbnRMaXN0fVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDE4LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtQcmltZUVsZW1lbnRMaXN0fSBmcm9tIFwiLi9Eb2N1bWVudC9QcmltZUVsZW1lbnRMaXN0LmpzXCI7XG5pbXBvcnQge1ByaW1lRWxlbWVudH0gZnJvbSBcIi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi9VdGlscy5qc1wiO1xuXG5jb25zdCByZWFkeUZ1bmN0aW9ucyA9IFtdO1xuY29uc3QgdGFnUmVnZXhwID0gL148KFxcdyspXFxzKlxcLz8+LiooPzo8XFwvXFwxPik/JC87XG5cbi8qKlxuICogVGhlIEJvZHkgZWxlbWVudCBhcyBhIFByaW1lRWxlbWVudCBvYmplY3QuXG4gKlxuICogQHR5cGUgez9QcmltZUVsZW1lbnR9XG4gKi9cbmxldCBib2R5RWxlbWVudCA9IG51bGw7XG5cbmNsYXNzIFByaW1lRG9jdW1lbnQge1xuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fVxuICAgKi9cbiAgc3RhdGljIGdldCBFbGVtZW50KCkge1xuICAgIHJldHVybiBQcmltZUVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudExpc3R9XG4gICAqL1xuICBzdGF0aWMgZ2V0IEVsZW1lbnRMaXN0KCkge1xuICAgIHJldHVybiBQcmltZUVsZW1lbnRMaXN0O1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtBcnJheTxGdW5jdGlvbj59XG4gICAqL1xuICBzdGF0aWMgZ2V0IHJlYWR5RnVuY3Rpb25zKCkge1xuICAgIHJldHVybiByZWFkeUZ1bmN0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UmVnRXhwfVxuICAgKi9cbiAgc3RhdGljIGdldCB0YWdSZWdleHAoKSB7XG4gICAgcmV0dXJuIHRhZ1JlZ2V4cDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7P1ByaW1lRWxlbWVudH0gdGhlIFByaW1lIGJvZHkgZWxlbWVudFxuICAgKi9cbiAgc3RhdGljIGdldCBib2R5RWxlbWVudCgpIHtcbiAgICBpZiAoYm9keUVsZW1lbnQgPT09IG51bGwpIHtcbiAgICAgIGJvZHlFbGVtZW50ID0gbmV3IFByaW1lRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICB9XG4gICAgcmV0dXJuIGJvZHlFbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgYm9keSBlbGVtZW50XG4gICAqIEBwYXJhbSB7P1ByaW1lRWxlbWVudH0gYm9keSB0aGUgUHJpbWUgYm9keSBlbGVtZW50XG4gICAqL1xuICBzdGF0aWMgc2V0IGJvZHlFbGVtZW50KGJvZHkpIHtcbiAgICBib2R5RWxlbWVudCA9IGJvZHk7XG4gIH1cblxuICAvKipcbiAgICogQXR0YWNoZXMgYW4gZXZlbnQgbGlzdGVuZXIgdG8gdGhlIGRvY3VtZW50IGJvZHkgYW5kIHdpbGwgb25seSBpbnZva2UgdGhlIGxpc3RlbmVyIHdoZW4gdGhlIGV2ZW50IHRhcmdldCBtYXRjaGVzXG4gICAqIHRoZSBwcm92aWRlZCBzZWxlY3Rvci5cbiAgICpcbiAgICogVGhlIGludGVudCBvZiB0aGlzIGZ1bmN0aW9uIGlzIHRvIHByb3ZpZGUgYSBkZWxlZ2F0ZWQgbGlzdGVuZXIgYW5kIGhhbmRsZSBldmVudHMgZnJvbSBuZXN0ZWQgZWxlbWVudHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICogQHBhcmFtICB7c3RyaW5nfSBzZWxlY3RvciBUaGUgc2VsZWN0b3IgdG8gbWF0Y2ggYWdhaW5zdCB0aGUgRWxlbWVudFxuICAgKiBAcGFyYW0ge1ByaW1lRGVsZWdhdGlvbkV2ZW50TGlzdGVuZXJ9IGxpc3RlbmVyIFRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvblxuICAgKi9cbiAgc3RhdGljIGFkZERlbGVnYXRlZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHNlbGVjdG9yLCBsaXN0ZW5lcikge1xuICAgIFByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQuYWRkRGVsZWdhdGVkRXZlbnRMaXN0ZW5lcihldmVudCwgc2VsZWN0b3IsIGxpc3RlbmVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2hlcyBhbiBldmVudCBsaXN0ZW5lciB0byB0aGUgZG9jdW1lbnQsIHJldHVybmluZyB0aGUgaGFuZGxlciBwcm94eS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJpbWVEb2N1bWVudH0gVGhlIFByaW1lRG9jdW1lbnQgb2JqZWN0IHNvIHlvdSBjYW4gY2hhaW4gbWV0aG9kIGNhbGxzIHRvZ2V0aGVyLlxuICAgKi9cbiAgc3RhdGljIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGV2ZW50LmluZGV4T2YoJzonKSA9PT0gLTEpIHtcbiAgICAgIC8vIFRyYWRpdGlvbmFsIGV2ZW50XG4gICAgICBkb2N1bWVudC5ldmVudExpc3RlbmVycyA9IGRvY3VtZW50LmV2ZW50TGlzdGVuZXJzIHx8IHt9O1xuICAgICAgZG9jdW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdID0gZG9jdW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgZG9jdW1lbnQuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdLnB1c2gobGlzdGVuZXIpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3VzdG9tIGV2ZW50XG4gICAgICBkb2N1bWVudC5jdXN0b21FdmVudExpc3RlbmVycyA9IGRvY3VtZW50LmN1c3RvbUV2ZW50TGlzdGVuZXJzIHx8IHt9O1xuICAgICAgZG9jdW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdID0gZG9jdW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgZG9jdW1lbnQuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHJldHVybiBQcmltZURvY3VtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGhlaWdodCBvZiB0aGUgZG9jdW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBoZWlnaHQgb2YgdGhlIGRvY3VtZW50IGluIHBpeGVscy5cbiAgICovXG4gIHN0YXRpYyBnZXRIZWlnaHQoKSB7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgY29uc3QgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIHJldHVybiBNYXRoLm1heChib2R5LnNjcm9sbEhlaWdodCwgYm9keS5vZmZzZXRIZWlnaHQsIGh0bWwuY2xpZW50SGVpZ2h0LCBodG1sLnNjcm9sbEhlaWdodCwgaHRtbC5vZmZzZXRIZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHdpZHRoIG9mIHRoZSBkb2N1bWVudC5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHdpZHRoIG9mIHRoZSBkb2N1bWVudCBpbiBwaXhlbHMuXG4gICAqL1xuICBzdGF0aWMgZ2V0V2lkdGgoKSB7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgY29uc3QgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblxuICAgIHJldHVybiBNYXRoLm1heChib2R5LnNjcm9sbFdpZHRoLCBib2R5Lm9mZnNldFdpZHRoLCBodG1sLmNsaWVudFdpZHRoLCBodG1sLnNjcm9sbFdpZHRoLCBodG1sLm9mZnNldFdpZHRoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgYSBuZXcgZG9jdW1lbnQgdXNpbmcgdGhlIGdpdmVuIEhUTUwgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkb2N1bWVudFN0cmluZyBUaGUgSFRNTCBzdHJpbmcgdG8gYnVpbGQgdGhlIGRvY3VtZW50LlxuICAgKiBAcmV0dXJucyB7RG9jdW1lbnR9IEEgbmV3IGRvY3VtZW50LlxuICAgKi9cbiAgc3RhdGljIG5ld0RvY3VtZW50KGRvY3VtZW50U3RyaW5nKSB7XG4gICAgcmV0dXJuIG5ldyBET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZG9jdW1lbnRTdHJpbmcsIFwidGV4dC9odG1sXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhIG5ldyBlbGVtZW50IHVzaW5nIHRoZSBnaXZlbiBIVE1MIHNuaXBwZXQgKGN1cnJlbnRseSB0aGlzIG9ubHkgc3VwcG9ydHMgdGhlIHRhZykuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBlbGVtZW50U3RyaW5nIFRoZSBlbGVtZW50IHN0cmluZy5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSBUaGUgcHJvcGVydGllcyBmb3IgdGhlIG5ldyBlbGVtZW50LlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBBIG5ldyBQcmltZUVsZW1lbnQuXG4gICAqL1xuICBzdGF0aWMgbmV3RWxlbWVudChlbGVtZW50U3RyaW5nLCBwcm9wZXJ0aWVzKSB7XG4gICAgcHJvcGVydGllcyA9IFV0aWxzLmlzRGVmaW5lZChwcm9wZXJ0aWVzKSA/IHByb3BlcnRpZXMgOiB7fTtcbiAgICBjb25zdCByZXN1bHQgPSBQcmltZURvY3VtZW50LnRhZ1JlZ2V4cC5leGVjKGVsZW1lbnRTdHJpbmcpO1xuICAgIGlmIChyZXN1bHQgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgc3RyaW5nIHRvIGNyZWF0ZSBhIG5ldyBlbGVtZW50IFsnICsgZWxlbWVudFN0cmluZyArICddLiBJdCBzaG91bGQgbG9vayBsaWtlIDxhLz4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50ID0gbmV3IFByaW1lRWxlbWVudChkb2N1bWVudC5jcmVhdGVFbGVtZW50KHJlc3VsdFsxXSkpO1xuICAgIGZvciAobGV0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICBpZiAocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdpZCcpIHtcbiAgICAgICAgICBlbGVtZW50LnNldElkKHByb3BlcnRpZXNba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBwcm9wZXJ0aWVzW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gY2FsbGJhY2sgZnVuY3Rpb24gdG8gdGhlIGxpc3Qgb2YgZnVuY3Rpb25zIHRvIGludm9rZSB3aGVuIHRoZSBkb2N1bWVudCBpcyByZWFkeS4gSWYgdGhlIGRvY3VtZW50IGlzXG4gICAqIGFscmVhZHkgZnVsbHkgbG9hZGVkLCB0aGlzIHNpbXBseSBpbnZva2VzIHRoZSBjYWxsYmFjayBkaXJlY3RseS5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKi9cbiAgc3RhdGljIG9uUmVhZHkoY2FsbGJhY2spIHtcbiAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgcmVnaXN0ZXIgdGhlIGV2ZW50IGxpc3RlbmVyIG9uIHRoZSBkb2N1bWVudFxuICAgICAgaWYgKHRoaXMucmVhZHlGdW5jdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIFByaW1lRG9jdW1lbnQuX2NhbGxSZWFkeUxpc3RlbmVycywgZmFsc2UpO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgICAgZG9jdW1lbnQuYXR0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIFByaW1lRG9jdW1lbnQuX2NhbGxSZWFkeUxpc3RlbmVycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gd2F5IHRvIGF0dGFjaCBhbiBldmVudCB0byB0aGUgZG9jdW1lbnQuIFdoYXQgYnJvd3NlciBhcmUgeW91IHJ1bm5pbmc/Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHRoZSBjYWxsYmFja1xuICAgICAgUHJpbWVEb2N1bWVudC5yZWFkeUZ1bmN0aW9ucy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVGFrZSB0aGUgSFRNTCBzdHJpbmcgYW5kIGFwcGVuZCBpdCB0byB0aGUgYm9keS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGh0bWwgVGhlIEhUTUwgdG8gYXBwZW5kXG4gICAqL1xuICBzdGF0aWMgYXBwZW5kSFRNTChodG1sKSB7XG4gICAgZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGh0bWwpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmVzIHRoZSBnaXZlbiBlbGVtZW50IGJ5IGFwcGVuZGluZyBpdCB0byB0aGUgZWxlbWVudCBwcm92aWRlZCBieSB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8UHJpbWVFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIG1vdmUuXG4gICAqIEBwYXJhbSB7RWxlbWVudHxQcmltZUVsZW1lbnR9IGFwcGVuZFRvRWxlbWVudCBbYXBwZW5kVG9FbGVtZW50PWJvZHldIFRoZSBlbGVtZW50IHRvIGFwcGVuZCB0bywgZGVmYXVsdHMgdG8gdGhlIGJvZHkgaWYgbm90IHByb3ZpZGVkLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGUgZWxlbWVudCB0aGF0IGhhcyBiZWVuIG1vdmVkLlxuICAgKi9cbiAgc3RhdGljIG1vdmUoZWxlbWVudCwgYXBwZW5kVG9FbGVtZW50KSB7XG4gICAgZWxlbWVudCA9IChlbGVtZW50IGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSA/IGVsZW1lbnQgOiBuZXcgUHJpbWVFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQoYXBwZW5kVG9FbGVtZW50KSkge1xuICAgICAgYXBwZW5kVG9FbGVtZW50ID0gbmV3IFByaW1lRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwZW5kVG9FbGVtZW50ID0gKGFwcGVuZFRvRWxlbWVudCBpbnN0YW5jZW9mIFByaW1lRWxlbWVudCkgPyBhcHBlbmRUb0VsZW1lbnQgOiBuZXcgUHJpbWVFbGVtZW50KGFwcGVuZFRvRWxlbWVudCk7XG4gICAgfVxuXG4gICAgYXBwZW5kVG9FbGVtZW50LmFwcGVuZEhUTUwoZWxlbWVudC5nZXRPdXRlckhUTUwoKSk7XG4gICAgZWxlbWVudC5yZW1vdmVGcm9tRE9NKCk7XG4gICAgcmV0dXJuIGFwcGVuZFRvRWxlbWVudC5nZXRMYXN0Q2hpbGQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWVyaWVzIHRoZSBET00gdXNpbmcgdGhlIGdpdmVuIHNlbGVjdG9yIHN0YXJ0aW5nIGF0IHRoZSBnaXZlbiBlbGVtZW50IGFuZCByZXR1cm5zIGFsbCB0aGUgbWF0Y2hlZCBlbGVtZW50cy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlbGVjdG9yIFRoZSBzZWxlY3Rvci5cbiAgICogQHBhcmFtIHtFbGVtZW50fERvY3VtZW50fFByaW1lRWxlbWVudH0gW2VsZW1lbnQ9ZG9jdW1lbnRdIFRoZSBzdGFydGluZyBwb2ludCBmb3IgdGhlIHNlYXJjaCAoZGVmYXVsdHMgdG8gZG9jdW1lbnQgaWYgbm90IHByb3ZpZGVkKS5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudExpc3R9IEFuIGVsZW1lbnQgbGlzdC5cbiAgICovXG4gIHN0YXRpYyBxdWVyeShzZWxlY3RvciwgZWxlbWVudCkge1xuICAgIGxldCBkb21FbGVtZW50ID0gbnVsbDtcbiAgICBpZiAoIVV0aWxzLmlzRGVmaW5lZChlbGVtZW50KSkge1xuICAgICAgZG9tRWxlbWVudCA9IGRvY3VtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBkb21FbGVtZW50ID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpID8gZWxlbWVudC5kb21FbGVtZW50IDogZWxlbWVudDtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50cyA9IGRvbUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgcmV0dXJuIG5ldyBQcmltZUVsZW1lbnRMaXN0KGVsZW1lbnRzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBRdWVyaWVzIHRoZSBET00gZm9yIGFuIGVsZW1lbnQgdGhhdCBoYXMgdGhlIGdpdmVuIElELlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgVGhlIElELlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGUgZWxlbWVudCBvciBudWxsLlxuICAgKi9cbiAgc3RhdGljIHF1ZXJ5QnlJZChpZCkge1xuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcmltZUVsZW1lbnQoZWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogUXVlcmllcyB0aGUgRE9NIHVzaW5nIHRoZSBnaXZlbiBzZWxlY3RvciBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgcmV0dXJucyB0aGUgZmlyc3QgbWF0Y2hlZCBlbGVtZW50XG4gICAqIG9yIG51bGwgaWYgdGhlcmUgYXJlbid0IGFueSBtYXRjaGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc2VsZWN0b3IgVGhlIHNlbGVjdG9yLlxuICAgKiBAcGFyYW0ge0VsZW1lbnR8RG9jdW1lbnR8UHJpbWVFbGVtZW50fSBbZWxlbWVudD1kb2N1bWVudF0gVGhlIHN0YXJ0aW5nIHBvaW50IGZvciB0aGUgc2VhcmNoIChkZWZhdWx0cyB0byBkb2N1bWVudCBpZiBub3QgcHJvdmlkZWQpLlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBBbiBlbGVtZW50IG9yIG51bGwuXG4gICAqL1xuICBzdGF0aWMgcXVlcnlGaXJzdChzZWxlY3RvciwgZWxlbWVudCkge1xuICAgIGxldCBkb21FbGVtZW50ID0gbnVsbDtcbiAgICBpZiAoIVV0aWxzLmlzRGVmaW5lZChlbGVtZW50KSkge1xuICAgICAgZG9tRWxlbWVudCA9IGRvY3VtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBkb21FbGVtZW50ID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpID8gZWxlbWVudC5kb21FbGVtZW50IDogZWxlbWVudDtcbiAgICB9XG5cbiAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBpZiAoZG9tRWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcmltZUVsZW1lbnQoZG9tRWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogUXVlcmllcyB0aGUgRE9NIHVzaW5nIHRoZSBnaXZlbiBzZWxlY3RvciBzdGFydGluZyBhdCB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgcmV0dXJucyB0aGUgbGFzdCBtYXRjaGVkIGVsZW1lbnRcbiAgICogb3IgbnVsbCBpZiB0aGVyZSBhcmVuJ3QgYW55IG1hdGNoZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBUaGUgc2VsZWN0b3IuXG4gICAqIEBwYXJhbSB7RWxlbWVudHxEb2N1bWVudHxQcmltZUVsZW1lbnR9IFtlbGVtZW50PWRvY3VtZW50XSBUaGUgc3RhcnRpbmcgcG9pbnQgZm9yIHRoZSBzZWFyY2ggKGRlZmF1bHRzIHRvIGRvY3VtZW50IGlmIG5vdCBwcm92aWRlZCkuXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9IEFuIGVsZW1lbnQgb3IgbnVsbC5cbiAgICovXG4gIHN0YXRpYyBxdWVyeUxhc3Qoc2VsZWN0b3IsIGVsZW1lbnQpIHtcbiAgICBsZXQgZG9tRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQoZWxlbWVudCkpIHtcbiAgICAgIGRvbUVsZW1lbnQgPSBkb2N1bWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9tRWxlbWVudCA9IChlbGVtZW50IGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSA/IGVsZW1lbnQuZG9tRWxlbWVudCA6IGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgY29uc3QgZG9tRWxlbWVudHMgPSBkb21FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xuICAgIGlmIChkb21FbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJpbWVFbGVtZW50KGRvbUVsZW1lbnRzW2RvbUVsZW1lbnRzLmxlbmd0aCAtIDFdKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmF2ZXJzZXMgdXAgdGhlIERPTSBmcm9tIHRoZSBzdGFydGluZyBlbGVtZW50IGFuZCBsb29rcyBmb3IgYSBtYXRjaCB0byB0aGUgc2VsZWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvciBUaGUgc2VsZWN0b3IuXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR9IGVsZW1lbnQgVGhlIHN0YXJ0aW5nIHBvaW50IGZvciB0aGUgdXB3YXJkIHRyYXZlcnNhbC5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gQW4gZWxlbWVudCBvciBudWxsLlxuICAgKi9cbiAgc3RhdGljIHF1ZXJ5VXAoc2VsZWN0b3IsIGVsZW1lbnQpIHtcbiAgICBsZXQgZG9tRWxlbWVudCA9IG51bGw7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQoZWxlbWVudCkpIHtcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcignTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXIuIFRoZSBlbGVtZW50IGlzIHJlcXVpcmVkLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb21FbGVtZW50ID0gKGVsZW1lbnQgaW5zdGFuY2VvZiBQcmltZUVsZW1lbnQpID8gZWxlbWVudC5kb21FbGVtZW50IDogZWxlbWVudDtcbiAgICB9XG5cbiAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChkb21FbGVtZW50ICE9PSBudWxsICYmICFkb21FbGVtZW50Lm1hdGNoZXMoc2VsZWN0b3IpKSB7XG4gICAgICBkb21FbGVtZW50ID0gZG9tRWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgaWYgKGRvbUVsZW1lbnQgPT09IGRvY3VtZW50KSB7XG4gICAgICAgIGRvbUVsZW1lbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkb21FbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gbmV3IFByaW1lRWxlbWVudChkb21FbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIGV2ZW50IGhhbmRsZXIgZm9yIGEgc3BlY2lmaWMgZXZlbnQgZnJvbSB0aGUgZG9jdW1lbnQgdGhhdCB5b3UgYXR0YWNoZWQgdXNpbmcgYWRkRXZlbnRMaXN0ZW5lclxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgVGhlIG5hbWUgb2YgdGhlIGV2ZW50LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsaXN0ZW5lciBUaGUgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAqL1xuICBzdGF0aWMgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRldGFjaEV2ZW50KSB7XG4gICAgICBkb2N1bWVudC5kZXRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIHJlbW92ZSBldmVudCBmcm9tIHRoZSBlbGVtZW50LiBOZWl0aGVyIHJlbW92ZUV2ZW50TGlzdGVuZXIgbm9yIGRldGFjaEV2ZW50IG1ldGhvZHMgYXJlIGF2YWlsYWJsZScpO1xuICAgIH1cbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBNZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBDYWxscyBhbGwgdGhlIHJlZ2lzdGVyZWQgZG9jdW1lbnQgcmVhZHkgbGlzdGVuZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgc3RhdGljIF9jYWxsUmVhZHlMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgbGV0IHJlYWR5RnVuY3Rpb247XG4gICAgICB3aGlsZSAocmVhZHlGdW5jdGlvbiA9IFByaW1lRG9jdW1lbnQucmVhZHlGdW5jdGlvbnMuc2hpZnQoKSkge1xuICAgICAgICByZWFkeUZ1bmN0aW9uKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBQcmltZURvY3VtZW50Ll9jYWxsUmVhZHlMaXN0ZW5lcnMsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoJ29ucmVhZHlzdGF0ZWNoYW5nZScsIFByaW1lRG9jdW1lbnQuX2NhbGxSZWFkeUxpc3RlbmVycyk7XG4gICAgfVxuICB9XG59XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIFBvbHlmaWxsXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuLyogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0RPTVBhcnNlciAqL1xuKGZ1bmN0aW9uKERPTVBhcnNlcikge1xuICBjb25zdCBwcm90byA9IERPTVBhcnNlci5wcm90b3R5cGU7XG4gIGNvbnN0IG5hdGl2ZVBhcnNlID0gcHJvdG8ucGFyc2VGcm9tU3RyaW5nO1xuXG4gIC8vIEZpcmVmb3gvT3BlcmEvSUUgdGhyb3cgZXJyb3JzIG9uIHVuc3VwcG9ydGVkIHR5cGVzXG4gIHRyeSB7XG4gICAgLy8gV2ViS2l0IHJldHVybnMgbnVsbCBvbiB1bnN1cHBvcnRlZCB0eXBlc1xuICAgIGlmICgobmV3IERPTVBhcnNlcigpKS5wYXJzZUZyb21TdHJpbmcoJycsICd0ZXh0L2h0bWwnKSkge1xuICAgICAgLy8gdGV4dC9odG1sIHBhcnNpbmcgaXMgbmF0aXZlbHkgc3VwcG9ydGVkXG4gICAgICByZXR1cm47XG4gICAgfVxuICB9IGNhdGNoIChleCkge1xuICB9XG5cbiAgcHJvdG8ucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24obWFya3VwLCB0eXBlKSB7XG4gICAgaWYgKC9eXFxzKnRleHRcXC9odG1sXFxzKig/Ojt8JCkvaS50ZXN0KHR5cGUpKSB7XG4gICAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoJycpO1xuICAgICAgaWYgKG1hcmt1cC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJzwhZG9jdHlwZScpID4gLTEpIHtcbiAgICAgICAgZG9jLmRvY3VtZW50RWxlbWVudC5pbm5lckhUTUwgPSBtYXJrdXA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2MuYm9keS5pbm5lckhUTUwgPSBtYXJrdXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmF0aXZlUGFyc2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH07XG59KERPTVBhcnNlcikpO1xuXG5leHBvcnQge1ByaW1lRG9jdW1lbnR9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxMi0yMDE4LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtQcmltZURvY3VtZW50fSBmcm9tIFwiLi9QcmltZURvY3VtZW50LmpzXCI7XG5cbi8qKlxuICogVGhlIFV0aWxzIG5hbWVzcGFjZS4gVGhpcyBjb250YWlucyB1dGlsaXR5IGZ1bmN0aW9ucy5cbiAqXG4gKiBAbmFtZXNwYWNlIFV0aWxzXG4gKi9cbmNvbnN0IFV0aWxzID0ge1xuICBzcGFjZVJlZ2V4OiAvXFxzKy8sXG4gIHR5cGVSZWdleDogL15cXFtvYmplY3RcXHMoLiopXFxdJC8sXG5cbiAgLyoqXG4gICAqIEJpbmRzIGFsbCBvZiB0aGUgZnVuY3Rpb25zIGluc2lkZSB0aGUgb2JqZWN0IHNvIHRoYXQgPGNvZGU+dGhpczwvY29kZT4gaXMgdGhlIG9iamVjdC4gVGhpcyBpcyBleHRyZW1lbHkgdXNlZnVsIGZvclxuICAgKiBvYmplY3RzIHRoYXQgaGF2ZSBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIHVzZWQgYXMgZXZlbnQgbGlzdGVuZXJzLiBSYXRoZXIgdGhhbiBoYXZpbmcgdG8gbWFuYWdlIGJpbmRpbmcgYW5kIGZ1bmN0aW9uXG4gICAqIHJlZmVyZW5jZXMgbWFudWFsbHkgeW91IGNhbiBpbnN0ZWFkIGJpbmQgYWxsIG9mIHRoZSBmdW5jdGlvbnMgaW4gdGhlIG9iamVjdCBhbmQgdGhlbiB1c2UgdGhlbSBkaXJlY3RseSBmb3IgZXZlbnRcbiAgICogbGlzdGVuZXJzLlxuICAgKlxuICAgKiBIZXJlJ3MgYW4gZXhhbXBsZTpcbiAgICpcbiAgICogPHByZT5cbiAgICogICBmdW5jdGlvbiBGb28oKSB7XG4gICAqICAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuICAgKlxuICAgKiAgICAgLy8gVGhpcyBmdW5jdGlvbiBpcyBib3VuZCB0byB0aGlzIChpLmUuIHRoaXMuaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpLlxuICAgKiAgICAgUHJpbWVEb2N1bWVudC5xdWVyeUZpcnN0KCdhJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICogICB9XG4gICAqXG4gICAqICAgRm9vLnByb3RvdHlwZSA9IHtcbiAgICogICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihldmVudCkge1xuICAgKiAgICAgICAuLi5cbiAgICogICAgIH1cbiAgICogICB9O1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIG9iamVjdCB0byBiaW5kIGFsbCB0aGUgZnVuY3Rpb25zIGZvci5cbiAgICovXG4gIGJpbmRBbGw6IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIFV0aWxzLmdldEFsbFByb3BlcnR5TmFtZXMob2JqZWN0KS5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuICAgICAgaWYgKHByb3BlcnR5ICE9PSAnY29uc3RydWN0b3InICYmIHR5cGVvZiBvYmplY3RbcHJvcGVydHldID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgIShvYmplY3RbcHJvcGVydHldLm5hbWUgJiYgb2JqZWN0W3Byb3BlcnR5XS5uYW1lLnN0YXJ0c1dpdGgoJ2JvdW5kICcpKSkgeyAvLyBuYW1lIGlzbid0IGRlZmluZWQgaW4gaWVcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iamVjdCwgcHJvcGVydHksIHt2YWx1ZTogb2JqZWN0W3Byb3BlcnR5XS5iaW5kKG9iamVjdCl9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogSFRNTCBlc2NhcGUgYSBzdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSBzdHJpbmcgVGhlIHN0cmluZyB0byBlc2NhcGVcbiAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGVzY2FwZWQgc3RyaW5nXG4gICAqL1xuICBlc2NhcGVIVE1MOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cmluZykpO1xuICAgIHJldHVybiBkaXYuaW5uZXJIVE1MO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXZlcnNlcyBIVE1MIGVzY2FwaW5nLlxuICAgKiBAcGFyYW0gc3RyaW5nXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICB1bmVzY2FwZUhUTUw6IGZ1bmN0aW9uKHN0cmluZykge1xuICAgIC8vIE5lYXQgdHJpY2sgdXNpbmcgYSB0ZXh0YXJlYVxuICAgIGxldCB0eHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgIHR4dC5pbm5lckhUTUwgPSBzdHJpbmc7XG4gICAgcmV0dXJuIHR4dC52YWx1ZTtcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgb2YgdGhlIHByb3BlcnRpZXMgZm9yIHRoaXMgb2JqZWN0IGFuZCBhbGwgb2YgaXRzXG4gICAqIGluaGVyaXRlZCBwcm9wZXJ0aWVzIGZyb20gcGFyZW50IG9iamVjdHMuXG4gICAqXG4gICAqIEBwYXJhbSBvYmplY3RcbiAgICogQHJldHVybnMge0FycmF5PHN0cmluZz59XG4gICAqL1xuICBnZXRBbGxQcm9wZXJ0eU5hbWVzOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBsZXQgcHJvcHMgPSB7fTtcblxuICAgIGRvIHtcbiAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG9iamVjdCkuZm9yRWFjaCgocHJvcCkgPT4ge1xuICAgICAgICBpZiAoIXByb3BzW3Byb3BdKSB7XG4gICAgICAgICAgcHJvcHNbcHJvcF09cHJvcDtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9IHdoaWxlIChvYmplY3QgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KSk7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMocHJvcHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBCaW5kcyBhbGwgb2YgdGhlIGZ1bmN0aW9ucyBpbnNpZGUgdGhlIG9iamVjdCBzbyB0aGF0IDxjb2RlPnRoaXM8L2NvZGU+IGlzIHRoZSBvYmplY3QuIFRoaXMgaXMgZXh0cmVtZWx5IHVzZWZ1bCBmb3JcbiAgICogb2JqZWN0cyB0aGF0IGhhdmUgZnVuY3Rpb25zIHRoYXQgd2lsbCBiZSB1c2VkIGFzIGV2ZW50IGxpc3RlbmVycy4gUmF0aGVyIHRoYW4gaGF2aW5nIHRvIG1hbmFnZSBiaW5kaW5nIGFuZCBmdW5jdGlvblxuICAgKiByZWZlcmVuY2VzIG1hbnVhbGx5IHlvdSBjYW4gaW5zdGVhZCBiaW5kIGFsbCBvZiB0aGUgZnVuY3Rpb25zIGluIHRoZSBvYmplY3QgYW5kIHRoZW4gdXNlIHRoZW0gZGlyZWN0bHkgZm9yIGV2ZW50XG4gICAqIGxpc3RlbmVycy5cbiAgICpcbiAgICogSGVyZSdzIGFuIGV4YW1wbGU6XG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAgZnVuY3Rpb24gRm9vKCkge1xuICAgKiAgICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcbiAgICpcbiAgICogICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgYm91bmQgdG8gdGhpcyAoaS5lLiB0aGlzLmhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKS5cbiAgICogICAgIFByaW1lRG9jdW1lbnQucXVlcnlGaXJzdCgnYScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVDbGljayk7XG4gICAqICAgfVxuICAgKlxuICAgKiAgIEZvby5wcm90b3R5cGUgPSB7XG4gICAqICAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICogICAgICAgLi4uXG4gICAqICAgICB9XG4gICAqICAgfTtcbiAgICogPC9wcmU+XG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbGwgdGhlIGZ1bmN0aW9ucyBmb3IuXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBhcmd1bWVudHMgQSB2YXJhcmdzIGxpc3Qgb2YgZnVuY3Rpb24gbmFtZXMgdG8gYmluZC5cbiAgICovXG4gIGJpbmRTb21lOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGZ1bmMgPSBvYmplY3RbYXJndW1lbnRzW2ldXTtcbiAgICAgICAgaWYgKCFVdGlscy5pc0RlZmluZWQoZnVuYykgfHwgIShmdW5jIGluc3RhbmNlb2YgRnVuY3Rpb24pKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIG9iamVjdCBkb2VzIG5vdCBjb250YWluIGEgZnVuY3Rpb24gbmFtZWQgWycgKyBhcmd1bWVudHNbaV0gKyAnXScpO1xuICAgICAgICB9XG5cbiAgICAgICAgb2JqZWN0W2FyZ3VtZW50c1tpXV0gPSBmdW5jLmJpbmQob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgcHJvcGVydHkgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0W3Byb3BlcnR5XSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBvYmplY3RbcHJvcGVydHldLmJpbmQob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNhZmVseSBiaW5kcyBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYmluZC5cbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0XSBBbiBvcHRpb25hbCBjb250ZXh0IHRvIGJpbmQgdGhlIGZ1bmN0aW9uIHRvLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEVpdGhlciA8Y29kZT5mdW5jPC9jb2RlPiBvciB0aGUgbmV3bHkgYm91bmQgZnVuY3Rpb24uXG4gICAqL1xuICBiaW5kU2FmZTogZnVuY3Rpb24oZnVuYywgY29udGV4dCkge1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKGZ1bmMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG4gICAgfVxuXG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQoY29udGV4dCkpIHtcbiAgICAgIHJldHVybiBmdW5jO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jLmJpbmQoY29udGV4dCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZXMgdGhlIGxlbmd0aCBvZiB0aGUgZ2l2ZW4gdGV4dCB1c2luZyB0aGUgc3R5bGUgb2YgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHVzZSB0aGUgc3R5bGUgb2YuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSB0ZXh0IHRvIGNhbGN1bGF0ZSB0aGUgbGVuZ3RoIG9mLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgbGVuZ3RoIG9mIHRoZSB0ZXh0LlxuICAgKi9cbiAgY2FsY3VsYXRlVGV4dExlbmd0aDogZnVuY3Rpb24oZWxlbWVudCwgdGV4dCkge1xuICAgIGNvbnN0IGNvbXB1dGVkU3R5bGUgPSBlbGVtZW50LmdldENvbXB1dGVkU3R5bGUoKTtcbiAgICBsZXQgdGV4dENhbGN1bGF0b3IgPSBQcmltZURvY3VtZW50LnF1ZXJ5QnlJZCgncHJpbWUtdGV4dC1jYWxjdWxhdG9yJyk7XG4gICAgaWYgKHRleHRDYWxjdWxhdG9yID09PSBudWxsKSB7XG4gICAgICB0ZXh0Q2FsY3VsYXRvciA9IFByaW1lRG9jdW1lbnQubmV3RWxlbWVudCgnPHNwYW4vPicpXG4gICAgICAgICAgLnNldFN0eWxlcyh7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgIHdpZHRoOiAnYXV0bycsXG4gICAgICAgICAgICBmb250U2l6ZTogY29tcHV0ZWRTdHlsZVsnZm9udFNpemUnXSxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6IGNvbXB1dGVkU3R5bGVbJ2ZvbnRGYW1pbHknXSxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6IGNvbXB1dGVkU3R5bGVbJ2ZvbnRXZWlnaHQnXSxcbiAgICAgICAgICAgIGxldHRlclNwYWNpbmc6IGNvbXB1dGVkU3R5bGVbJ2xldHRlclNwYWNpbmcnXSxcbiAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuc2V0SWQoJ3ByaW1lLXRleHQtY2FsY3VsYXRvcicpXG4gICAgICAgICAgLnNldFRvcCgtOTk5OSlcbiAgICAgICAgICAuc2V0TGVmdCgtOTk5OSlcbiAgICAgICAgICAuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7XG4gICAgfVxuXG4gICAgdGV4dENhbGN1bGF0b3Iuc2V0SFRNTCh0ZXh0KTtcbiAgICByZXR1cm4gdGV4dENhbGN1bGF0b3IuZ2V0V2lkdGgoKTtcbiAgfSxcblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gaW52b2tlIGEgZnVuY3Rpb24gaXRlcmF0aXZlbHkgaW4gdGhlIGJhY2tncm91bmQgYSBzcGVjaWZpYyBudW1iZXIgb2YgdGltZXMgd2l0aGluIGEgc3BlY2lmaWMgZHVyYXRpb24uXG4gICAqIFRoaXMgbWlnaHQgbm90IGNvbXBsZXRlIGluIHRoZSBzcGVjaWZpZWQgZHVyYXRpb24uIFRoZSBmdW5jdGlvbnMgcGFzc2VkIGluIHNob3VsZCBiZSBzaG9ydCBmdW5jdGlvbnMgdGhhdCByZXR1cm4gYXNcbiAgICogcXVpY2tseSBhcyBwb3NzaWJsZS4gSWYgeW91IGFyZSB1c2luZyBsb25nIGZ1bmN0aW9ucywgdXNlIHRoZSByZWN1cnNpdmUgc2V0VGltZW91dCB0cmljayBieS1oYW5kIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdG90YWxEdXJhdGlvbiBUaGUgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXNUb0NhbGwgVGhlIG51bWJlciBvZiB0aW1lcyB0byBjYWxsIHRoZSBmdW5jdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RlcEZ1bmN0aW9uIFRoZSBzdGVwIGZ1bmN0aW9uIHRvIGNhbGwgZWFjaCBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtlbmRGdW5jdGlvbl0gVGhlIGZ1bmN0aW9uIHRvIGludm9rZSBhdCB0aGUgZW5kLlxuICAgKi9cbiAgY2FsbEl0ZXJhdGl2ZWx5OiBmdW5jdGlvbih0b3RhbER1cmF0aW9uLCB0aW1lc1RvQ2FsbCwgc3RlcEZ1bmN0aW9uLCBlbmRGdW5jdGlvbikge1xuICAgIGNvbnN0IHN0ZXAgPSB0b3RhbER1cmF0aW9uIC8gdGltZXNUb0NhbGw7XG4gICAgbGV0IGNvdW50ID0gMDtcbiAgICBjb25zdCBpZCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgY291bnQrKztcbiAgICAgIGNvbnN0IGxhc3QgPSAoY291bnQgPj0gdGltZXNUb0NhbGwpO1xuICAgICAgc3RlcEZ1bmN0aW9uKGxhc3QpO1xuICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpZCk7XG5cbiAgICAgICAgaWYgKFV0aWxzLmlzRGVmaW5lZChlbmRGdW5jdGlvbikpIHtcbiAgICAgICAgICBlbmRGdW5jdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgc3RlcCAtIDEpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYXBpdGFsaXplcyB0aGUgZ2l2ZW4gU3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyIFRoZSBTdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGNhcGl0YWxpemVkIFN0cmluZy5cbiAgICovXG4gIGNhcGl0YWxpemU6IGZ1bmN0aW9uKHN0cikge1xuICAgIHJldHVybiBzdHIuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBDU1Mgc3R5bGUgbmFtZXMgdG8gc3R5bGUgSmF2YVNjcmlwdCBuYW1lcy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIENTUyBzdHlsZSBuYW1lIHRvIGNvbnZlcnRcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbnZlcnRlZCBzdHlsZSBuYW1lLlxuICAgKi9cbiAgY29udmVydFN0eWxlTmFtZTogZnVuY3Rpb24obmFtZSkge1xuICAgIGlmIChuYW1lID09PSAnZmxvYXQnKSB7XG4gICAgICByZXR1cm4gJ2Nzc0Zsb2F0JztcbiAgICB9XG5cbiAgICBsZXQgZGFzaCA9IG5hbWUuaW5kZXhPZignLScpO1xuICAgIGlmIChkYXNoID09PSAtMSkge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuXG4gICAgbGV0IHN0YXJ0ID0gMDtcbiAgICBsZXQgcmVzdWx0ID0gJyc7XG4gICAgd2hpbGUgKGRhc2ggIT09IC0xKSB7XG4gICAgICBjb25zdCBwaWVjZSA9IG5hbWUuc3Vic3RyaW5nKHN0YXJ0LCBkYXNoKTtcbiAgICAgIGlmIChzdGFydCA9PT0gMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHBpZWNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQoVXRpbHMuY2FwaXRhbGl6ZShwaWVjZSkpO1xuICAgICAgfVxuXG4gICAgICBzdGFydCA9IGRhc2ggKyAxO1xuICAgICAgZGFzaCA9IG5hbWUuaW5kZXhPZignLScsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0ICsgVXRpbHMuY2FwaXRhbGl6ZShuYW1lLnN1YnN0cmluZyhzdGFydCkpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYW4gb3B0aW9ucyBtYXAge09iamVjdH0gb2YgdGhlIGRhdGEgc2V0IHZhbHVlcyBjb2VyY2VkIHRvIGEgdHlwZWQgdmFsdWUgb2YgYm9vbGVhbiwgc3RyaW5nIG9yIG51bWJlci5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IFRoZSBvcHRpb25zIG9iamVjdC5cbiAgICovXG4gIGRhdGFTZXRUb09wdGlvbnM6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBjb25zdCBvcHRpb25zID0ge307XG4gICAgY29uc3QgZGF0YSA9IGVsZW1lbnQuZ2V0RGF0YVNldCgpO1xuICAgIGZvciAobGV0IHByb3AgaW4gZGF0YSkge1xuICAgICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3QgdmFsdWUgPSBkYXRhW3Byb3BdO1xuICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICBpZiAodmFsdWUgPT09ICd0cnVlJykge1xuICAgICAgICAgIG9wdGlvbnNbcHJvcF0gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XG4gICAgICAgICAgb3B0aW9uc1twcm9wXSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9wdGlvbnNbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uc1twcm9wXSA9IHBhcnNlSW50KHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lcyBpZiBhbiBvYmplY3QgaXMgYW4gYXJyYXkgb3Igbm90LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IG8gVGhlIG9iamVjdCB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgaXNBcnJheTogZnVuY3Rpb24obykge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFRlc3RzIHdoZXRoZXIgb3Igbm90IHRoZSB2YWx1ZSBpcyBub3QgbnVsbCBhbmQgbm90ICd1bmRlZmluZWQnLlxuICAgKlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0ZXN0LlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgdmFsdWUgaXMgZGVmaW5lZCAobm90IG51bGwgb3IgdW5kZWZpbmVkKS5cbiAgICovXG4gIGlzRGVmaW5lZDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mKHZhbHVlKSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExlZnQgcGFkIGEgbnVtYmVyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIHRoZSBudW1iZXIgdG8gcGFkXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCB0aGUgd2lkdGggb2YgdGhlIGZpbmFsIHJlc3VsdFxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgbGVmdFBhZE51bWJlcjogZnVuY3Rpb24obnVtYmVyLCB3aWR0aCkge1xuICAgIGNvbnN0IHNpZ24gPSBNYXRoLnNpZ24obnVtYmVyKSA9PT0gLTEgPyAnLScgOiAnJztcbiAgICByZXR1cm4gc2lnbiArIG5ldyBBcnJheSh3aWR0aCkuY29uY2F0KFtNYXRoLmFicyhudW1iZXIpXSkuam9pbignMCcpLnNsaWNlKC13aWR0aCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBhcnNlcyBhIENTUyBtZWFzdXJlIHZhbHVlICgxMnB4KSBhcyBhbiBpbnRlZ2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbWVhc3VyZSBUaGUgQ1NTIG1lYXN1cmVcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIHZhbHVlIGFzIGFuIGludGVnZXIuXG4gICAqL1xuICBwYXJzZUNTU01lYXN1cmU6IGZ1bmN0aW9uKG1lYXN1cmUpIHtcbiAgICBjb25zdCBpbmRleCA9IG1lYXN1cmUuaW5kZXhPZigncHgnKTtcbiAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICByZXR1cm4gcGFyc2VJbnQobWVhc3VyZS5zdWJzdHJpbmcoMCwgbWVhc3VyZS5sZW5ndGggLSAyKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlSW50KG1lYXN1cmUpIHx8IDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFBhcnNlcyBKU09OLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ganNvbiBUaGUgSlNPTi5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIEpTT04gZGF0YSBhcyBhbiBvYmplY3QuXG4gICAqL1xuICBwYXJzZUpTT046IGZ1bmN0aW9uKGpzb24pIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgb2JqZWN0cyBpbiB0aGUgdG9SZW1vdmUgYXJyYXkgZnJvbSB0aGUgZnJvbUFycmF5LlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBmcm9tQXJyYXkgVGhlIGFycmF5IHRvIHJlbW92ZSBmcm9tLlxuICAgKiBAcGFyYW0ge0FycmF5fSB0b1JlbW92ZSBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZUFsbEZyb21BcnJheTogZnVuY3Rpb24oZnJvbUFycmF5LCB0b1JlbW92ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdG9SZW1vdmUubGVuZ3RoOyBpKyspIHtcbiAgICAgIFV0aWxzLnJlbW92ZUZyb21BcnJheShmcm9tQXJyYXksIHRvUmVtb3ZlW2ldKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBhcnJheS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlbW92ZSBmcm9tLlxuICAgKiBAcGFyYW0geyp9IG9iaiBUaGUgb2JqZWN0IHRvIHJlbW92ZS5cbiAgICovXG4gIHJlbW92ZUZyb21BcnJheTogZnVuY3Rpb24oYXJyYXksIG9iaikge1xuICAgIGNvbnN0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihvYmopO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IHNoaWZ0ID0gYXJyYXkuc3BsaWNlKGluZGV4ICsgMSwgYXJyYXkubGVuZ3RoKTtcbiAgICAgIGFycmF5Lmxlbmd0aCA9IGluZGV4O1xuICAgICAgYXJyYXkucHVzaC5hcHBseShhcnJheSwgc2hpZnQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHByb3ZpZGUgYSBvbmUgbGluZXIgdG8gYmVoYXZlIGFzIGlmIHlvdSByZXR1cm5lZCAnZmFsc2UnIGZyb20gYSBsZWdhY3kgdmVyc2lvbiBvZiBQcmltZS5qcy5cbiAgICpcbiAgICogQ2FsbGluZyB0aGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGNhbGxpbmcgZXZlbnQucHJldmVudERlZmF1bHQgYW5kIGV2ZW50LnN0b3BQcm9wYWdhdGlvbi5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBzdG9wRXZlbnQ6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgLy8gQ29tcGF0aWJpbGl0eSB3aXRoIG9sZGVyIHZlcnNpb25zIG9mIElFXG4gICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSxcblxuICB0eXBlOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkubWF0Y2goVXRpbHMudHlwZVJlZ2V4KVsxXTtcbiAgfVxufTtcblxuZXhwb3J0IHtVdGlsc307XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTgsIEludmVyc29mdCBJbmMuLCBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsXG4gKiBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpY1xuICogbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcbmltcG9ydCB7UHJpbWVEb2N1bWVudH0gZnJvbSBcIi4uL1ByaW1lRG9jdW1lbnQuanNcIjtcblxuLyoqXG4gKiBUaGUgc2luZ2xldG9uIGluc3RhbmNlLlxuICpcbiAqIEB0eXBlIHtPdmVybGF5fVxuICovXG5sZXQgaW5zdGFuY2U7XG5cbmNsYXNzIE92ZXJsYXkge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBPdmVybGF5IGluc3RhbmNlIG9uY2UgcGVyIERPTS5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIG92ZXJsYXkgZG9lc24ndCBleGlzdCBhbmQgYWRkIGl0XG4gICAgdGhpcy5vdmVybGF5ID0gUHJpbWVEb2N1bWVudC5xdWVyeUJ5SWQoJ3ByaW1lLW92ZXJsYXknKTtcbiAgICBpZiAodGhpcy5vdmVybGF5ID09PSBudWxsKSB7XG4gICAgICB0aGlzLm92ZXJsYXkgPSBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoJzxkaXYvPicpLnNldElkKCdwcmltZS1vdmVybGF5JykuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSkuaGlkZSgpO1xuICAgIH1cbiAgICB0aGlzLmJvZHlPdmVyZmxvdyA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBpbnN0YW5jZSBvZiB0aGUgT3ZlcmxheSB3aWRnZXRcbiAgICogQHJldHVybnMge092ZXJsYXl9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGluc3RhbmNlIHZhbHVlIG9mIHRoZSBPdmVybGF5IGluc3RhbmNlXG4gICAqIEBwYXJhbSAgdmFsdWUge092ZXJsYXl9XG4gICAqL1xuICBzdGF0aWMgc2V0IGluc3RhbmNlKHZhbHVlKSB7XG4gICAgaW5zdGFuY2UgPSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIG92ZXJsYXkgYW5kIHRoZSB0YXJnZXQgZWxlbWVudC5cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIC8vIHVzaW5nIG51bGwgZW5zdXJlcyB0aGF0IGlmIHRoaXMgc3R5bGUgaXMgbm90IGRlZmluZWQsIHdlJ2xsIHJlbW92ZSBpdCB3aGVuIHdlJ3JlIGRvbmVcbiAgICBsZXQgb3ZlcmZsb3dTdHlsZSA9IHRoaXMuYm9keU92ZXJmbG93IHx8ICcnO1xuICAgIFByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQuc2V0U3R5bGUoJ292ZXJmbG93Jywgb3ZlcmZsb3dTdHlsZSk7XG4gICAgdGhpcy5vdmVybGF5LnNldFN0eWxlKCd6SW5kZXgnLCAnMTAnKTtcbiAgICB0aGlzLm92ZXJsYXkuaGlkZSgpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBvdmVybGF5IGFuZCBwb3NpdGlvbnMgdGhlIGVsZW1lbnQgb3ZlciBpdC5cbiAgICogQHBhcmFtIHpJbmRleCB7TnVtYmVyfHN0cmluZ31cbiAgICovXG4gIG9wZW4oekluZGV4KSB7XG4gICAgaWYgKHRoaXMuYm9keU92ZXJmbG93ID09PSBudWxsKSB7XG4gICAgICB0aGlzLmJvZHlPdmVyZmxvdyA9IFByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQuZ2V0U3R5bGUoJ292ZXJmbG93Jyk7XG4gICAgfVxuICAgIFByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQuc2V0U3R5bGUoJ292ZXJmbG93JywgJ2hpZGRlbicpO1xuICAgIHRoaXMub3ZlcmxheS5zaG93KCk7XG5cbiAgICAvLyBTZXQgdGhlIHotaW5kZXggb2YgdGhpcyBkaWFsb2cgYW5kIHRoZSBvdmVybGF5XG4gICAgdGhpcy5vdmVybGF5LnNldFN0eWxlKCd6SW5kZXgnLCB6SW5kZXgudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2hhbmdlcyB0aGUgaWQgb2YgdGhlIE92ZXJsYXkgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGlkIHtzdHJpbmd9IFRoZSBuZXcgaWQuXG4gICAqIEByZXR1cm5zIHtPdmVybGF5fVxuICAgKi9cbiAgc2V0SWQoaWQpIHtcbiAgICB0aGlzLm92ZXJsYXkuc2V0SWQoaWQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHppbmRleCBvZiB0aGUgb3ZlcmxheS5cbiAgICpcbiAgICogQHBhcmFtIHpJbmRleCB7c3RyaW5nfG51bWJlcn0gVGhlIG5ldyB6SW5kZXguXG4gICAqL1xuICBzZXRaSW5kZXgoekluZGV4KSB7XG4gICAgdGhpcy5vdmVybGF5LnNldFN0eWxlKCd6SW5kZXgnLCB6SW5kZXgudG9TdHJpbmcoKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuUHJpbWVEb2N1bWVudC5vblJlYWR5KGZ1bmN0aW9uKCkge1xuICBPdmVybGF5Lmluc3RhbmNlID0gbmV3IE92ZXJsYXkoKTtcbn0pO1xuXG5leHBvcnQge092ZXJsYXl9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4vVXRpbHMuanNcIjtcbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi9Eb2N1bWVudC9QcmltZUVsZW1lbnQuanNcIjtcblxuY2xhc3MgUHJpbWVSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIE1ha2VzIGEgbmV3IEFKQVggcmVxdWVzdC5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbdXJsXSBUaGUgVVJMIHRvIGNhbGwuIFRoaXMgY2FuIGJlIGxlZnQgb3V0IGZvciBzdWItY2xhc3NpbmcgYnV0IHNob3VsZCBvdGhlcndpc2UgYmUgcHJvdmlkZWQuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbbWV0aG9kPUdFVF0gVGhlIEhUVFAgbWV0aG9kIHRvIHVzZS4gWW91IGNhbiBzcGVjaWZ5IEdFVCwgUE9TVCwgUFVULCBERUxFVEUsIEhFQUQsIFNFQVJDSCwgZXRjLlxuICAgKi9cbiAgY29uc3RydWN0b3IodXJsLCBtZXRob2QpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuICAgIHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgdGhpcy5hc3luYyA9IHRydWU7XG4gICAgdGhpcy5ib2R5ID0gbnVsbDtcbiAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gbnVsbDtcbiAgICB0aGlzLmNvbnRlbnRUeXBlID0gbnVsbDtcbiAgICB0aGlzLmluUHJvZ3Jlc3MgPSBudWxsO1xuICAgIHRoaXMuZXJyb3JIYW5kbGVyID0gdGhpcy5vbkVycm9yO1xuICAgIHRoaXMuaGVhZGVycyA9IHt9O1xuICAgIHRoaXMubG9hZGluZ0hhbmRsZXIgPSB0aGlzLm9uTG9hZGluZztcbiAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZCB8fCAnR0VUJztcbiAgICB0aGlzLm9wZW5IYW5kbGVyID0gdGhpcy5vbk9wZW47XG4gICAgdGhpcy5wYXNzd29yZCA9IG51bGw7XG4gICAgdGhpcy5zZW5kSGFuZGxlciA9IHRoaXMub25TZW5kO1xuICAgIHRoaXMuc3VjY2Vzc0hhbmRsZXIgPSB0aGlzLm9uU3VjY2VzcztcbiAgICB0aGlzLnVuc2V0SGFuZGxlciA9IHRoaXMub25VbnNldDtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLnVzZXJuYW1lID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIHRoZSBVUkwgdG8gY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgbmV3IFVSTCB0byBjYWxsLlxuICAgKiBAcmV0dXJucyB7UHJpbWVSZXF1ZXN0fSBUaGlzIFByaW1lUmVxdWVzdC5cbiAgICovXG4gIGZvclVSTCh1cmwpIHtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbnZva2VzIHRoZSBBSkFYIHJlcXVlc3QuIElmIHRoZSBVUkwgaXMgbm90IHNldCwgdGhpcyB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJpbWVSZXF1ZXN0fSBUaGlzIFByaW1lUmVxdWVzdC5cbiAgICovXG4gIGdvKCkge1xuICAgIGlmICghdGhpcy51cmwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ05vIFVSTCBzZXQgZm9yIEFKQVggcmVxdWVzdCcpO1xuICAgIH1cblxuICAgIGxldCByZXF1ZXN0VXJsID0gdGhpcy51cmw7XG4gICAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdERUxFVEUnKSAmJiB0aGlzLnF1ZXJ5UGFyYW1zICE9PSBudWxsKSB7XG4gICAgICBpZiAocmVxdWVzdFVybC5pbmRleE9mKCc/JykgPT09IC0xKSB7XG4gICAgICAgIHJlcXVlc3RVcmwgKz0gJz8nICsgdGhpcy5xdWVyeVBhcmFtcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RVcmwgKz0gJyYnICsgdGhpcy5xdWVyeVBhcmFtcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5hc3luYykge1xuICAgICAgaWYgKHRoaXMuaW5Qcm9ncmVzcyAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmluUHJvZ3Jlc3Mub3BlbigpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLl9oYW5kbGVyLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy54aHIub3Blbih0aGlzLm1ldGhvZCwgcmVxdWVzdFVybCwgdGhpcy5hc3luYywgdGhpcy51c2VybmFtZSwgdGhpcy5wYXNzd29yZCk7XG5cbiAgICBpZiAoT2JqZWN0LmtleXModGhpcy5oZWFkZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5oZWFkZXJzKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIHRoaXMueGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB0aGlzLmhlYWRlcnNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5jb250ZW50VHlwZSkge1xuICAgICAgdGhpcy54aHIuc2V0UmVxdWVzdEhlYWRlcignQ29udGVudC1UeXBlJywgdGhpcy5jb250ZW50VHlwZSk7XG4gICAgfVxuXG4gICAgdGhpcy54aHIuc2VuZCh0aGlzLmJvZHkpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBoYW5kbGVyIGZvciB0aGUgXCJjb21wbGV0ZWRcIiBzdGF0ZSBhbmQgYW4gSFRUUCByZXNwb25zZSBzdGF0dXMgb2YgYW55dGhpbmcgYnV0IDJ4eC4gU3ViLWNsYXNzZXMgY2FuIG92ZXJyaWRlXG4gICAqIHRoaXMgaGFuZGxlciBvciB5b3UgY2FuIHBhc3MgaW4gYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHRoZSB7QGxpbmsgI3dpdGhVbnNldEhhbmRsZXJ9LlxuICAgKlxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fSB4aHIgVGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC5cbiAgICovXG4gIG9uRXJyb3IoeGhyKSB7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBoYW5kbGVyIGZvciB0aGUgXCJsb2FkaW5nXCIgc3RhdGUuIFN1Yi1jbGFzc2VzIGNhbiBvdmVycmlkZSB0aGlzIGhhbmRsZXIgb3IgeW91IGNhbiBwYXNzIGluIGEgaGFuZGxlciBmdW5jdGlvblxuICAgKiB0byB0aGUge0BsaW5rICN3aXRoTG9hZGluZ0hhbmRsZXJ9LlxuICAgKlxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fSB4aHIgVGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC5cbiAgICovXG4gIG9uTG9hZGluZyh4aHIpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWZhdWx0IGhhbmRsZXIgZm9yIHRoZSBcIm9wZW5cIiBzdGF0ZS4gU3ViLWNsYXNzZXMgY2FuIG92ZXJyaWRlIHRoaXMgaGFuZGxlciBvciB5b3UgY2FuIHBhc3MgaW4gYSBoYW5kbGVyIGZ1bmN0aW9uXG4gICAqIHRvIHRoZSB7QGxpbmsgI3dpdGhPcGVuSGFuZGxlcn0uXG4gICAqXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R9IHhociBUaGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LlxuICAgKi9cbiAgb25PcGVuKHhocikge1xuICB9XG5cbiAgLyoqXG4gICAqIERlZmF1bHQgaGFuZGxlciBmb3IgdGhlIFwic2VuZFwiIHN0YXRlLiBTdWItY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyBoYW5kbGVyIG9yIHlvdSBjYW4gcGFzcyBpbiBhIGhhbmRsZXIgZnVuY3Rpb25cbiAgICogdG8gdGhlIHtAbGluayAjd2l0aFNlbmRIYW5kbGVyfS5cbiAgICpcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0geGhyIFRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QuXG4gICAqL1xuICBvblNlbmQoeGhyKSB7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBoYW5kbGVyIGZvciB0aGUgXCJjb21wbGV0ZVwiIHN0YXRlIGFuZCBhbiBIVFRQIHJlc3BvbnNlIHN0YXR1cyBvZiAyeHguIFN1Yi1jbGFzc2VzIGNhbiBvdmVycmlkZSB0aGlzIGhhbmRsZXJcbiAgICogb3IgeW91IGNhbiBwYXNzIGluIGEgaGFuZGxlciBmdW5jdGlvbiB0byB0aGUge0BsaW5rICN3aXRoVW5zZXRIYW5kbGVyfS5cbiAgICpcbiAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0geGhyIFRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QuXG4gICAqL1xuICBvblN1Y2Nlc3MoeGhyKSB7XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBoYW5kbGVyIGZvciB0aGUgXCJ1bnNldFwiIHN0YXRlLiBTdWItY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyBoYW5kbGVyIG9yIHlvdSBjYW4gcGFzcyBpbiBhIGhhbmRsZXIgZnVuY3Rpb25cbiAgICogdG8gdGhlIHtAbGluayAjd2l0aFVuc2V0SGFuZGxlcn0uXG4gICAqXG4gICAqIEBwYXJhbSB7WE1MSHR0cFJlcXVlc3R9IHhociBUaGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LlxuICAgKi9cbiAgb25VbnNldCh4aHIpIHtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBhc3luYyBmbGFnIHRvIGZhbHNlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7UHJpbWVSZXF1ZXN0fSBUaGlzIFByaW1lUmVxdWVzdC5cbiAgICovXG4gIHN5bmNocm9ub3VzbHkoKSB7XG4gICAgdGhpcy5hc3luYyA9IGZhbHNlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1ldGhvZCB1c2VkIHRvIG1ha2UgdGhlIEFKQVggcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBUaGUgSFRUUCBtZXRob2QuXG4gICAqIEByZXR1cm5zIHtQcmltZVJlcXVlc3R9IFRoaXMgUHJpbWVSZXF1ZXN0LlxuICAgKi9cbiAgdXNpbmdNZXRob2QobWV0aG9kKSB7XG4gICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcmVxdWVzdCBib2R5IGZvciB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGJvZHkgVGhlIHJlcXVlc3QgYm9keS5cbiAgICogQHJldHVybnMge1ByaW1lUmVxdWVzdH0gVGhpcyBQcmltZVJlcXVlc3QuXG4gICAqL1xuICB3aXRoQm9keShib2R5KSB7XG4gICAgdGhpcy5ib2R5ID0gYm9keTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjb250ZW50IHR5cGUgZm9yIHRoZSByZXF1ZXN0LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY29udGVudFR5cGUgVGhlIGNvbnRlbnRUeXBlLlxuICAgKiBAcmV0dXJucyB7UHJpbWVSZXF1ZXN0fSBUaGlzIFByaW1lUmVxdWVzdC5cbiAgICovXG4gIHdpdGhDb250ZW50VHlwZShjb250ZW50VHlwZSkge1xuICAgIHRoaXMuY29udGVudFR5cGUgPSBjb250ZW50VHlwZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkYXRhIG9iamVjdCBmb3IgdGhlIHJlcXVlc3QuIFdpbGwgc3RvcmUgdGhlIHZhbHVlcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvciBwb3N0IGRhdGEgZGVwZW5kaW5nIG9uIHRoZVxuICAgKiBtZXRob2QgdGhhdCBpcyBzZXQuICBJZiB0aGUgbWV0aG9kIGlzIGEgcG9zdCBvciBwdXQsIHdpbGwgYWxzbyBzZXQgY29udGVudC10eXBlIHRvIHgtd3d3LWZvcm0tdXJsZW5jb2RlZC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIGRhdGEgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7UHJpbWVSZXF1ZXN0fSBUaGlzIFByaW1lUmVxdWVzdC5cbiAgICovXG4gIHdpdGhEYXRhKGRhdGEpIHtcbiAgICBmb3IgKGxldCBwcm9wIGluIGRhdGEpIHtcbiAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gJ1BVVCcgfHwgdGhpcy5tZXRob2QgPT09ICdQT1NUJykge1xuICAgICAgICAgIHRoaXMuYm9keSA9IHRoaXMuX2FkZERhdGFWYWx1ZSh0aGlzLmJvZHksIHByb3AsIGRhdGFbcHJvcF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucXVlcnlQYXJhbXMgPSB0aGlzLl9hZGREYXRhVmFsdWUodGhpcy5xdWVyeVBhcmFtcywgcHJvcCwgZGF0YVtwcm9wXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5tZXRob2QgPT09IFwiUFVUXCIgfHwgdGhpcy5tZXRob2QgPT09IFwiUE9TVFwiKSB7XG4gICAgICB0aGlzLmNvbnRlbnRUeXBlID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRhdGEgZm9yIHRoZSByZXF1ZXN0IHVzaW5nIHRoZSBmb3JtIGZpZWxkcyBpbiB0aGUgZ2l2ZW4gZm9ybSBlbGVtZW50LiBXaWxsIHN0b3JlIHRoZSB2YWx1ZXMgZm9yIHF1ZXJ5XG4gICAqIHBhcmFtZXRlcnMgb3IgcG9zdCBkYXRhIGRlcGVuZGluZyBvbiB0aGUgbWV0aG9kIHRoYXQgaXMgc2V0LiAgSWYgdGhlIG1ldGhvZCBpcyBhIHBvc3Qgb3IgcHV0LCB3aWxsIGFsc28gc2V0XG4gICAqIGNvbnRlbnQtdHlwZSB0byB4LXd3dy1mb3JtLXVybGVuY29kZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEhUTUxGb3JtRWxlbWVudH0gZm9ybSBUaGUgZm9ybSBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcmltZVJlcXVlc3R9IFRoaXMgUHJpbWVSZXF1ZXN0LlxuICAgKi9cbiAgd2l0aERhdGFGcm9tRm9ybShmb3JtKSB7XG4gICAgbGV0IGRvbUVsZW1lbnQgPSBmb3JtO1xuICAgIGlmIChmb3JtIGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSB7XG4gICAgICBkb21FbGVtZW50ID0gZm9ybS5kb21FbGVtZW50O1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZG9tRWxlbWVudC5lbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcHJpbWVFbGVtZW50ID0gbmV3IFByaW1lRWxlbWVudChkb21FbGVtZW50LmVsZW1lbnRzW2ldKTtcbiAgICAgIGlmIChwcmltZUVsZW1lbnQuaXNEaXNhYmxlZCgpIHx8ICFwcmltZUVsZW1lbnQuaXNJbnB1dCgpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBsZXQgdHlwZSA9IHByaW1lRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKTtcbiAgICAgIGlmICh0eXBlICE9PSBudWxsKSB7XG4gICAgICAgIHR5cGUgPSB0eXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICB9XG5cbiAgICAgIGxldCB2YWx1ZXM7XG4gICAgICBpZiAocHJpbWVFbGVtZW50LmdldFRhZ05hbWUoKSA9PT0gJ1NFTEVDVCcpIHtcbiAgICAgICAgdmFsdWVzID0gcHJpbWVFbGVtZW50LmdldFNlbGVjdGVkVmFsdWVzKCk7XG4gICAgICB9IGVsc2UgaWYgKCh0eXBlID09PSAncmFkaW8nIHx8IHR5cGUgPT09ICdjaGVja2JveCcpICYmICFwcmltZUVsZW1lbnQuaXNDaGVja2VkKCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZXMgPSBwcmltZUVsZW1lbnQuZ2V0VmFsdWUoKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgbmFtZSA9IHByaW1lRWxlbWVudC5kb21FbGVtZW50Lm5hbWU7XG4gICAgICBpZiAodGhpcy5tZXRob2QgPT09ICdQVVQnIHx8IHRoaXMubWV0aG9kID09PSAnUE9TVCcpIHtcbiAgICAgICAgdGhpcy5ib2R5ID0gdGhpcy5fYWRkRGF0YVZhbHVlKHRoaXMuYm9keSwgbmFtZSwgdmFsdWVzKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcyA9IHRoaXMuX2FkZERhdGFWYWx1ZSh0aGlzLnF1ZXJ5UGFyYW1zLCBuYW1lLCB2YWx1ZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJQVVRcIiB8fCB0aGlzLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcbiAgICAgIHRoaXMuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJztcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBoYW5kbGVyIHRvIGludm9rZSB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgQUpBWCByZXF1ZXN0IGlzIFwiY29tcGxldGVcIiBhbmQgdGhlIEhUVFAgc3RhdHVzIGluIHRoZSByZXNwb25zZSBpc1xuICAgKiBub3QgMnh4LlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7UHJpbWVSZXF1ZXN0fSBUaGlzIFByaW1lUmVxdWVzdC5cbiAgICovXG4gIHdpdGhFcnJvckhhbmRsZXIoZnVuYykge1xuICAgIHRoaXMuZXJyb3JIYW5kbGVyID0gZnVuYztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGFuIEluUHJvZ3Jlc3Mgb2JqZWN0IHRoYXQgd2lsbCBiZSBjYWxsZWQgYnkgdGhpcyBBSkFYIHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSB7SW5Qcm9ncmVzc30gaW5Qcm9ncmVzcyBUaGUgSW5Qcm9ncmVzcyBvYmplY3QuXG4gICAqIEByZXR1cm4ge1ByaW1lUmVxdWVzdH0gVGhpcy5cbiAgICovXG4gIHdpdGhJblByb2dyZXNzKGluUHJvZ3Jlc3MpIHtcbiAgICB0aGlzLmluUHJvZ3Jlc3MgPSBpblByb2dyZXNzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGJvZHkgb2YgdGhlIEFKQVggcmVxdWVzdCB0byB0aGUgc3RyaW5nIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBKU09OIG9iamVjdC4gVGhlIGNvbnRlbnQtdHlwZSBvZiB0aGUgcmVxdWVzdFxuICAgKiB3aWxsIGFsc28gYmUgc2V0IHRvICdhcHBsaWNhdGlvbi9qc29uJy4gVGhlIHByb3ZpZGVkIEpTT04gb2JqZWN0IG1heSBiZSBwYXNzZWQgYXMgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0ganNvbiBUaGUgSlNPTiBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtQcmltZVJlcXVlc3R9IFRoaXMgUHJpbWVSZXF1ZXN0LlxuICAgKi9cbiAgd2l0aEpTT04oanNvbikge1xuICAgIHRoaXMuYm9keSA9IHR5cGVvZihqc29uKSA9PT0gU3RyaW5nID8ganNvbiA6IEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICAgIHRoaXMuY29udGVudFR5cGUgPSAnYXBwbGljYXRpb24vanNvbic7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGFuZGxlciB0byBpbnZva2Ugd2hlbiB0aGUgc3RhdGUgb2YgdGhlIEFKQVggcmVxdWVzdCBpcyBcImxvYWRpbmdcIi5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgaGFuZGxlciBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge1ByaW1lUmVxdWVzdH0gVGhpcyBQcmltZVJlcXVlc3QuXG4gICAqL1xuICB3aXRoTG9hZGluZ0hhbmRsZXIoZnVuYykge1xuICAgIHRoaXMubG9hZGluZ0hhbmRsZXIgPSBmdW5jO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgcmVxdWVzdCBoZWFkZXJzIHVzaW5nIHRoZSBrZXkgYW5kIHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBrZXkgbmFtZS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZS5cbiAgICogQHJldHVybnMge1ByaW1lUmVxdWVzdH0gVGhpcyBQcmltZVJlcXVlc3QuXG4gICAqL1xuICB3aXRoSGVhZGVyKGtleSwgdmFsdWUpIHtcbiAgICB0aGlzLmhlYWRlcnNba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUga2V5IHZhbHVlIHBhaXJzIHByb3ZpZGVkIGFzIHJlcXVlc3QgaGVhZGVycy5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IGhlYWRlcnMgQSBtYXAgb2Yga2V5IHZhbHVlIHBhaXJzLlxuICAgKiBAcmV0dXJucyB7UHJpbWVSZXF1ZXN0fSBUaGlzIFByaW1lUmVxdWVzdC5cbiAgICovXG4gIHdpdGhIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICBmb3IgKGxldCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0aGlzLmhlYWRlcnNba2V5XSA9IGhlYWRlcnNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgWE1MSFRUUFJlcXVlc3QncyByZXNwb25zZSB0eXBlIGZpZWxkLCB3aGljaCB3aWxsIGNvbnRyb2wgaG93IHRoZSByZXNwb25zZSBpcyBwYXJzZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSByZXNwb25zZVR5cGUgVGhlIHJlc3BvbnNlIHR5cGUuXG4gICAqIEByZXR1cm5zIHtQcmltZVJlcXVlc3R9IFRoaXMgUHJpbWVSZXF1ZXN0LlxuICAgKi9cbiAgd2l0aFJlc3BvbnNlVHlwZShyZXNwb25zZVR5cGUpIHtcbiAgICB0aGlzLnhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgaGFuZGxlciB0byBpbnZva2Ugd2hlbiB0aGUgc3RhdGUgb2YgdGhlIEFKQVggcmVxdWVzdCBpcyBcIm9wZW5cIi5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgaGFuZGxlciBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge1ByaW1lUmVxdWVzdH0gVGhpcyBQcmltZVJlcXVlc3QuXG4gICAqL1xuICB3aXRoT3BlbkhhbmRsZXIoZnVuYykge1xuICAgIHRoaXMub3BlbkhhbmRsZXIgPSBmdW5jO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGhhbmRsZXIgdG8gaW52b2tlIHdoZW4gdGhlIHN0YXRlIG9mIHRoZSBBSkFYIHJlcXVlc3QgaXMgXCJzZW5kXCIuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGhhbmRsZXIgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtQcmltZVJlcXVlc3R9IFRoaXMgUHJpbWVSZXF1ZXN0LlxuICAgKi9cbiAgd2l0aFNlbmRIYW5kbGVyKGZ1bmMpIHtcbiAgICB0aGlzLnNlbmRIYW5kbGVyID0gZnVuYztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBoYW5kbGVyIHRvIGludm9rZSB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgQUpBWCByZXF1ZXN0IGlzIFwiY29tcGxldGVcIiBhbmQgdGhlIEhUVFAgc3RhdHVzIGluIHRoZSByZXNwb25zZSBpc1xuICAgKiAyeHguXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGhhbmRsZXIgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtQcmltZVJlcXVlc3R9IFRoaXMgUHJpbWVSZXF1ZXN0LlxuICAgKi9cbiAgd2l0aFN1Y2Nlc3NIYW5kbGVyKGZ1bmMpIHtcbiAgICB0aGlzLnN1Y2Nlc3NIYW5kbGVyID0gZnVuYztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBoYW5kbGVyIHRvIGludm9rZSB3aGVuIHRoZSBzdGF0ZSBvZiB0aGUgQUpBWCByZXF1ZXN0IGlzIFwidW5zZXRcIi5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgaGFuZGxlciBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge1ByaW1lUmVxdWVzdH0gVGhpcyBQcmltZVJlcXVlc3QuXG4gICAqL1xuICB3aXRoVW5zZXRIYW5kbGVyKGZ1bmMpIHtcbiAgICB0aGlzLnVuc2V0SGFuZGxlciA9IGZ1bmM7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBSZXF1ZXN0IGJhY2sgdG8gYSBiYXNlIHN0YXRlIChiYXNpY2FsbHkganVzdCB0aGUgVVJMICsgbWV0aG9kKS4gIFRoaXMgY2FuIGJlXG4gICAqIHVzZWZ1bCBpZiBhIGNvbXBvbmVudCBpcyBnb2luZyB0byBtYWtlIG1hbnkgcmVxdWVzdHMgdG8gdGhlIHNhbWUgZW5kcG9pbnQgd2l0aCBkaWZmZXJlbnQgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQHJldHVybnMge1ByaW1lUmVxdWVzdH0gVGhpcyBQcmltZVJlcXVlc3QuXG4gICAqL1xuICByZXNldCgpIHtcbiAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gbnVsbDtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIHRoaXMuYm9keSA9IG51bGw7XG4gICAgdGhpcy5jb250ZW50VHlwZSA9IG51bGw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIFByaXZhdGUgTWV0aG9kc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICAvLyBub2luc3BlY3Rpb24gSlNNZXRob2RDYW5CZVN0YXRpY1xuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gbmFtZS12YWx1ZSBwYWlyIHRvIHRoZSBnaXZlbiBkYXRhIFN0cmluZy4gSWYgdGhlIHZhbHVlIGlzIGFuIGFycmF5LCBpdCBhZGRzIG11bHRpcGxlIHZhbHVlcyBmb3IgZWFjaFxuICAgKiBwaWVjZS4gT3RoZXJ3aXNlLCBpdCBhc3N1bWVzIHZhbHVlIGlzIGEgU3RyaW5nIG9yIGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBTdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBkYXRhU3RyaW5nIFRoZSBkYXRhIFN0cmluZyB1c2VkIHRvIGRldGVybWluZSBpZiBhbiBhbXBlcnNhbmQgaXMgbmVjZXNzYXJ5LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbmFtZS12YWx1ZSBwYWlyLlxuICAgKiBAcGFyYW0ge3N0cmluZ3xBcnJheX0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBuYW1lLXZhbHVlIHBhaXIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBuZXcgZGF0YSBzdHJpbmcuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYWRkRGF0YVZhbHVlKGRhdGFTdHJpbmcsIG5hbWUsIHZhbHVlKSB7XG4gICAgbGV0IHJlc3VsdCA9ICcnO1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlc3VsdCArPSBlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWVbaV0pO1xuICAgICAgICBpZiAoaSArIDEgPCB2YWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHQgKz0gJyYnO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGFTdHJpbmcgIT09IG51bGwgJiYgcmVzdWx0ICE9PSAnJykge1xuICAgICAgcmVzdWx0ID0gZGF0YVN0cmluZyArICcmJyArIHJlc3VsdDtcbiAgICB9IGVsc2UgaWYgKGRhdGFTdHJpbmcgIT09IG51bGwgJiYgcmVzdWx0ID09PSAnJykge1xuICAgICAgcmVzdWx0ID0gZGF0YVN0cmluZztcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlcigpIHtcbiAgICBpZiAodGhpcy54aHIucmVhZHlTdGF0ZSA9PT0gMCkge1xuICAgICAgdGhpcy51bnNldEhhbmRsZXIodGhpcy54aHIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy54aHIucmVhZHlTdGF0ZSA9PT0gMSkge1xuICAgICAgdGhpcy5vcGVuSGFuZGxlcih0aGlzLnhocik7XG4gICAgfSBlbHNlIGlmICh0aGlzLnhoci5yZWFkeVN0YXRlID09PSAyKSB7XG4gICAgICB0aGlzLnNlbmRIYW5kbGVyKHRoaXMueGhyKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMueGhyLnJlYWR5U3RhdGUgPT09IDMpIHtcbiAgICAgIHRoaXMubG9hZGluZ0hhbmRsZXIodGhpcy54aHIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy54aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuXG4gICAgICAvLyBDYWxsIHRoZSBJblByb2dyZXNzIGJlZm9yZSBoYW5kIGJlY2F1c2UgdGhlIHN1Y2Nlc3MgaGFuZGxlciBtaWdodCBjYWxsIGFub3RoZXIgQUpBWCBtZXRob2QgdGhhdCBtaWdodCBvcGVuIGFub3RoZXIgSW5Qcm9ncmVzc1xuICAgICAgaWYgKHRoaXMuaW5Qcm9ncmVzcyAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLmluUHJvZ3Jlc3MuY2xvc2UoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMueGhyLnN0YXR1cyA+PSAyMDAgJiYgdGhpcy54aHIuc3RhdHVzIDw9IDI5OSkge1xuICAgICAgICAgICAgdGhpcy5zdWNjZXNzSGFuZGxlcih0aGlzLnhocik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyKHRoaXMueGhyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy54aHIuc3RhdHVzID49IDIwMCAmJiB0aGlzLnhoci5zdGF0dXMgPD0gMjk5KSB7XG4gICAgICAgICAgdGhpcy5zdWNjZXNzSGFuZGxlcih0aGlzLnhocik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lcnJvckhhbmRsZXIodGhpcy54aHIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7UHJpbWVSZXF1ZXN0fTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxNywgSW52ZXJzb2Z0IEluYy4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCxcbiAqIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmNsYXNzIFByaW1lV2luZG93IHtcbiAgLyoqXG4gICAqIEF0dGFjaGVzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSB3aW5kb3csIHJldHVybmluZyB0aGUgaGFuZGxlciBwcm94eS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IFRoZSBuYW1lIG9mIHRoZSBldmVudC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXIgVGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtXaW5kb3d9IFRoZSB3aW5kb3cgb2JqZWN0LlxuICAgKi9cbiAgc3RhdGljIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGV2ZW50LmluZGV4T2YoJzonKSA9PT0gLTEpIHtcbiAgICAgIHdpbmRvdy5ldmVudExpc3RlbmVycyA9IHdpbmRvdy5ldmVudExpc3RlbmVycyB8fCB7fTtcbiAgICAgIHdpbmRvdy5ldmVudExpc3RlbmVyc1tldmVudF0gPSB3aW5kb3cuZXZlbnRMaXN0ZW5lcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgd2luZG93LmV2ZW50TGlzdGVuZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcbiAgICAgIGlmICh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSBpZiAod2luZG93LmF0dGFjaEV2ZW50KSB7XG4gICAgICAgIHdpbmRvdy5hdHRhY2hFdmVudCgnb24nICsgZXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZSB0byBzZXQgZXZlbnQgb250byB0aGUgd2luZG93LiBOZWl0aGVyIGFkZEV2ZW50TGlzdGVuZXIgbm9yIGF0dGFjaEV2ZW50IG1ldGhvZHMgYXJlIGF2YWlsYWJsZScpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDdXN0b20gZXZlbnRcbiAgICAgIHdpbmRvdy5jdXN0b21FdmVudExpc3RlbmVycyA9IHdpbmRvdy5jdXN0b21FdmVudExpc3RlbmVycyB8fCB7fTtcbiAgICAgIHdpbmRvdy5jdXN0b21FdmVudExpc3RlbmVyc1tldmVudF0gPSB3aW5kb3cuY3VzdG9tRXZlbnRMaXN0ZW5lcnNbZXZlbnRdIHx8IFtdO1xuICAgICAgd2luZG93LmN1c3RvbUV2ZW50TGlzdGVuZXJzW2V2ZW50XS5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGlubmVyIGhlaWdodCBvZiB0aGUgd2luZG93LiBUaGlzIGluY2x1ZGVzIG9ubHkgdGhlIHJlbmRlcmluZyBhcmVhIGFuZCBub3QgdGhlIHdpbmRvdyBjaHJvbWUgKHRvb2xiYXJzLFxuICAgKiBzdGF0dXMgYmFycywgZXRjKS4gSWYgdGhpcyBtZXRob2QgY2FuJ3QgZmlndXJlIG91dCB0aGUgaW5uZXIgaGVpZ2h0LCBpdCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBUaGUgaW5uZXIgaGVpZ2h0IG9mIHRoZSB3aW5kb3cuXG4gICAqL1xuICBzdGF0aWMgZ2V0SW5uZXJIZWlnaHQoKSB7XG4gICAgaWYgKHR5cGVvZih3aW5kb3cuaW5uZXJIZWlnaHQpID09PSAnbnVtYmVyJykge1xuICAgICAgLy8gTW9zdCBicm93c2Vyc1xuICAgICAgcmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAvLyBJRSA2KyBpbiAnc3RhbmRhcmRzIGNvbXBsaWFudCBtb2RlJ1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSB7XG4gICAgICAvLyBJRSA0IGNvbXBhdGlibGVcbiAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBkZXRlcm1pbmUgaW5uZXIgaGVpZ2h0IG9mIHRoZSB3aW5kb3cnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBpbm5lciB3aWR0aCBvZiB0aGUgd2luZG93LiBUaGlzIGluY2x1ZGVzIG9ubHkgdGhlIHJlbmRlcmluZyBhcmVhIGFuZCBub3QgdGhlIHdpbmRvdyBjaHJvbWUgKHRvb2xiYXJzLFxuICAgKiBzdGF0dXMgYmFycywgZXRjKS4gSWYgdGhpcyBtZXRob2QgY2FuJ3QgZmlndXJlIG91dCB0aGUgaW5uZXIgd2lkdGgsIGl0IHRocm93cyBhbiBleGNlcHRpb24uXG4gICAqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBpbm5lciB3aWR0aCBvZiB0aGUgd2luZG93LlxuICAgKi9cbiAgc3RhdGljIGdldElubmVyV2lkdGgoKSB7XG4gICAgaWYgKHR5cGVvZih3aW5kb3cuaW5uZXJXaWR0aCkgPT09ICdudW1iZXInKSB7XG4gICAgICAvLyBNb3N0IGJyb3dzZXJzXG4gICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGg7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSB7XG4gICAgICAvLyBJRSA2KyBpbiAnc3RhbmRhcmRzIGNvbXBsaWFudCBtb2RlJ1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCkge1xuICAgICAgLy8gSUUgNCBjb21wYXRpYmxlXG4gICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aDtcbiAgICB9XG5cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBkZXRlcm1pbmUgaW5uZXIgd2lkdGggb2YgdGhlIHdpbmRvdycpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwaXhlbHMgdGhlIFdpbmRvdyBpcyBzY3JvbGxlZCBieS5cbiAgICpcbiAgICogQHJldHVybnMge251bWJlcn0gVGhlIG51bWJlciBvZiBwaXhlbHMuXG4gICAqL1xuICBzdGF0aWMgZ2V0U2Nyb2xsVG9wKCkge1xuICAgIGlmICh0eXBlb2Yod2luZG93LnBhZ2VZT2Zmc2V0KSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCkge1xuICAgICAgcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZGV0ZXJtaW5lIHNjcm9sbFRvcCBvZiB0aGUgd2luZG93Jyk7XG4gIH1cbn1cblxuZXhwb3J0IHtQcmltZVdpbmRvd31cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxNywgSW52ZXJzb2Z0IEluYy4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCxcbiAqIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcbmltcG9ydCB7UHJpbWVEb2N1bWVudH0gZnJvbSBcIi4uL1ByaW1lRG9jdW1lbnQuanNcIjtcblxuY2xhc3MgRHJhZ2dhYmxlIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgRHJhZ2dhYmxlIG9iamVjdCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR8RXZlbnRUYXJnZXR9IGVsZW1lbnQgVGhlIFByaW1lIEVsZW1lbnQgZm9yIHRoZSBEcmFnZ2FibGUgd2lkZ2V0LlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2dyaXBTZWxlY3Rvcj1dIGdyaXBTZWxlY3RvciBUaGUgb3B0aW9uYWwgc2VsZWN0b3IgdG8gaWRlbnRpZnkgdGhlICdncmlwcHknIHBhcnQuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCwgZ3JpcFNlbGVjdG9yKSB7XG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IFByaW1lRWxlbWVudC53cmFwKGVsZW1lbnQpO1xuICAgIHRoaXMub2Zmc2V0ID0ge307XG5cbiAgICBpZiAoIVV0aWxzLmlzRGVmaW5lZChncmlwU2VsZWN0b3IpKSB7XG4gICAgICB0aGlzLmdyaXAgPSB0aGlzLmVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZ3JpcCA9IHRoaXMuZWxlbWVudC5xdWVyeUZpcnN0KGdyaXBTZWxlY3Rvcik7XG4gICAgICBpZiAodGhpcy5ncmlwID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IEVycm9yKCdVbmFibGUgdG8gZmluZCBhbiBlbGVtZW50IHVzaW5nIHRoZSBwcm92aWRlZCBzZWxlY3RvciBbJyArIGdyaXBTZWxlY3RvciArICddJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBEcmFnZ2FibGUgV2lkZ2V0XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgdGhpcy5lbGVtZW50LnNldFN0eWxlcyh0aGlzLm9yaWdpbmFsU3R5bGUpO1xuXG4gICAgdGhpcy5ncmlwLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuX2hhbmRsZU1vdXNlRG93bik7XG4gICAgUHJpbWVEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVNb3VzZU1vdmUpO1xuICAgIFByaW1lRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZU1vdXNlVXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBEcmFnZ2FibGUgYnkgYXR0YWNoaW5nIHRoZSBldmVudCBsaXN0ZW5lcnMuXG4gICAqXG4gICAqIEByZXR1cm5zIHtEcmFnZ2FibGV9IFRoaXMuXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMub3JpZ2luYWxTdHlsZSA9IHtcbiAgICAgIGN1cnNvcjogdGhpcy5lbGVtZW50LmdldFN0eWxlKCdjdXJzb3InKSxcbiAgICAgIHpJbmRleDogdGhpcy5lbGVtZW50LmdldFN0eWxlKCd6SW5kZXgnKVxuICAgIH07XG5cbiAgICB0aGlzLmdyaXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5faGFuZGxlTW91c2VEb3duKS5zZXRTdHlsZSgnY3Vyc29yJywgJ21vdmUnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgTW91c2UgRG93biBFdmVudFxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlTW91c2VEb3duKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgdGhpcy5vZmZzZXQgPSB7XG4gICAgICB6SW5kZXg6IHRoaXMuZWxlbWVudC5nZXRTdHlsZSgnekluZGV4JyksXG4gICAgICBoZWlnaHQ6IHRoaXMuZWxlbWVudC5nZXRPdXRlckhlaWdodCgpLFxuICAgICAgd2lkdGg6IHRoaXMuZWxlbWVudC5nZXRPdXRlcldpZHRoKCksXG4gICAgICB4OiBldmVudC5zY3JlZW5YLFxuICAgICAgeTogZXZlbnQuc2NyZWVuWVxuICAgIH07XG5cbiAgICB0aGlzLmVsZW1lbnQuc2V0U3R5bGUoJ3pJbmRleCcsIHRoaXMub2Zmc2V0LnpJbmRleCArIDEwKTtcblxuICAgIC8vIFJlbW92ZSBvbGQgbGlzdGVuZXJzXG4gICAgUHJpbWVEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVNb3VzZU1vdmUpO1xuICAgIFByaW1lRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZU1vdXNlVXApO1xuXG4gICAgLy8gQXR0YWNoIGFsbCB0aGUgZXZlbnRzXG4gICAgUHJpbWVEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLl9oYW5kbGVNb3VzZU1vdmUpO1xuICAgIFByaW1lRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuX2hhbmRsZU1vdXNlVXApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUgTW91c2UgTW92ZSBldmVudCBmb3IgdGhlIGJvZHkgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIG1vdXNlIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgIGNvbnN0IHhEaWZmID0gZXZlbnQuc2NyZWVuWCAtIHRoaXMub2Zmc2V0Lng7XG4gICAgY29uc3QgeURpZmYgPSBldmVudC5zY3JlZW5ZIC0gdGhpcy5vZmZzZXQueTtcbiAgICB0aGlzLm9mZnNldC54ID0gZXZlbnQuc2NyZWVuWDtcbiAgICB0aGlzLm9mZnNldC55ID0gZXZlbnQuc2NyZWVuWTtcbiAgICB0aGlzLmVsZW1lbnQuc2V0TGVmdCh0aGlzLmVsZW1lbnQuZ2V0TGVmdCgpICsgeERpZmYpO1xuICAgIHRoaXMuZWxlbWVudC5zZXRUb3AodGhpcy5lbGVtZW50LmdldFRvcCgpICsgeURpZmYpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUgTW91c2UgVXAgZXZlbnQgZm9yIHRoaXMgZHJhZ2dhYmxlIHdpZGdldC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVNb3VzZVVwKCkge1xuICAgIFByaW1lRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5faGFuZGxlTW91c2VNb3ZlKTtcbiAgICBQcmltZURvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCB0aGlzLl9oYW5kbGVNb3VzZVVwKTtcbiAgICB0aGlzLmVsZW1lbnQuc2V0U3R5bGUoJ3pJbmRleCcsIHRoaXMub2Zmc2V0LnpJbmRleCk7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgfVxufVxuXG5leHBvcnQge0RyYWdnYWJsZX1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCwgSW52ZXJzb2Z0IEluYy4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCxcbiAqIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtPdmVybGF5fSBmcm9tIFwiLi9PdmVybGF5LmpzXCI7XG5pbXBvcnQge1ByaW1lRG9jdW1lbnR9IGZyb20gXCIuLi9QcmltZURvY3VtZW50LmpzXCI7XG5pbXBvcnQge1ByaW1lUmVxdWVzdH0gZnJvbSBcIi4uL1ByaW1lUmVxdWVzdC5qc1wiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4uL1V0aWxzLmpzXCI7XG5pbXBvcnQge1ByaW1lV2luZG93fSBmcm9tIFwiLi4vV2luZG93LmpzXCI7XG5pbXBvcnQge0RyYWdnYWJsZX0gZnJvbSBcIi4vRHJhZ2dhYmxlLmpzXCI7XG5cbmNsYXNzIEFKQVhEaWFsb2cge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBkaWFsb2cgYm94LCB3aGljaCBpcyBkeW5hbWljYWxseSBidWlsdCBhbmQgdGhlbiBwb3B1bGF0ZWQgd2l0aCB0aGUgSFRNTCByZXR1cm5lZCBmcm9tIGFuIEFKQVggY2FsbC5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5kcmFnZ2FibGUgPSBudWxsO1xuICAgIHRoaXMuZWxlbWVudCA9IG51bGw7XG4gICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgIHRoaXMuX3NldEluaXRpYWxPcHRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBkaWFsb2csIGRlc3Ryb3lzIHRoZSBIVE1MIGFuZCB1cGRhdGVzIG9yIGhpZGVzIHRoZSBvdmVybGF5LlxuICAgKiBAcmV0dXJucyB7QUpBWERpYWxvZ30gVGhpcy5cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIGlmICh0aGlzLmRyYWdnYWJsZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5kcmFnZ2FibGUuZGVzdHJveSgpO1xuICAgICAgdGhpcy5kcmFnZ2FibGUgPSBudWxsO1xuICAgIH1cblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRnJvbURPTSgpO1xuICAgICAgdGhpcy5lbGVtZW50ID0gbnVsbDtcblxuICAgICAgY29uc3QgaGlnaGVzdFpJbmRleCA9IHRoaXMuX2RldGVybWluZVpJbmRleCgpO1xuICAgICAgaWYgKGhpZ2hlc3RaSW5kZXggIT09IDApIHtcbiAgICAgICAgT3ZlcmxheS5pbnN0YW5jZS5zZXRaSW5kZXgoaGlnaGVzdFpJbmRleCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPdmVybGF5Lmluc3RhbmNlLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLm9wdGlvbnMuY2xvc2VUaW1lb3V0KTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc3Ryb3lzIHRoZSBkaWFsb2cgYnkgY2FsbGluZyB0aGUgY2xvc2UgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtBSkFYRGlhbG9nfSBUaGlzLlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIGRpYWxvZy5cbiAgICogQHJldHVybnMge0FKQVhEaWFsb2d9IFRoaXMuXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBkaWFsb2cgYnkgbWFraW5nIHRoZSBBSkFYIEdFVCByZXF1ZXN0IHRvIHRoZSBnaXZlbiBVUkkgYW5kIHRoZSBvcGVuaW5nIHRoZW4gZGlhbG9nLlxuICAgKlxuICAgKiBAcGFyYW0gdXJpIHtzdHJpbmd9IFRoZSBVUkkgdG8gbWFrZSB0aGUgQUpBWCBHRVQgcmVxdWVzdCB0by5cbiAgICogQHJldHVybnMge0FKQVhEaWFsb2d9IFRoaXMuXG4gICAqL1xuICBvcGVuKHVyaSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSB0aGlzLm9wdGlvbnMuYWpheFJlcXVlc3QgfHwgbmV3IFByaW1lUmVxdWVzdCh1cmksICdHRVQnKTtcbiAgICByZXF1ZXN0LndpdGhTdWNjZXNzSGFuZGxlcih0aGlzLl9oYW5kbGVBSkFYRGlhbG9nUmVzcG9uc2UpXG4gICAgICAgIC53aXRoRXJyb3JIYW5kbGVyKHRoaXMuX2hhbmRsZUFKQVhEaWFsb2dSZXNwb25zZSlcbiAgICAgICAgLmdvKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIGRpYWxvZyBieSBtYWtpbmcgdGhlIEFKQVggUE9TVCByZXF1ZXN0IHRvIHRoZSBnaXZlbiBVUkkgd2l0aCB0aGUgZ2l2ZW4gZm9ybSBhbmQgZXh0cmEgZGF0YSAob3B0aW9uYWwpXG4gICAqIGFuZCB0aGVuIG9wZW5pbmcgdGhlIGRpYWxvZy5cbiAgICpcbiAgICogQHBhcmFtIHVyaSB7c3RyaW5nfSBUaGUgVVJJIHRvIG1ha2UgdGhlIEFKQVggUE9TVCByZXF1ZXN0IHRvLlxuICAgKiBAcGFyYW0gZm9ybSB7SFRNTEZvcm1FbGVtZW50fFByaW1lRWxlbWVudH0gVGhlIEZvcm0gZWxlbWVudCB0byByZXRyaWV2ZSB0aGUgZGF0YSBmcm9tLlxuICAgKiBAcGFyYW0gZXh0cmFEYXRhIFtleHRyYURhdGE9XSB7b2JqZWN0fSAoT3B0aW9uYWwpIEV4dHJhIGRhdGEgdG8gc2VuZCB3aXRoIHRoZSBQT1NULlxuICAgKiBAcmV0dXJucyB7QUpBWERpYWxvZ30gVGhpcy5cbiAgICovXG4gIG9wZW5Qb3N0KHVyaSwgZm9ybSwgZXh0cmFEYXRhKSB7XG4gICAgbmV3IFByaW1lUmVxdWVzdCh1cmksICdQT1NUJylcbiAgICAgICAgLndpdGhEYXRhRnJvbUZvcm0oZm9ybSlcbiAgICAgICAgLndpdGhEYXRhKGV4dHJhRGF0YSlcbiAgICAgICAgLndpdGhTdWNjZXNzSGFuZGxlcih0aGlzLl9oYW5kbGVBSkFYRGlhbG9nUmVzcG9uc2UpXG4gICAgICAgIC5nbygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIEhUTUwgY29udGVudHMgb2YgdGhlIGRpYWxvZy5cbiAgICpcbiAgICogQHBhcmFtIGh0bWwge1N0cmluZ30gVGhlIEhUTUwuXG4gICAqIEByZXR1cm5zIHtBSkFYRGlhbG9nfSBUaGlzLlxuICAgKi9cbiAgc2V0SFRNTChodG1sKSB7XG4gICAgdGhpcy5lbGVtZW50LnNldEhUTUwoaHRtbCk7XG4gICAgdGhpcy5faW5pdGlhbGl6ZURpYWxvZygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYW55IGFkZGl0aW9uYWwgY2xhc3NlcyB0aGF0IHNob3VsZCBiZSBvbiB0aGUgZGlhbG9nLlxuICAgKlxuICAgKiBAcGFyYW0gY2xhc3NlcyB7c3RyaW5nfSBUaGUgbGlzdCBvZiBhZGRpdGlvbmFsIGNsYXNzZXMuXG4gICAqIEByZXR1cm5zIHtBSkFYRGlhbG9nfSBUaGlzLlxuICAgKi9cbiAgd2l0aEFkZGl0aW9uYWxDbGFzc2VzKGNsYXNzZXMpIHtcbiAgICB0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENsYXNzZXMgPSBjbGFzc2VzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlIHRoZSBkZWZhdWx0IEFqYXggUmVxdWVzdCB1c2VkIHRvIG9wZW4gdGhlIGRpYWxvZy4gVGhpcyBkb2VzIG5vdCBvdmVycmlkZSB0aGVcbiAgICogc3VjY2VzcyBhbmQgZXJyb3IgaGFuZGxlcnMuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHtQcmltZVJlcXVlc3R9IFRoZSBBamF4IFJlcXVlc3QgdG8gdXNlIHRvIG9wZW4gdGhlIGRpYWxvZy5cbiAgICogQHJldHVybnMge0FKQVhEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoQWpheFJlcXVlc3QocmVxdWVzdCkge1xuICAgIHRoaXMub3B0aW9ucy5hamF4UmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGRpYWxvZyBoYXMgYmVlbiBmZXRjaGVkIGFuZCByZW5kZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7QUpBWERpYWxvZ30gVGhpcy5cbiAgICovXG4gIHdpdGhDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIHRoaXMub3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNsYXNzIG5hbWUgZm9yIHRoZSBkaWFsb2cgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGNsYXNzTmFtZSB7c3RyaW5nfSBUaGUgY2xhc3MgbmFtZS5cbiAgICogQHJldHVybnMge0FKQVhEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoQ2xhc3NOYW1lKGNsYXNzTmFtZSkge1xuICAgIGlmIChjbGFzc05hbWUuaW5kZXhPZignICcpICE9PSAtMSkge1xuICAgICAgdGhyb3cgJ0ludmFsaWQgY2xhc3MgbmFtZSBbJyArIGNsYXNzTmFtZSArICddLiBZb3UgY2FuIHVzZSB0aGUgYWRkaXRpb25hbENsYXNzZXMgb3B0aW9ucyB0byBhZGQgbW9yZSBjbGFzc2VzLic7XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjbG9zZSBidXR0b24gZWxlbWVudCBzZWxlY3RvciB0aGF0IGlzIHVzZWQgdG8gc2V0dXAgdGhlIGNsb3NlIGJ1dHRvbiBpbiB0aGUgSFRNTCB0aGF0IHdhcyByZXR1cm5lZCBmcm9tXG4gICAqIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciB7c3RyaW5nfSBUaGUgZWxlbWVudCBzZWxlY3Rvci5cbiAgICogQHJldHVybnMge0FKQVhEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoQ2xvc2VCdXR0b25FbGVtZW50U2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICB0aGlzLm9wdGlvbnMuY2xvc2VCdXR0b25FbGVtZW50U2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lb3V0IHVzZWQgaW4gdGhlIGNsb3NlIG1ldGhvZCB0byBhbGxvdyBmb3IgdHJhbnNpdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IHtpbnR9IFRoZSB0aW1lb3V0LlxuICAgKiBAcmV0dXJucyB7QUpBWERpYWxvZ30gVGhpcy5cbiAgICovXG4gIHdpdGhDbG9zZVRpbWVvdXQodGltZW91dCkge1xuICAgIHRoaXMub3B0aW9ucy5jbG9zZVRpbWVvdXQgPSB0aW1lb3V0O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRyYWdnYWJsZSBlbGVtZW50IHNlbGVjdG9yIHRoYXQgaXMgdXNlZCBmb3IgdGhlIERyYWdnYWJsZVdpZGdldC5cbiAgICpcbiAgICogQHBhcmFtIHNlbGVjdG9yIHtzdHJpbmd9IFRoZSBlbGVtZW50IHNlbGVjdG9yLlxuICAgKiBAcmV0dXJucyB7QUpBWERpYWxvZ30gVGhpcy5cbiAgICovXG4gIHdpdGhEcmFnZ2FibGVCdXR0b25FbGVtZW50U2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgICB0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlRWxlbWVudFNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhbiBlcnJvciBjYWxsYmFjayBmb3IgQUpBWCBmb3JtIGhhbmRsaW5nLiBUaGlzIGlzIGNhbGxlZCBhZnRlciBhIGZhaWxlZCBmb3JtIHN1Ym1pc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsYmFjayB7RnVuY3Rpb259IFRoZSBjYWxsYmFjayBmdW5jdGlvbi4gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHdpbGwgY2FsbGVkIHdpdGggdHdvIHBhcmFtZXRlcnMsXG4gICAqICAgICAgICB0aGUgZmlyc3QgaXMgYSByZWZlcmVuY2UgdGhpcyBvYmplY3QsIHRoZSBzZWNvbmQgaXMgdGhlIFhNTEh0dHBSZXF1ZXN0IG9iamVjdC5cbiAgICogQHJldHVybnMge0FKQVhEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoRm9ybUVycm9yQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICB0aGlzLm9wdGlvbnMuZm9ybUVycm9yQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHdoZXRoZXIgb3Igbm90IGZvcm1zIGluc2lkZSB0aGUgZGlhbG9nIGFyZSBoYW5kbGVkIHZpYSBBSkFYIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIGVuYWJsZWQge2Jvb2xlYW59IFRoZSBjaG9pY2UuXG4gICAqIEByZXR1cm5zIHtBSkFYRGlhbG9nfSBUaGlzLlxuICAgKi9cbiAgd2l0aEZvcm1IYW5kbGluZyhlbmFibGVkKSB7XG4gICAgdGhpcy5vcHRpb25zLmZvcm1IYW5kbGluZyA9IGVuYWJsZWQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHByZS1zdWJtaXQgY2FsbGJhY2sgZm9yIEFKQVggZm9ybSBoYW5kbGluZy4gVGhpcyBpcyBjYWxsZWQgYmVmb3JlIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7QUpBWERpYWxvZ30gVGhpcy5cbiAgICovXG4gIHdpdGhGb3JtUHJlU3VibWl0Q2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICB0aGlzLm9wdGlvbnMuZm9ybVByZVN1Ym1pdENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIHN1Y2Nlc3MgY2FsbGJhY2sgZm9yIEFKQVggZm9ybSBoYW5kbGluZy4gVGhpcyBpcyBjYWxsZWQgYWZ0ZXIgYSBzdWNjZXNzZnVsIGZvcm0gc3VibWlzc2lvbi5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrIHtGdW5jdGlvbn0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLiBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBjYWxsZWQgd2l0aCB0d28gcGFyYW1ldGVycyxcbiAgICogICAgICAgIHRoZSBmaXJzdCBpcyBhIHJlZmVyZW5jZSB0aGlzIG9iamVjdCwgdGhlIHNlY29uZCBpcyB0aGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LlxuICAgKiBAcmV0dXJucyB7QUpBWERpYWxvZ30gVGhpcy5cbiAgICovXG4gIHdpdGhGb3JtU3VjY2Vzc0NhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vcHRpb25zLmZvcm1TdWNjZXNzQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbW9yZSB0aGFuIG9uZSBvcHRpb24gYXQgYSB0aW1lIGJ5IHByb3ZpZGluZyBhIG1hcCBvZiBrZXkgdmFsdWUgcGFpcnMuIFRoaXMgaXMgY29uc2lkZXJlZCBhbiBhZHZhbmNlZFxuICAgKiBtZXRob2QgdG8gc2V0IG9wdGlvbnMgb24gdGhlIHdpZGdldC4gVGhlIGNhbGxlciBuZWVkcyB0byBrbm93IHdoYXQgcHJvcGVydGllcyBhcmUgdmFsaWQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBLZXkgdmFsdWUgcGFpciBvZiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtBSkFYRGlhbG9nfSBUaGlzLlxuICAgKi9cbiAgd2l0aE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIFByaXZhdGUgbWV0aG9kc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICBfZGV0ZXJtaW5lWkluZGV4KCkge1xuICAgIGxldCBoaWdoZXN0WkluZGV4ID0gMDtcbiAgICBQcmltZURvY3VtZW50LnF1ZXJ5KCcuJyArIHRoaXMub3B0aW9ucy5jbGFzc05hbWUpLmVhY2goZnVuY3Rpb24oZGlhbG9nKSB7XG4gICAgICBjb25zdCB6SW5kZXggPSBwYXJzZUludChkaWFsb2cuZ2V0Q29tcHV0ZWRTdHlsZSgpWyd6SW5kZXgnXSk7XG4gICAgICBpZiAoZGlhbG9nLmlzVmlzaWJsZSgpICYmIHpJbmRleCA+IGhpZ2hlc3RaSW5kZXgpIHtcbiAgICAgICAgaGlnaGVzdFpJbmRleCA9IHpJbmRleDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaGlnaGVzdFpJbmRleDtcbiAgfVxuXG4gIF9oYW5kbGVDbG9zZUNsaWNrRXZlbnQoZXZlbnQpIHtcbiAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIF9oYW5kbGVBSkFYRGlhbG9nUmVzcG9uc2UoeGhyKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8ZGl2Lz4nLCB7Y2xhc3M6IHRoaXMub3B0aW9ucy5jbGFzc05hbWUgKyAnICcgKyB0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENsYXNzZXN9KS5hcHBlbmRUbyhkb2N1bWVudC5ib2R5KTtcbiAgICB0aGlzLnNldEhUTUwoeGhyLnJlc3BvbnNlVGV4dCk7XG4gIH1cblxuICBfaGFuZGxlQUpBWEZvcm1FcnJvcih4aHIpIHtcbiAgICB0aGlzLnNldEhUTUwoeGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgdGhpcy5mb3JtID0gdGhpcy5lbGVtZW50LnF1ZXJ5Rmlyc3QoJ2Zvcm0nKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLl9oYW5kbGVBSkFYRm9ybVN1Ym1pdCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmZvcm1FcnJvckNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZm9ybUVycm9yQ2FsbGJhY2sodGhpcywgeGhyKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5kcmFnZ2FibGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuZHJhZ2dhYmxlLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZUVsZW1lbnRTZWxlY3RvciAhPT0gbnVsbCAmJiB0aGlzLmVsZW1lbnQucXVlcnlGaXJzdCh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlRWxlbWVudFNlbGVjdG9yKSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5kcmFnZ2FibGUgPSBuZXcgRHJhZ2dhYmxlKHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZUVsZW1lbnRTZWxlY3RvcikuaW5pdGlhbGl6ZSgpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVBSkFYRm9ybVN1Y2Nlc3MoeGhyKSB7XG4gICAgaWYgKHRoaXMub3B0aW9ucy5mb3JtU3VjY2Vzc0NhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZm9ybVN1Y2Nlc3NDYWxsYmFjayh0aGlzLCB4aHIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzdWNjZXNzVVJJID0gdGhpcy5mb3JtLmdldERhdGFTZXQoKVsnYWpheFN1Y2Nlc3NVcmknXTtcbiAgICAgIGlmIChzdWNjZXNzVVJJICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzc1VSSTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfaGFuZGxlQUpBWEZvcm1TdWJtaXQoZXZlbnQpIHtcbiAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5mb3JtUHJlU3VibWl0Q2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5mb3JtUHJlU3VibWl0Q2FsbGJhY2sodGhpcyk7XG4gICAgfVxuXG4gICAgbmV3IFByaW1lUmVxdWVzdCh0aGlzLmZvcm0uZ2V0QXR0cmlidXRlKCdhY3Rpb24nKSwgdGhpcy5mb3JtLmdldEF0dHJpYnV0ZSgnbWV0aG9kJykpXG4gICAgICAgIC53aXRoRGF0YUZyb21Gb3JtKHRoaXMuZm9ybSlcbiAgICAgICAgLndpdGhTdWNjZXNzSGFuZGxlcih0aGlzLl9oYW5kbGVBSkFYRm9ybVN1Y2Nlc3MpXG4gICAgICAgIC53aXRoRXJyb3JIYW5kbGVyKHRoaXMuX2hhbmRsZUFKQVhGb3JtRXJyb3IpXG4gICAgICAgIC5nbygpO1xuICB9XG5cbiAgX2luaXRpYWxpemVEaWFsb2coKSB7XG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5KHRoaXMub3B0aW9ucy5jbG9zZUJ1dHRvbkVsZW1lbnRTZWxlY3RvcikuZWFjaChmdW5jdGlvbihlKSB7XG4gICAgICBlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xvc2VDbGlja0V2ZW50KTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgLy8gT25seSBzZXQgdGhlIHotaW5kZXggdXBvbiBmaXJzdCBvcGVuXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICBjb25zdCBoaWdoZXN0WkluZGV4ID0gdGhpcy5fZGV0ZXJtaW5lWkluZGV4KCk7XG4gICAgICBPdmVybGF5Lmluc3RhbmNlLm9wZW4oaGlnaGVzdFpJbmRleCArIHRoaXMub3B0aW9ucy56SW5kZXhPZmZzZXQpO1xuICAgICAgdGhpcy5lbGVtZW50LnNldFN0eWxlKCd6SW5kZXgnLCAoaGlnaGVzdFpJbmRleCArIHRoaXMub3B0aW9ucy56SW5kZXhPZmZzZXQgKyAxMCkudG9TdHJpbmcoKSk7XG4gICAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICB9XG5cbiAgICAvLyBDYWxsIHRoZSBjYWxsYmFjayBiZWZvcmUgcG9zaXRpb25pbmcgdG8gZW5zdXJlIGFsbCBjaGFuZ2VzIHRvIHRoZSBkaWFsb2cgaGF2ZSBiZWVuIG1hZGVcbiAgICBpZiAodGhpcy5vcHRpb25zLmNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY2FsbGJhY2sodGhpcyk7XG4gICAgfVxuXG4gICAgLy8gU2V0dXAgZm9ybXMgaWYgZW5hYmxlZFxuICAgIGlmICh0aGlzLm9wdGlvbnMuZm9ybUhhbmRsaW5nKSB7XG4gICAgICB0aGlzLmZvcm0gPSB0aGlzLmVsZW1lbnQucXVlcnlGaXJzdCgnZm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX2hhbmRsZUFKQVhGb3JtU3VibWl0KTtcbiAgICB9XG5cbiAgICAvLyBPbmx5IHNldCB0aGUgcG9zaXRpb24gb2YgdGhlIGRpYWxvZyB3aGVuIHdlIGZpcnN0IG9wZW4gaXQsIGlmIHNvbWVvbmUgY2FsbHMgc2V0SFRNTCBvbiB0aGUgZGlhbG9nIHdlIGFyZSBub3QgcmVzaXppbmcgaXQuXG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICAvLyBQb3NpdGlvbiB0aGUgZml4ZWQgZGlhbG9nIGluIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlblxuICAgICAgY29uc3Qgd2luZG93SGVpZ2h0ID0gUHJpbWVXaW5kb3cuZ2V0SW5uZXJIZWlnaHQoKTtcbiAgICAgIGNvbnN0IGRpYWxvZ0hlaWdodCA9IHRoaXMuZWxlbWVudC5nZXRIZWlnaHQoKTtcbiAgICAgIHRoaXMuZWxlbWVudC5zZXRUb3AoKCh3aW5kb3dIZWlnaHQgLSBkaWFsb2dIZWlnaHQpIC8gMikgLSAyMCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnZ2FibGVFbGVtZW50U2VsZWN0b3IgIT09IG51bGwgJiYgdGhpcy5lbGVtZW50LnF1ZXJ5Rmlyc3QodGhpcy5vcHRpb25zLmRyYWdnYWJsZUVsZW1lbnRTZWxlY3RvcikgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuZHJhZ2dhYmxlID0gbmV3IERyYWdnYWJsZSh0aGlzLmVsZW1lbnQsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGVFbGVtZW50U2VsZWN0b3IpLmluaXRpYWxpemUoKTtcbiAgICB9XG5cbiAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGluaXRpYWwgb3B0aW9ucyBmb3IgdGhpcyB3aWRnZXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0SW5pdGlhbE9wdGlvbnMoKSB7XG4gICAgLy8gRGVmYXVsdHNcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBhZGRpdGlvbmFsQ2xhc3NlczogJycsXG4gICAgICBhamF4UmVxdWVzdDogbnVsbCxcbiAgICAgIGNhbGxiYWNrOiBudWxsLFxuICAgICAgY2xhc3NOYW1lOiAncHJpbWUtZGlhbG9nJyxcbiAgICAgIGNsb3NlQnV0dG9uRWxlbWVudFNlbGVjdG9yOiAnW2RhdGEtZGlhbG9nLXJvbGU9XCJjbG9zZS1idXR0b25cIl0nLFxuICAgICAgY2xvc2VUaW1lb3V0OiAyMDAsXG4gICAgICBkcmFnZ2FibGVFbGVtZW50U2VsZWN0b3I6ICdbZGF0YS1kaWFsb2ctcm9sZT1cImRyYWdnYWJsZVwiXScsXG4gICAgICBmb3JtRXJyb3JDYWxsYmFjazogbnVsbCxcbiAgICAgIGZvcm1IYW5kbGluZzogZmFsc2UsXG4gICAgICBmb3JtUHJlU3VibWl0Q2FsbGJhY2s6IG51bGwsXG4gICAgICBmb3JtU3VjY2Vzc0NhbGxiYWNrOiBudWxsLFxuICAgICAgekluZGV4T2Zmc2V0OiAxMDAwXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQge0FKQVhEaWFsb2d9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBAY29uc3Qge3tLZXlzOiB7QkFDS1NQQUNFOiBudW1iZXIsIEVOVEVSOiBudW1iZXIsIEVTQ0FQRTogbnVtYmVyLCBTUEFDRTogbnVtYmVyLCBUQUI6IG51bWJlciwgTEVGVF9BUlJPVzogbnVtYmVyLCBVUF9BUlJPVzogbnVtYmVyLCBSSUdIVF9BUlJPVzogbnVtYmVyLCBET1dOX0FSUk9XOiBudW1iZXIsIERFTEVURTogbnVtYmVyfX0gRXZlbnRzfVxuICovXG5jb25zdCBFdmVudHMgPSB7XG4gIEtleXM6IHtcbiAgICBCQUNLU1BBQ0U6IDgsXG4gICAgRU5URVI6IDEzLFxuICAgIEVTQ0FQRTogMjcsXG4gICAgU1BBQ0U6IDMyLFxuICAgIFRBQjogOSxcbiAgICBMRUZUX0FSUk9XOiAzNyxcbiAgICBVUF9BUlJPVzogMzgsXG4gICAgUklHSFRfQVJST1c6IDM5LFxuICAgIERPV05fQVJST1c6IDQwLFxuICAgIERFTEVURTogNDZcbiAgfVxufTtcblxuZXhwb3J0IHtFdmVudHN9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDE4LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4vVXRpbHMuanNcIlxuXG5jb25zdCBQcmltZURhdGUgPSB7XG4gIERBWVNfSU5fTU9OVEg6IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXSxcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBob3VyIGluIGEgMTItaG91ciBmb3JtYXQuIEFNIGFuZCBQTSBhcmUgbm90IGNvbW11bmljYXRlZCBieSB0aGUgcmV0dXJuZWQgaG91ci5cbiAgICpcbiAgICogQHBhcmFtIGRhdGUge0RhdGV9IFRoZSBkYXRlIG9iamVjdCB0byByZXRyaWV2ZSB0aGUgaG91ciBmcm9tLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgaG91ciBvZiB0aGUgZGF5IGJldHdlZW4gMSBhbmQgMTIuXG4gICAqL1xuICBnZXRIb3VyT2ZEYXk6IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICByZXR1cm4gKGRhdGUuZ2V0SG91cnMoKSArIDI0KSAlIDEyIHx8IDEyO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcGFyYW0geWVhciBUaGUgeWVhci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBpcyBhIGxlYXAgeWVhciwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgKi9cbiAgaXNMZWFwWWVhcjogZnVuY3Rpb24oeWVhcikge1xuICAgIHJldHVybiAhKCh5ZWFyICUgNCkgfHwgKCEoeWVhciAlIDEwMCkgJiYgKHllYXIgJSA0MDApKSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGRheXMgaW4gdGhlIG1vbnRoLlxuICAgKiBAcGFyYW0geWVhciBUaGUgeWVhciwgdGhlIGRheXMgaW4gdGhlIG1vbnRoIG1heSBjaGFuZ2UgZHVyaW5nIGEgbGVhcCB5ZWFyLlxuICAgKiBAcGFyYW0gbW9udGggVGhlIG1vbnRoLlxuICAgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGRheXMgaW4gdGhlIG1vbnRoLlxuICAgKi9cbiAgbnVtYmVyT2ZEYXlzSW5Nb250aDogZnVuY3Rpb24oeWVhciwgbW9udGgpIHtcbiAgICBpZiAobW9udGggPT09IDEgJiYgdGhpcy5pc0xlYXBZZWFyKHllYXIpKSB7XG4gICAgICByZXR1cm4gMjk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcmltZURhdGUuREFZU19JTl9NT05USFttb250aF07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBnaXZlbiBudW1iZXIgb2YgZGF5cyB0byB0aGUgZ2l2ZW4gRGF0ZS5cbiAgICpcbiAgICogQHBhcmFtIGRhdGUge0RhdGV9IFRoZSBkYXRlIHRvIGFkZCB0aGUgZGF5cyB0by5cbiAgICogQHBhcmFtIG51bWJlciB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGRheXMgdG8gYWRkLlxuICAgKi9cbiAgcGx1c0RheXM6IGZ1bmN0aW9uKGRhdGUsIG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgbmV3RGF0ZSA9IGRhdGUuZ2V0RGF0ZSgpICsgbnVtYmVyO1xuICAgIGxldCBudW1iZXJPZkRheXNJbk1vbnRoID0gUHJpbWVEYXRlLm51bWJlck9mRGF5c0luTW9udGgoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkpO1xuXG4gICAgaWYgKG5ld0RhdGUgPiAwKSB7XG4gICAgICB3aGlsZSAobmV3RGF0ZSA+IG51bWJlck9mRGF5c0luTW9udGgpIHtcbiAgICAgICAgUHJpbWVEYXRlLnBsdXNNb250aHMoZGF0ZSwgMSk7XG4gICAgICAgIG5ld0RhdGUgPSBuZXdEYXRlIC0gbnVtYmVyT2ZEYXlzSW5Nb250aDtcbiAgICAgICAgbnVtYmVyT2ZEYXlzSW5Nb250aCA9IFByaW1lRGF0ZS5udW1iZXJPZkRheXNJbk1vbnRoKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpKTtcbiAgICAgIH1cblxuICAgICAgZGF0ZS5zZXREYXRlKG5ld0RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAobmV3RGF0ZSA8PSAwKSB7XG4gICAgICAgIFByaW1lRGF0ZS5wbHVzTW9udGhzKGRhdGUsIC0xKTtcbiAgICAgICAgbnVtYmVyT2ZEYXlzSW5Nb250aCA9IFByaW1lRGF0ZS5udW1iZXJPZkRheXNJbk1vbnRoKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpKTtcbiAgICAgICAgbmV3RGF0ZSA9IG5ld0RhdGUgKyBudW1iZXJPZkRheXNJbk1vbnRoO1xuICAgICAgfVxuXG4gICAgICBkYXRlLnNldERhdGUobmV3RGF0ZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBnaXZlbiBudW1iZXIgb2YgaG91cnMgdG8gdGhlIGdpdmVuIERhdGUuIFRoZSBudW1iZXIgY2FuIGJlIG5lZ2F0aXZlLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0ZSB7RGF0ZX0gVGhlIGRhdGUuXG4gICAqIEBwYXJhbSBudW1iZXIge051bWJlcn0gVGhlIG51bWJlciBvZiBob3VycyB0byBhZGQuXG4gICAqL1xuICBwbHVzSG91cnM6IGZ1bmN0aW9uKGRhdGUsIG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkZWx0YURheXMgPSBwYXJzZUludChudW1iZXIgLyAyNCk7XG4gICAgUHJpbWVEYXRlLnBsdXNEYXlzKGRhdGUsIGRlbHRhRGF5cyk7XG5cbiAgICBjb25zdCBkZWx0YUhvdXJzID0gbnVtYmVyICUgMjQ7XG4gICAgY29uc3QgbmV3SG91ciA9IGRhdGUuZ2V0SG91cnMoKSArIGRlbHRhSG91cnM7XG4gICAgaWYgKG5ld0hvdXIgPiAyMykge1xuICAgICAgUHJpbWVEYXRlLnBsdXNEYXlzKGRhdGUsIDEpO1xuICAgICAgZGF0ZS5zZXRIb3VycyhuZXdIb3VyIC0gMjQpO1xuICAgIH0gZWxzZSBpZiAobmV3SG91ciA8IDApIHtcbiAgICAgIFByaW1lRGF0ZS5wbHVzRGF5cyhkYXRlLCAtMSk7XG4gICAgICBkYXRlLnNldEhvdXJzKDI0ICsgbmV3SG91cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGUuc2V0SG91cnMobmV3SG91cik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBBZGRzIHRoZSBnaXZlbiBudW1iZXIgb2YgbWludXRlcyB0byB0aGUgZ2l2ZW4gRGF0ZS4gVGhlIG51bWJlciBjYW4gYmUgbmVnYXRpdmUuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRlIHtEYXRlfSBUaGUgZGF0ZS5cbiAgICogQHBhcmFtIG51bWJlciB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIG1pbnV0ZXMgdG8gYWRkLlxuICAgKi9cbiAgcGx1c01pbnV0ZXM6IGZ1bmN0aW9uKGRhdGUsIG51bWJlcikge1xuICAgIGlmIChudW1iZXIgPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkZWx0YUhvdXJzID0gcGFyc2VJbnQobnVtYmVyIC8gNjApO1xuICAgIFByaW1lRGF0ZS5wbHVzSG91cnMoZGF0ZSwgZGVsdGFIb3Vycyk7XG5cbiAgICBjb25zdCBkZWx0YU1pbnV0ZXMgPSBudW1iZXIgJSA2MDtcbiAgICBjb25zdCBuZXdNaW51dGUgPSBkYXRlLmdldE1pbnV0ZXMoKSArIGRlbHRhTWludXRlcztcbiAgICBpZiAobmV3TWludXRlID4gNjApIHtcbiAgICAgIFByaW1lRGF0ZS5wbHVzSG91cnMoZGF0ZSwgMSk7XG4gICAgICBkYXRlLnNldE1pbnV0ZXMobmV3TWludXRlIC0gNjApO1xuICAgIH0gZWxzZSBpZiAobmV3TWludXRlIDwgMCkge1xuICAgICAgUHJpbWVEYXRlLnBsdXNIb3VycyhkYXRlLCAtMSk7XG4gICAgICBkYXRlLnNldE1pbnV0ZXMoNjAgKyBuZXdNaW51dGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRlLnNldE1pbnV0ZXMobmV3TWludXRlKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGdpdmVuIG51bWJlciBvZiBtb250aHMgdG8gdGhlIGdpdmVuIERhdGUuIFRoZSBudW1iZXIgY2FuIGJlIG5lZ2F0aXZlLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0ZSB7RGF0ZX0gVGhlIGRhdGUuXG4gICAqIEBwYXJhbSBudW1iZXIge051bWJlcn0gVGhlIG51bWJlciBvZiBtb250aHMgdG8gYWRkLlxuICAgKi9cbiAgcGx1c01vbnRoczogZnVuY3Rpb24oZGF0ZSwgbnVtYmVyKSB7XG4gICAgaWYgKG51bWJlciA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBkZWx0YVllYXJzID0gcGFyc2VJbnQobnVtYmVyIC8gMTIpO1xuICAgIGxldCBkZWx0YU1vbnRocyA9IG51bWJlciAlIDEyO1xuICAgIGxldCBjdXJyZW50TW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgY29uc3QgbmV3TW9udGggPSBjdXJyZW50TW9udGggKyBkZWx0YU1vbnRocztcbiAgICBpZiAobmV3TW9udGggPCAwKSB7XG4gICAgICBkZWx0YVllYXJzLS07XG4gICAgICBkZWx0YU1vbnRocyA9IG5ld01vbnRoO1xuICAgICAgY3VycmVudE1vbnRoID0gMTI7XG4gICAgfSBlbHNlIGlmIChuZXdNb250aCA+PSAxMikge1xuICAgICAgZGVsdGFZZWFycysrO1xuICAgICAgZGVsdGFNb250aHMgPSBuZXdNb250aCAtIDEyO1xuICAgICAgY3VycmVudE1vbnRoID0gMDtcbiAgICB9XG5cbiAgICBkYXRlLnNldFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpICsgZGVsdGFZZWFycyk7XG4gICAgLy8gSWYgdGhlIGRheSBpcyAzMSBhbmQgeW91IHNldCBtb250aCB0byAxIChGZWJydWFyeSkgaXQgd2lsbCBhZGp1c3QgdG8gTWFyY2ggMyAoRmViIDI4ICsgMylcbiAgICBjb25zdCBhZGp1c3RlZE1vbnRoID0gY3VycmVudE1vbnRoICsgZGVsdGFNb250aHM7XG4gICAgaWYgKGRhdGUuZ2V0RGF0ZSgpID4gdGhpcy5EQVlTX0lOX01PTlRIW2FkanVzdGVkTW9udGhdKSB7XG4gICAgICBkYXRlLnNldERhdGUodGhpcy5EQVlTX0lOX01PTlRIW2FkanVzdGVkTW9udGhdKTtcbiAgICB9XG4gICAgZGF0ZS5zZXRNb250aChhZGp1c3RlZE1vbnRoKTtcbiAgfSxcblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIHNlY29uZHMgdG8gdGhlIGdpdmVuIERhdGUuIFRoZSBudW1iZXIgY2FuIGJlIG5lZ2F0aXZlLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0ZSB7RGF0ZX0gVGhlIGRhdGUuXG4gICAqIEBwYXJhbSBudW1iZXIge051bWJlcn0gVGhlIG51bWJlciBvZiBzZWNvbmRzIHRvIGFkZC5cbiAgICovXG4gIHBsdXNTZWNvbmRzOiBmdW5jdGlvbihkYXRlLCBudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZGVsdGFNaW51dGVzID0gcGFyc2VJbnQobnVtYmVyIC8gNjApO1xuICAgIFByaW1lRGF0ZS5wbHVzTWludXRlcyhkYXRlLCBkZWx0YU1pbnV0ZXMpO1xuXG4gICAgY29uc3QgZGVsdGFTZWNvbmRzID0gbnVtYmVyICUgNjA7XG4gICAgY29uc3QgbmV3U2Vjb25kID0gZGF0ZS5nZXRTZWNvbmRzKCkgKyBkZWx0YVNlY29uZHM7XG4gICAgaWYgKG5ld1NlY29uZCA+IDYwKSB7XG4gICAgICBQcmltZURhdGUucGx1c01pbnV0ZXMoZGF0ZSwgMSk7XG4gICAgICBkYXRlLnNldFNlY29uZHMobmV3U2Vjb25kIC0gNjApO1xuICAgIH0gZWxzZSBpZiAobmV3U2Vjb25kIDwgMCkge1xuICAgICAgUHJpbWVEYXRlLnBsdXNNaW51dGVzKGRhdGUsIC0xKTtcbiAgICAgIGRhdGUuc2V0U2Vjb25kcyg2MCArIG5ld1NlY29uZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGUuc2V0U2Vjb25kcyhuZXdTZWNvbmQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQWRkcyB0aGUgZ2l2ZW4gbnVtYmVyIG9mIHllYXJzIHRvIHRoZSBnaXZlbiBEYXRlLiBUaGUgbnVtYmVyIGNhbiBiZSBuZWdhdGl2ZS5cbiAgICpcbiAgICogQHBhcmFtIGRhdGUge0RhdGV9IFRoZSBkYXRlLlxuICAgKiBAcGFyYW0gbnVtYmVyIHtOdW1iZXJ9IFRoZSBudW1iZXIgb2YgeWVhcnMgdG8gYWRkLlxuICAgKi9cbiAgcGx1c1llYXJzOiBmdW5jdGlvbihkYXRlLCBudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyBudW1iZXIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBzdHJpbmcgaW4gc2ltcGxpZmllZCBleHRlbmRlZCBJU08gZm9ybWF0IChJU08gODYwMSkgdHJ1bmNhdGVkIHRvIG9ubHkgcmV0dXJuIFlZWVktTU0tREQuXG4gICAqXG4gICAqIEZvciBleGFtcGxlOiBuZXcgRGF0ZSgyMDE1LCA2LCA0KSAtLT4gMjAxNS0wNy0wNFxuICAgKlxuICAgKiBAcGFyYW0gZGF0ZSB7RGF0ZX0gVGhlIGRhdGUuXG4gICAqIEByZXR1cm5zIHtTdHJpbmd9IEEgZGF0ZSBzdHJpbmcgaW4gdGhlIGZvcm1hdCBZWVlZLU1NLURELlxuICAgKi9cbiAgdG9EYXRlT25seUlTT1N0cmluZzogZnVuY3Rpb24oZGF0ZSkge1xuICAgIGlmIChkYXRlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgICAgICsgJy0nICsgVXRpbHMubGVmdFBhZE51bWJlcihkYXRlLmdldE1vbnRoKCkgKyAxLCAyKVxuICAgICAgICAgICsgJy0nICsgVXRpbHMubGVmdFBhZE51bWJlcihkYXRlLmdldERhdGUoKSwgMik7XG4gICAgfVxuICAgIHRocm93IFR5cGVFcnJvcignZGF0ZSBwYXJhbWV0ZXIgbXVzdCBiZSBhIERhdGUgb2JqZWN0LicpO1xuICB9XG59O1xuXG5leHBvcnQge1ByaW1lRGF0ZX1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAxOCwgSW52ZXJzb2Z0IEluYy4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCxcbiAqIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7RXZlbnRzfSBmcm9tIFwiLi4vRXZlbnRzLmpzXCI7XG5pbXBvcnQge1ByaW1lRGF0ZX0gZnJvbSBcIi4uL0RhdGUuanNcIjtcbmltcG9ydCB7UHJpbWVEb2N1bWVudH0gZnJvbSBcIi4uL1ByaW1lRG9jdW1lbnQuanNcIjtcbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcblxuY29uc3QgU0hPUlRfREFZX05BTUVTID0gWydTdScsICdNbycsICdUdScsICdXZScsICdUaCcsICdGcicsICdTYSddO1xuY29uc3QgTU9OVEhTID0gWydKYW51YXJ5JywgJ0ZlYnJ1YXJ5JywgJ01hcmNoJywgJ0FwcmlsJywgJ01heScsICdKdW5lJywgJ0p1bHknLCAnQXVndXN0JywgJ1NlcHRlbWJlcicsICdPY3RvYmVyJywgJ05vdmVtYmVyJywgJ0RlY2VtYmVyJ107XG5jb25zdCBEQVRFX1NFUEFSQVRPUiA9ICcvJztcbmNvbnN0IFRJTUVfU0VQQVJBVE9SID0gJzonO1xuY29uc3QgQU1fUE0gPSBbJ0FNJywgJ1BNJ107XG5cbmNsYXNzIERhdGVUaW1lUGlja2VyIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgRGF0ZVRpbWVQaWNrZXIgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gaW5wdXQgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8RWxlbWVudHxFdmVudFRhcmdldH0gZWxlbWVudCBUaGUgUHJpbWUgRWxlbWVudCBmb3IgdGhlIERhdGVUaW1lUGlja2VyIHdpZGdldC5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IFByaW1lRWxlbWVudC53cmFwKGVsZW1lbnQpO1xuICAgIGlmICghdGhpcy5lbGVtZW50LmlzKCdpbnB1dCcpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgY2FuIG9ubHkgdXNlIERhdGVUaW1lUGlja2VyIHdpdGggYW4gaW5wdXQgZWxlbWVudCcpO1xuICAgIH1cblxuICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xuICAgIHRoaXMuY3VzdG9tRm9ybWF0SGFuZGxlciA9IG51bGw7XG4gICAgdGhpcy5fc2V0SW5pdGlhbE9wdGlvbnMoKTtcbiAgfTtcblxuICBzdGF0aWMgZ2V0IFNIT1JUX0RBWV9OQU1FUygpIHtcbiAgICByZXR1cm4gU0hPUlRfREFZX05BTUVTO1xuICB9XG5cbiAgc3RhdGljIGdldCBNT05USFMoKSB7XG4gICAgcmV0dXJuIE1PTlRIUztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgREFURV9TRVBBUkFUT1IoKSB7XG4gICAgcmV0dXJuIERBVEVfU0VQQVJBVE9SO1xuICB9XG5cbiAgc3RhdGljIGdldCBUSU1FX1NFUEFSQVRPUigpIHtcbiAgICByZXR1cm4gVElNRV9TRVBBUkFUT1I7XG4gIH1cblxuICBzdGF0aWMgZ2V0IEFNX1BNKCkge1xuICAgIHJldHVybiBBTV9QTTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIERhdGUgUGlja2VyIHdpZGdldC5cbiAgICpcbiAgICogQHJldHVybnMge0RhdGVUaW1lUGlja2VyfSBUaGlzIERhdGVUaW1lUGlja2VyLlxuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5kYXRlcGlja2VyLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG5cbiAgICAvLyBQYXVzZSBhIGJpdCB0byBjYW5jZWwgZm9jdXMgZXZlbnQgYW5kIGFsbG93IHRyYW5zaXRpb24gdG8gcGxheVxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRhdGVwaWNrZXIuaGlkZSgpO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5vcHRpb25zLmNsb3NlVGltZW91dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBtb250aHMgc2VsZWN0IGJveC5cbiAgICpcbiAgICogQHJldHVybnMge0RhdGVUaW1lUGlja2VyfSBUaGlzIERhdGVUaW1lUGlja2VyLlxuICAgKi9cbiAgY2xvc2VNb250aHNTZWxlY3QoKSB7XG4gICAgdGhpcy5tb250aHMucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5tb250aHMuaGlkZSgpO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5vcHRpb25zLmNsb3NlVGltZW91dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSB5ZWFycyBzZWxlY3QgYm94LlxuICAgKlxuICAgKiBAcmV0dXJucyB7RGF0ZVRpbWVQaWNrZXJ9IFRoaXMgRGF0ZVRpbWVQaWNrZXIuXG4gICAqL1xuICBjbG9zZVllYXJzU2VsZWN0KCkge1xuICAgIHRoaXMueWVhcnMucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy55ZWFycy5oaWRlKCk7XG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLm9wdGlvbnMuY2xvc2VUaW1lb3V0KTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgRGF0ZVRpbWVQaWNrZXIgV2lkZ2V0XG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuZGF0ZXBpY2tlci5yZW1vdmVGcm9tRE9NKCk7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljaylcbiAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRDbGljaylcbiAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleSk7XG4gICAgUHJpbWVEb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUdsb2JhbENsaWNrKTtcbiAgICBQcmltZURvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVHbG9iYWxLZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYXdzIHRoZSBjYWxlbmRhciB1c2luZyB0aGUgbW9udGggYW5kIHllYXIgZnJvbSB0aGUgZ2l2ZW4gRGF0ZSBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRlIHtEYXRlfSBUaGUgZGF0ZSB0byBkcmF3IHRoZSBjYWxlbmRhciBmb3IuXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lUGlja2VyfSBUaGlzIERhdGVUaW1lUGlja2VyLlxuICAgKi9cbiAgZHJhd0NhbGVuZGFyKGRhdGUpIHtcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICBjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIGNvbnN0IGZpcnN0RGF5ID0gbmV3IERhdGUoeWVhciwgbW9udGgsIDEpO1xuICAgIGNvbnN0IGZpcnN0RGF5T2ZNb250aCA9IGZpcnN0RGF5LmdldERheSgpO1xuICAgIGNvbnN0IGRheXNJbk1vbnRoID0gUHJpbWVEYXRlLm51bWJlck9mRGF5c0luTW9udGgoeWVhciwgbW9udGgpO1xuICAgIGNvbnN0IHVzZWQgPSBmaXJzdERheU9mTW9udGggKyBkYXlzSW5Nb250aDtcbiAgICBjb25zdCB3ZWVrc0luTW9udGggPSBNYXRoLmNlaWwodXNlZCAvIDcpO1xuXG4gICAgbGV0IHJvd3MgPSAnJztcbiAgICBsZXQgc3RhcnREYXkgPSAxO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgd2Vla3NJbk1vbnRoOyBpKyspIHtcbiAgICAgIGNvbnN0IHN0YXJ0RGF5T2ZXZWVrID0gaSA9PT0gMCA/IGZpcnN0RGF5T2ZNb250aCA6IDA7XG4gICAgICByb3dzICs9IHRoaXMuX2J1aWxkQ2FsZW5kYXJXZWVrKGRhdGUsIHN0YXJ0RGF5T2ZXZWVrLCBzdGFydERheSwgZGF5c0luTW9udGgpO1xuICAgICAgc3RhcnREYXkgKz0gNyAtIHN0YXJ0RGF5T2ZXZWVrOyAvLyBpbmNyZW1lbnQgYnkgNyBhZGp1c3RlZCBieSBhIHdlZWsgZGF5IG9mIHdlZWsgb2Zmc2V0XG4gICAgfVxuXG4gICAgdGhpcy5jYWxlbmRhckJvZHkuc2V0SFRNTChyb3dzKTtcblxuICAgIC8vIHVwZGF0ZSBkYXRhLSBhdHRyaWJ1dGVzXG4gICAgdGhpcy5tb250aERpc3BsYXkuc2V0RGF0YUF0dHJpYnV0ZSgnbW9udGgnLCBtb250aCk7XG4gICAgdGhpcy55ZWFyRGlzcGxheS5zZXREYXRhQXR0cmlidXRlKCd5ZWFyJywgeWVhcik7XG5cbiAgICAvLyB1cGRhdGUgdGV4dFxuICAgIHRoaXMubW9udGhEaXNwbGF5LnNldFRleHRDb250ZW50KERhdGVUaW1lUGlja2VyLk1PTlRIU1ttb250aF0pO1xuICAgIHRoaXMueWVhckRpc3BsYXkuc2V0VGV4dENvbnRlbnQoeWVhcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWJ1aWxkcyB0aGUgZW50aXJlIHdpZGdldCB1c2luZyB0aGUgZGF0ZSB2YWx1ZS4gRXZlbiBpZiB0aGUgdXNlciBoYXMgbW92ZWQgdG8gYSBkaWZmZXJlbnQgbW9udGggZGlzcGxheSwgdGhpcyB3aWxsXG4gICAqIHJlYnVpbGQgdGhlIHRhYmxlIGNvbXBsZXRlbHkuXG4gICAqXG4gICAqIEByZXR1cm5zIHtEYXRlVGltZVBpY2tlcn0gVGhpcyBEYXRlVGltZVBpY2tlci5cbiAgICovXG4gIGluaXRpYWxpemUoKSB7XG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmVsZW1lbnQuZ2V0VmFsdWUoKTtcbiAgICBpZiAodmFsdWUgPT09ICcnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgeWVhciA9IHRoaXMuZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgIGNvbnN0IHRpbWVTZXBhcmF0b3IgPSBgPHNwYW4+JHtEYXRlVGltZVBpY2tlci5USU1FX1NFUEFSQVRPUn08L3NwYW4+YDtcbiAgICBjb25zdCBkYXRlU2VwYXJhdG9yID0gYDxzcGFuPiR7RGF0ZVRpbWVQaWNrZXIuREFURV9TRVBBUkFUT1J9PC9zcGFuPmA7XG4gICAgbGV0IGh0bWwgPVxuICAgICAgICBgPGRpdiBjbGFzcz1cIiR7dGhpcy5vcHRpb25zLmNsYXNzTmFtZSB9XCI+XG4gIDxoZWFkZXI+XG4gICAgPHNwYW4gY2xhc3M9XCJwcmV2XCI+JiM5NjY0Ozwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz1cIm1vbnRoXCI+PC9zcGFuPlxuICAgIDxzcGFuIGNsYXNzPVwieWVhclwiPjwvc3Bhbj5cbiAgICA8c3BhbiBjbGFzcz1cIm5leHRcIj4mIzk2NTQ7PC9zcGFuPlxuICA8L2hlYWRlcj5cbiAgPHRhYmxlPlxuICAgIDx0aGVhZD5cbiAgICAgIDx0cj5cbiAgICAgICAgPHRoPiR7RGF0ZVRpbWVQaWNrZXIuU0hPUlRfREFZX05BTUVTWzBdfTwvdGg+XG4gICAgICAgIDx0aD4ke0RhdGVUaW1lUGlja2VyLlNIT1JUX0RBWV9OQU1FU1sxXX08L3RoPlxuICAgICAgICA8dGg+JHtEYXRlVGltZVBpY2tlci5TSE9SVF9EQVlfTkFNRVNbMl19PC90aD5cbiAgICAgICAgPHRoPiR7RGF0ZVRpbWVQaWNrZXIuU0hPUlRfREFZX05BTUVTWzNdfTwvdGg+XG4gICAgICAgIDx0aD4ke0RhdGVUaW1lUGlja2VyLlNIT1JUX0RBWV9OQU1FU1s0XX08L3RoPlxuICAgICAgICA8dGg+JHtEYXRlVGltZVBpY2tlci5TSE9SVF9EQVlfTkFNRVNbNV19PC90aD5cbiAgICAgICAgPHRoPiR7RGF0ZVRpbWVQaWNrZXIuU0hPUlRfREFZX05BTUVTWzZdfTwvdGg+XG4gICAgICA8L3RyPlxuICAgIDwvdGhlYWQ+XG4gICAgPHRib2R5PlxuICAgIDwvdGJvZHk+XG4gIDwvdGFibGU+XG4gIDxkaXYgY2xhc3M9XCJpbnB1dHNcIj5cbiAgICA8ZGl2IGNsYXNzPVwiZGF0ZVwiPlxuICAgICAgPGlucHV0IHNpemU9XCIyXCIgbWF4bGVuZ3RoPVwiMlwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm1vbnRoXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIvPiR7ZGF0ZVNlcGFyYXRvcn1cbiAgICAgIDxpbnB1dCBzaXplPVwiMlwiIG1heGxlbmd0aD1cIjJcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJkYXlcIiBhdXRvY29tcGxldGU9XCJvZmZcIi8+JHtkYXRlU2VwYXJhdG9yfVxuICAgICAgPGlucHV0IHNpemU9XCI0XCIgbWF4bGVuZ3RoPVwiNFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInllYXJcIiBhdXRvY29tcGxldGU9XCJvZmZcIi8+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInRpbWVcIj5cbiAgICAgIDxpbnB1dCBzaXplPVwiMlwiIG1heGxlbmd0aD1cIjJcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJob3VyXCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIvPiR7dGltZVNlcGFyYXRvcn1cbiAgICAgIDxpbnB1dCBzaXplPVwiMlwiIG1heGxlbmd0aD1cIjJcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJtaW51dGVcIiBhdXRvY29tcGxldGU9XCJvZmZcIi8+JHt0aW1lU2VwYXJhdG9yfVxuICAgICAgPGlucHV0IHNpemU9XCIyXCIgbWF4bGVuZ3RoPVwiMlwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlY29uZFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiLz5cbiAgICAgIDxpbnB1dCBzaXplPVwiMlwiIG1heGxlbmd0aD1cIjJcIiB0eXBlPVwidGV4dFwiIG5hbWU9XCJhbV9wbVwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiLz5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5gO1xuICAgIFByaW1lRG9jdW1lbnQuYXBwZW5kSFRNTChodG1sKTtcbiAgICB0aGlzLmRhdGVwaWNrZXIgPSBQcmltZURvY3VtZW50LnF1ZXJ5TGFzdCgnLicgKyB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lKS5oaWRlKCk7XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlSW5wdXRDbGljayk7XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVJbnB1dEtleSk7XG5cbiAgICB0aGlzLmNhbGVuZGFyQm9keSA9IHRoaXMuZGF0ZXBpY2tlci5xdWVyeUZpcnN0KCd0YWJsZSB0Ym9keScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlRGF5Q2xpY2spO1xuICAgIHRoaXMubW9udGhEaXNwbGF5ID0gdGhpcy5kYXRlcGlja2VyLnF1ZXJ5Rmlyc3QoJ2hlYWRlciAubW9udGgnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU1vbnRoRXhwYW5kKTtcbiAgICB0aGlzLnllYXJEaXNwbGF5ID0gdGhpcy5kYXRlcGlja2VyLnF1ZXJ5Rmlyc3QoJ2hlYWRlciAueWVhcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlWWVhckV4cGFuZCk7XG5cbiAgICB0aGlzLnRpbWUgPSB0aGlzLmRhdGVwaWNrZXIucXVlcnlGaXJzdCgnLnRpbWUnKTtcbiAgICB0aGlzLmlucHV0cyA9IHRoaXMuZGF0ZXBpY2tlci5xdWVyeUZpcnN0KCdkaXYuaW5wdXRzJyk7XG4gICAgdGhpcy5ob3VySW5wdXQgPSB0aGlzLmlucHV0cy5xdWVyeUZpcnN0KCdpbnB1dFtuYW1lPWhvdXJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlRGF0ZVRpbWVDaGFuZ2UpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVIb3VyS2V5KTtcbiAgICB0aGlzLm1pbnV0ZUlucHV0ID0gdGhpcy5pbnB1dHMucXVlcnlGaXJzdCgnaW5wdXRbbmFtZT1taW51dGVdJykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlRGF0ZVRpbWVDaGFuZ2UpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVNaW51dGVLZXkpO1xuICAgIHRoaXMuc2Vjb25kSW5wdXQgPSB0aGlzLmlucHV0cy5xdWVyeUZpcnN0KCdpbnB1dFtuYW1lPXNlY29uZF0nKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCB0aGlzLl9oYW5kbGVEYXRlVGltZUNoYW5nZSkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZVNlY29uZEtleSk7XG4gICAgdGhpcy5hbXBtSW5wdXQgPSB0aGlzLmlucHV0cy5xdWVyeUZpcnN0KCdpbnB1dFtuYW1lPWFtX3BtXScpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVBbVBtS2V5KTtcbiAgICB0aGlzLm1vbnRoSW5wdXQgPSB0aGlzLmlucHV0cy5xdWVyeUZpcnN0KCdpbnB1dFtuYW1lPW1vbnRoXScpLnNldFZhbHVlKHRoaXMuZGF0ZS5nZXRNb250aCgpICsgMSkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlRGF0ZVRpbWVDaGFuZ2UpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVNb250aEtleSk7XG4gICAgdGhpcy5kYXlJbnB1dCA9IHRoaXMuaW5wdXRzLnF1ZXJ5Rmlyc3QoJ2lucHV0W25hbWU9ZGF5XScpLnNldFZhbHVlKHRoaXMuZGF0ZS5nZXREYXRlKCkpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZURhdGVUaW1lQ2hhbmdlKS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRGF5S2V5KTtcbiAgICB0aGlzLnllYXJJbnB1dCA9IHRoaXMuaW5wdXRzLnF1ZXJ5Rmlyc3QoJ2lucHV0W25hbWU9eWVhcl0nKS5zZXRWYWx1ZSh0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5faGFuZGxlRGF0ZVRpbWVDaGFuZ2UpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVZZWFyS2V5KTtcblxuICAgIHRoaXMuZGF0ZXBpY2tlci5xdWVyeUZpcnN0KCdoZWFkZXIgLm5leHQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZU5leHRNb250aCk7XG4gICAgdGhpcy5kYXRlcGlja2VyLnF1ZXJ5Rmlyc3QoJ2hlYWRlciAucHJldicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlUHJldmlvdXNNb250aCk7XG5cbiAgICBQcmltZURvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlR2xvYmFsQ2xpY2spO1xuICAgIFByaW1lRG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUdsb2JhbEtleSk7XG5cbiAgICAvLyBTZXR1cCBtb250aHMgZHJvcGRvd25cbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJtb250aHNcIj4nO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgRGF0ZVRpbWVQaWNrZXIuTU9OVEhTLmxlbmd0aDsgaSsrKSB7XG4gICAgICBodG1sICs9IGA8ZGl2IGRhdGEtbW9udGg9XCIke2l9XCI+JHtEYXRlVGltZVBpY2tlci5NT05USFNbaV19PC9kaXY+YDtcbiAgICB9XG4gICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICB0aGlzLmRhdGVwaWNrZXIuYXBwZW5kSFRNTChodG1sKTtcbiAgICB0aGlzLm1vbnRocyA9IHRoaXMuZGF0ZXBpY2tlci5xdWVyeUZpcnN0KCcubW9udGhzJyk7XG4gICAgdGhpcy5tb250aHMuaGlkZSgpO1xuICAgIHRoaXMubW9udGhzLmdldENoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihtb250aCkge1xuICAgICAgbW9udGguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXRNb250aChwYXJzZUludChtb250aC5nZXREYXRhQXR0cmlidXRlKCdtb250aCcpKSk7XG4gICAgICAgIHRoaXMuY2xvc2VNb250aHNTZWxlY3QoKTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIC8vIFNldHVwIHllYXIgZHJvcGRvd25cbiAgICBodG1sID0gJzxkaXYgY2xhc3M9XCJ5ZWFyc1wiPic7XG4gICAgY29uc3Qgc3RhcnRZZWFyID0gdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgLSAxMDtcbiAgICBjb25zdCBlbmRZZWFyID0gdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgKyAxMDtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRZZWFyOyBpIDwgZW5kWWVhcjsgaSsrKSB7XG4gICAgICBodG1sICs9IGA8ZGl2IGRhdGEteWVhcj1cIiR7aX1cIj4ke2l9PC9kaXY+YDtcbiAgICB9XG4gICAgaHRtbCArPSAnPC9kaXY+JztcbiAgICB0aGlzLmRhdGVwaWNrZXIuYXBwZW5kSFRNTChodG1sKTtcbiAgICB0aGlzLnllYXJzID0gdGhpcy5kYXRlcGlja2VyLnF1ZXJ5Rmlyc3QoJy55ZWFycycpO1xuICAgIHRoaXMueWVhcnMuaGlkZSgpO1xuICAgIHRoaXMueWVhcnMuZ2V0Q2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKHllYXIpIHtcbiAgICAgIHllYXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXRZZWFyKHBhcnNlSW50KHllYXIuZ2V0RGF0YUF0dHJpYnV0ZSgneWVhcicpKSk7XG4gICAgICAgIHRoaXMuY2xvc2VZZWFyc1NlbGVjdCgpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgdGhpcy5fcmVidWlsZCgpO1xuXG4gICAgaWYgKHRoaXMuY3VzdG9tRm9ybWF0SGFuZGxlciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5lbGVtZW50LnNldFZhbHVlKHRoaXMuY3VzdG9tRm9ybWF0SGFuZGxlci5jYWxsKG51bGwsIHRoaXMuZGF0ZSkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtEYXRlfSBSZXR1cm4gdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHRpbWUgcGlja2VyLlxuICAgKi9cbiAgZ2V0RGF0ZSgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUodGhpcy5kYXRlLmdldFRpbWUoKSk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIERhdGVUaW1lUGlja2VyIHRvIHRoZSBuZXh0IG1vbnRoIGFuZCByZWRyYXdzIHRoZSBjYWxlbmRhci5cbiAgICpcbiAgICogQHJldHVybnMge0RhdGVUaW1lUGlja2VyfSBUaGlzIERhdGVUaW1lUGlja2VyLlxuICAgKi9cbiAgbmV4dE1vbnRoKCkge1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSh0aGlzLmRhdGUpO1xuICAgIG5ld0RhdGUuc2V0RGF0ZSgxKTsgLy8gU2V0IHRoZSBkYXkgdG8gMSB0byBrZWVwIHVzIGZyb20gd3JhcHBpbmcgbW9udGhzIG9uIHRoZSAzMCBhbmQgMzFzdC5cbiAgICBuZXdEYXRlLnNldE1vbnRoKHBhcnNlSW50KHRoaXMubW9udGhEaXNwbGF5LmdldERhdGFBdHRyaWJ1dGUoJ21vbnRoJykpKTtcbiAgICBuZXdEYXRlLnNldEZ1bGxZZWFyKHBhcnNlSW50KHRoaXMueWVhckRpc3BsYXkuZ2V0RGF0YUF0dHJpYnV0ZSgneWVhcicpKSk7XG4gICAgUHJpbWVEYXRlLnBsdXNNb250aHMobmV3RGF0ZSwgMSk7XG4gICAgdGhpcy5kcmF3Q2FsZW5kYXIobmV3RGF0ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogT3BlbnMgdGhlIERhdGUgUGlja2VyIHdpZGdldC5cbiAgICpcbiAgICogQHJldHVybnMge0RhdGVUaW1lUGlja2VyfSBUaGlzIERhdGVUaW1lUGlja2VyLlxuICAgKi9cbiAgb3BlbigpIHtcbiAgICB0aGlzLmRhdGVwaWNrZXIuc2V0TGVmdCh0aGlzLmVsZW1lbnQuZ2V0TGVmdCgpKTtcbiAgICB0aGlzLmRhdGVwaWNrZXIuc2V0VG9wKHRoaXMuZWxlbWVudC5nZXRBYnNvbHV0ZVRvcCgpICsgdGhpcy5lbGVtZW50LmdldEhlaWdodCgpICsgOCk7XG4gICAgdGhpcy5kYXRlcGlja2VyLnNob3coKTtcbiAgICB0aGlzLmRhdGVwaWNrZXIuYWRkQ2xhc3MoJ29wZW4nKTtcblxuICAgIGNvbnN0IHpJbmRleCA9IHRoaXMuZWxlbWVudC5nZXRSZWxhdGl2ZVpJbmRleCgpO1xuICAgIHRoaXMuZGF0ZXBpY2tlci5zZXRTdHlsZSgnekluZGV4JywgekluZGV4ICsgMTApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBtb250aCBzZWxlY3QgYm94LlxuICAgKi9cbiAgb3Blbk1vbnRoU2VsZWN0KCkge1xuICAgIHRoaXMuY2xvc2VZZWFyc1NlbGVjdCgpO1xuXG4gICAgdGhpcy5tb250aHMuc2V0TGVmdCh0aGlzLm1vbnRoRGlzcGxheS5nZXRPZmZzZXRMZWZ0KCkgLSA1KTtcbiAgICB0aGlzLm1vbnRocy5zZXRUb3AodGhpcy5tb250aERpc3BsYXkuZ2V0T2Zmc2V0VG9wKCkgLSA1KTtcbiAgICB0aGlzLm1vbnRocy5zZXRTdHlsZSgnekluZGV4JywgdGhpcy5tb250aERpc3BsYXkuZ2V0UmVsYXRpdmVaSW5kZXgoKSArIDEwKTtcbiAgICB0aGlzLm1vbnRocy5zaG93KCk7XG4gICAgdGhpcy5tb250aHMuYWRkQ2xhc3MoJ29wZW4nKTtcblxuICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IHRoaXMubW9udGhzLnF1ZXJ5Rmlyc3QoJ1tkYXRhLW1vbnRoPVwiJyArIHRoaXMuZGF0ZS5nZXRNb250aCgpICsgJ1wiXScpO1xuICAgIHRoaXMubW9udGhzLmdldENoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihtb250aCkge1xuICAgICAgbW9udGgucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgfSk7XG4gICAgY3VycmVudE1vbnRoLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSB5ZWFyIHNlbGVjdCBib3guXG4gICAqL1xuICBvcGVuWWVhclNlbGVjdCgpIHtcbiAgICB0aGlzLmNsb3NlTW9udGhzU2VsZWN0KCk7XG5cbiAgICB0aGlzLnllYXJzLnNldExlZnQodGhpcy55ZWFyRGlzcGxheS5nZXRPZmZzZXRMZWZ0KCkgLSA1KTtcbiAgICB0aGlzLnllYXJzLnNldFRvcCh0aGlzLnllYXJEaXNwbGF5LmdldE9mZnNldFRvcCgpIC0gNSk7XG4gICAgdGhpcy55ZWFycy5zZXRTdHlsZSgnekluZGV4JywgdGhpcy55ZWFyRGlzcGxheS5nZXRSZWxhdGl2ZVpJbmRleCgpICsgMTApO1xuICAgIHRoaXMueWVhcnMuc2hvdygpO1xuICAgIHRoaXMueWVhcnMuYWRkQ2xhc3MoJ29wZW4nKTtcblxuICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gdGhpcy55ZWFycy5xdWVyeUZpcnN0KCdbZGF0YS15ZWFyPVwiJyArIHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpICsgJ1wiXScpO1xuICAgIHRoaXMueWVhcnMuZ2V0Q2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKHllYXIpIHtcbiAgICAgIHllYXIucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgfSk7XG4gICAgY3VycmVudFllYXIuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogTW92ZXMgdGhlIERhdGVUaW1lUGlja2VyIHRvIHRoZSBwcmV2aW91cyBtb250aCBhbmQgcmVkcmF3cyB0aGUgY2FsZW5kYXIuXG4gICAqXG4gICAqIEByZXR1cm5zIHtEYXRlVGltZVBpY2tlcn0gVGhpcyBEYXRlVGltZVBpY2tlci5cbiAgICovXG4gIHByZXZpb3VzTW9udGgoKSB7XG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZSk7XG4gICAgbmV3RGF0ZS5zZXREYXRlKDEpOyAvLyBTZXQgdG8gMSB1bnRpbCBtb250aCBoYXMgYmVlbiBzZXRcbiAgICBuZXdEYXRlLnNldE1vbnRoKHBhcnNlSW50KHRoaXMubW9udGhEaXNwbGF5LmdldERhdGFBdHRyaWJ1dGUoJ21vbnRoJykpKTtcbiAgICBuZXdEYXRlLnNldEZ1bGxZZWFyKHBhcnNlSW50KHRoaXMueWVhckRpc3BsYXkuZ2V0RGF0YUF0dHJpYnV0ZSgneWVhcicpKSk7XG4gICAgUHJpbWVEYXRlLnBsdXNNb250aHMobmV3RGF0ZSwgLTEpO1xuICAgIHRoaXMuZHJhd0NhbGVuZGFyKG5ld0RhdGUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGRhdGUgb2YgdGhlIERhdGVUaW1lUGlja2VyIGFuZCByZWRyYXdzIHRoZSBjYWxlbmRhciB0byB0aGUgbW9udGggZm9yIHRoZSBkYXRlLlxuICAgKlxuICAgKiBAcGFyYW0ge0RhdGV9IG5ld0RhdGUgVGhlIG5ldyBkYXRlLlxuICAgKiBAcmV0dXJucyB7RGF0ZVRpbWVQaWNrZXJ9IFRoaXMgRGF0ZVRpbWVQaWNrZXIuXG4gICAqL1xuICBzZXREYXRlKG5ld0RhdGUpIHtcbiAgICB0aGlzLmRhdGUgPSBuZXdEYXRlO1xuXG4gICAgaWYgKHRoaXMuY3VzdG9tRm9ybWF0SGFuZGxlciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5lbGVtZW50LnNldFZhbHVlKHRoaXMuY3VzdG9tRm9ybWF0SGFuZGxlci5jYWxsKG51bGwsIHRoaXMuZGF0ZSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRhdGVPbmx5KSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5zZXRWYWx1ZShQcmltZURhdGUudG9EYXRlT25seUlTT1N0cmluZyhuZXdEYXRlKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmVsZW1lbnQuc2V0VmFsdWUobmV3RGF0ZS50b0lTT1N0cmluZygpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9yZWJ1aWxkKCk7XG5cbiAgICBpZiAodGhpcy5jYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5jYWxsYmFjayh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gbW9udGggVGhlIG1vbnRoLiBBIDAgYmFzZWQgbnVtYmVyIGJldHdlZW4gMCAoSmFudWFyeSkgYW5kIDExIChEZWNlbWJlcikuXG4gICAqIEByZXR1cm5zIHtEYXRlVGltZVBpY2tlcn1cbiAgICovXG4gIHNldE1vbnRoKG1vbnRoKSB7XG4gICAgbGV0IGN1cnJlbnRZZWFyID0gcGFyc2VJbnQodGhpcy55ZWFyRGlzcGxheS5nZXREYXRhQXR0cmlidXRlKCd5ZWFyJykpO1xuICAgIGlmIChtb250aCA8IDApIHtcbiAgICAgIG1vbnRoID0gMTE7XG4gICAgICBjdXJyZW50WWVhci0tO1xuICAgIH0gZWxzZSBpZiAobW9udGggPiAxMSkge1xuICAgICAgY3VycmVudFllYXIrKztcbiAgICAgIG1vbnRoID0gMDtcbiAgICB9XG5cbiAgICB0aGlzLmRhdGUuc2V0TW9udGgobW9udGgpO1xuICAgIHRoaXMuZGF0ZS5zZXRZZWFyKGN1cnJlbnRZZWFyKTtcbiAgICB0aGlzLnNldERhdGUodGhpcy5kYXRlKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB5ZWFyIFRoZSB5ZWFyLlxuICAgKiBAcmV0dXJucyB7RGF0ZVRpbWVQaWNrZXJ9XG4gICAqL1xuICBzZXRZZWFyKHllYXIpIHtcbiAgICB0aGlzLnllYXJEaXNwbGF5LnNldERhdGFBdHRyaWJ1dGUoJ3llYXInLCB5ZWFyKTtcbiAgICB0aGlzLnllYXJEaXNwbGF5LnNldFRleHRDb250ZW50KHllYXIpO1xuICAgIHRoaXMuZGF0ZS5zZXRZZWFyKHllYXIpO1xuICAgIHRoaXMuc2V0RGF0ZSh0aGlzLmRhdGUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGxiYWNrIGhhbmRsZXIgdGhhdCBpcyBjYWxsZWQgd2l0aCB0aGUgRGF0ZVRpbWVQaWNrZXIncyB2YWx1ZSBpcyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbGJhY2sge0Z1bmN0aW9ufSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4ge0RhdGVUaW1lUGlja2VyfSBUaGlzLlxuICAgKi9cbiAgd2l0aENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNsYXNzIG5hbWUgZm9yIHRoZSBtYWluIGRpdiBvZiB0aGUgZGF0ZSB0aW1lIHBpY2tlci5cbiAgICpcbiAgICogQHBhcmFtIGNsYXNzTmFtZSB7c3RyaW5nfSBUaGUgY2xhc3MgbmFtZS5cbiAgICogQHJldHVybnMge0RhdGVUaW1lUGlja2VyfSBUaGlzLlxuICAgKi9cbiAgd2l0aENsYXNzTmFtZShjbGFzc05hbWUpIHtcbiAgICB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpbWVvdXQgdXNlZCBpbiB0aGUgY2xvc2UgbWV0aG9kIHRvIGFsbG93IGZvciB0cmFuc2l0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQge2ludH0gVGhlIHRpbWVvdXQuXG4gICAqIEByZXR1cm5zIHtEYXRlVGltZVBpY2tlcn1cbiAgICovXG4gIHdpdGhDbG9zZVRpbWVvdXQodGltZW91dCkge1xuICAgIHRoaXMub3B0aW9ucy5jbG9zZVRpbWVvdXQgPSB0aW1lb3V0O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSBjdXN0b20gZm9ybWF0IGhhbmRsZXIgcmVzcG9uc2libGUgZm9yIGZvcm1hdHRpbmcgdGhlIGRhdGUgc3RyaW5nIHRoYXQgd2lsbCBiZSBzZXQgaW50byB0aGUgaW5wdXQgZmllbGQuXG4gICAqIFdoZW4gbm90IGRlZmluZWQgdGhlIGRlZmF1bHQgYmVoYXZpb3Igd2lsbCBiZSB1c2VkLlxuICAgKlxuICAgKiBAcGFyYW0gZm9ybWF0SGFuZGxlciB7RnVuY3Rpb259IFRoZSBoYW5kbGVyIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHtEYXRlVGltZVBpY2tlcn0gVGhpcy5cbiAgICovXG4gIHdpdGhDdXN0b21Gb3JtYXRIYW5kbGVyKGZvcm1hdEhhbmRsZXIpIHtcbiAgICB0aGlzLmN1c3RvbUZvcm1hdEhhbmRsZXIgPSBmb3JtYXRIYW5kbGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgRGF0ZVRpbWVQaWNrZXIgdy9vdXQgdGhlIHRpbWUgcGlja2VyLiBPbmx5IHRoZSBjYWxlbmRhciB3aWxsIGJlIGRpc3BsYXllZCBhbmQgdGhlIGlucHV0IGZpZWxkIHdpbGwgYmUgdXBkYXRlZCB3aXRoIGRhdGUgb25seS5cbiAgICpcbiAgICpcbiAgICogQHJldHVybnMge0RhdGVUaW1lUGlja2VyfSBUaGlzIERhdGVUaW1lUGlja2VyLlxuICAgKi9cbiAgd2l0aERhdGVPbmx5KCkge1xuICAgIHRoaXMub3B0aW9ucy5kYXRlT25seSA9IHRydWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0IG1vcmUgdGhhbiBvbmUgb3B0aW9uIGF0IGEgdGltZSBieSBwcm92aWRpbmcgYSBtYXAgb2Yga2V5IHZhbHVlIHBhaXJzLiBUaGlzIGlzIGNvbnNpZGVyZWQgYW4gYWR2YW5jZWRcbiAgICogbWV0aG9kIHRvIHNldCBvcHRpb25zIG9uIHRoZSB3aWRnZXQuIFRoZSBjYWxsZXIgbmVlZHMgdG8ga25vdyB3aGF0IHByb3BlcnRpZXMgYXJlIHZhbGlkIGluIHRoZSBvcHRpb25zIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgS2V5IHZhbHVlIHBhaXIgb2YgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgKiBAcmV0dXJucyB7RGF0ZVRpbWVQaWNrZXJ9IFRoaXMgRGF0ZVRpbWVQaWNrZXIuXG4gICAqL1xuICB3aXRoT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAobGV0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBCdWlsZCB0aGUgSFRNTCBmb3IgYSBzaW5nbGUgY2FsZW5kYXIgd2Vlay5cbiAgICpcbiAgICogQHBhcmFtIGRhdGUge0RhdGV9IFRoZSBkYXRlIHRvIGJ1aWxkIHRoZSBjYWxlbmRhciB3ZWVrIGJhc2VkIG9uLlxuICAgKiBAcGFyYW0gc3RhcnREYXlPZldlZWsge051bWJlcn0gVGhlIGRheSBvZiB0aGUgd2VlayBvZiB0aGlzIHdlZWsgYmVnaW5zLiBBIDAgYmFzZWQgbnVtYmVyIGJldHdlZW4gMCBhbmQgNi5cbiAgICogQHBhcmFtIHN0YXJ0RGF5T2ZNb250aCB7TnVtYmVyfSBUaGUgZGF5IG9mIHRoZSBtb250aCB0aGlzIHdlZWsgYmVnaW5zLiBBIG51bWJlciBiZXR3ZWVuIDEgYW5kIDMxLlxuICAgKiBAcGFyYW0gZGF5c0luTW9udGgge051bWJlcn0gVGhlIG51bWJlciBvZiBkYXlzIGluIHRoaXMgY2FsZW5kYXIgbW9udGguXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBIVE1MIGZvciB0aGlzIHdlZWsuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfYnVpbGRDYWxlbmRhcldlZWsoZGF0ZSwgc3RhcnREYXlPZldlZWssIHN0YXJ0RGF5T2ZNb250aCwgZGF5c0luTW9udGgpIHtcbiAgICBjb25zdCBkYXlzSW5QcmV2aW91c01vbnRoID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIDApLmdldERhdGUoKTtcbiAgICBsZXQgc3RhcnREYXlPZlByZXZpb3VzTW9udGggPSBkYXlzSW5QcmV2aW91c01vbnRoIC0gc3RhcnREYXlPZldlZWsgKyAxO1xuICAgIGxldCBzdGFydERheU9mTmV4dE1vbnRoID0gMTtcblxuICAgIGxldCByb3cgPSAnPHRyPic7XG4gICAgbGV0IGVtcHR5Q29sdW1ucyA9IDA7XG4gICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICBjb25zdCBkYXlPZldlZWsgPSBzdGFydERheU9mTW9udGggKyBpO1xuICAgICAgLy8gRGF5cyBvZiB0aGUgcHJldmlvdXMgbW9udGhcbiAgICAgIGlmIChkYXlPZldlZWsgPD0gc3RhcnREYXlPZldlZWspIHtcbiAgICAgICAgcm93ICs9ICc8dGQ+PGEgY2xhc3M9XCJpbmFjdGl2ZVwiIGhyZWY9XCIjXCIgZGF0YS15ZWFyPVwiJyArIHllYXIgKyAnXCIgZGF0YS1tb250aD1cIicgKyAobW9udGggLSAxKSArICdcIiBkYXRhLWRheT1cIicgKyBzdGFydERheU9mUHJldmlvdXNNb250aCArICdcIj4nICsgc3RhcnREYXlPZlByZXZpb3VzTW9udGggKyAnPC9hPjwvdGQ+JztcbiAgICAgICAgc3RhcnREYXlPZlByZXZpb3VzTW9udGgrKztcbiAgICAgICAgZW1wdHlDb2x1bW5zKys7XG4gICAgICB9IGVsc2UgaWYgKGRheU9mV2VlayA+IGRheXNJbk1vbnRoKSB7XG4gICAgICAgIC8vIERheXMgb2YgdGhlIG5leHQgbW9udGhcbiAgICAgICAgcm93ICs9ICc8dGQ+PGEgY2xhc3M9XCJpbmFjdGl2ZVwiIGhyZWY9XCIjXCIgZGF0YS15ZWFyPVwiJyArIHllYXIgKyAnXCIgZGF0YS1tb250aD1cIicgKyBtb250aCArICdcIiBkYXRhLWRheT1cIicgKyBkYXlPZldlZWsgKyAnXCI+JyArIHN0YXJ0RGF5T2ZOZXh0TW9udGggKyAnPC9hPjwvdGQ+JztcbiAgICAgICAgc3RhcnREYXlPZk5leHRNb250aCsrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRGF5cyBpbiB0aGUgY3VycmVudCBtb250aFxuICAgICAgICBjb25zdCBkYXkgPSBkYXlPZldlZWsgLSBlbXB0eUNvbHVtbnM7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkID0gdGhpcy5kYXRlLmdldERhdGUoKSA9PT0gZGF5ICYmIHRoaXMuZGF0ZS5nZXRNb250aCgpID09PSBtb250aDtcbiAgICAgICAgcm93ICs9ICc8dGQ+PGEgJyArIChzZWxlY3RlZCA/ICdjbGFzcz1cInNlbGVjdGVkXCInIDogJycpICsgJ2hyZWY9XCIjXCIgZGF0YS15ZWFyPVwiJyArIHllYXIgKyAnXCIgZGF0YS1tb250aD1cIicgKyBtb250aCArICdcIiBkYXRhLWRheT1cIicgKyBkYXkgKyAnXCI+JyArIGRheSArICc8L2E+PC90ZD4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJvdyArPSAnPC90cj4nO1xuICAgIHJldHVybiByb3c7XG4gIH1cblxuICAvLyBub2luc3BlY3Rpb24gSlNNZXRob2RDYW5CZVN0YXRpY1xuICAvKipcbiAgICogQ2xhbXAgdGhlIHZhbHVlIGJldHdlZW4gdGhlIG1pbmltdW0gYW5kIG1heGltdW0gdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gbWluIHRoZSBtaW5pbXVtIG51bWJlciB2YWx1ZS5cbiAgICogQHBhcmFtIHtOdW1iZXJ9IG1heCBUaGUgbWF4aW11bSBudW1iZXIgdmFsdWUuXG4gICAqIEBwYXJhbSB7TnVtYmVyfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xhbXAuXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSByZXN1bHRpbmcgdmFsdWUsIGVpdGhlciB0aGUgbWluLCBtYXggb3IgYWN0dWFsIHZhbHVlIGlmIG5vdCBvdXQgb2YgYm91bmRzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2NsYW1wKG1pbiwgbWF4LCB2YWx1ZSkge1xuICAgIHJldHVybiBNYXRoLm1heChtaW4sIE1hdGgubWluKHZhbHVlLCBtYXgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHdoZW4gdGhlIEFNL1BNIGVsZW1lbnQgaXMgc2VsZWN0ZWQgYW5kIHRoZSB1c2VyIGhpdHMgYSBrZXkuIElmIHRoZSB1c2VyIGhpdHMgQSwgdGhpcyBjaGFuZ2VzIHRvIEFNLiBJZiB0aGVcbiAgICogdXNlciBoaXRzIFAsIHRoaXMgY2hhbmdlcyB0byBQTS4gSWYgdGhlIHVzZSBoaXRzIHRoZSB1cCBvciBkb3duIGFycm93cywgdGhpcyB0b2dnbGVzIGJldHdlZW4gQU0gYW5kIFBNLlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBrZXlib2FyZCBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVBbVBtS2V5KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLlRBQikge1xuICAgICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICB0aGlzLnNlY29uZElucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy5zZWNvbmRJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuc2Vjb25kSW5wdXQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubW9udGhJbnB1dC5kb21FbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIHRoaXMubW9udGhJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgICAgIHRoaXMubW9udGhJbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIERlY29kZSB0aGUga2V5IGV2ZW50XG4gICAgY29uc3QgY3VycmVudCA9IHRoaXMuYW1wbUlucHV0LmdldFZhbHVlKCk7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDY1KSB7XG4gICAgICAvLyBVc2VyIGhpdCBBXG4gICAgICBpZiAoY3VycmVudCA9PT0gRGF0ZVRpbWVQaWNrZXIuQU1fUE1bMV0pIHtcbiAgICAgICAgUHJpbWVEYXRlLnBsdXNIb3Vycyh0aGlzLmRhdGUsIC0xMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSA4MCkge1xuICAgICAgLy8gVXNlciBoaXQgUFxuICAgICAgaWYgKGN1cnJlbnQgPT09IERhdGVUaW1lUGlja2VyLkFNX1BNWzBdKSB7XG4gICAgICAgIFByaW1lRGF0ZS5wbHVzSG91cnModGhpcy5kYXRlLCAxMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5VUF9BUlJPVyB8fCBldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5ET1dOX0FSUk9XKSB7XG4gICAgICAvLyBVc2VyIGhpdCB1cCBvciBkb3duIGFycm93XG4gICAgICBpZiAoY3VycmVudCA9PT0gRGF0ZVRpbWVQaWNrZXIuQU1fUE1bMF0pIHtcbiAgICAgICAgUHJpbWVEYXRlLnBsdXNIb3Vycyh0aGlzLmRhdGUsIDEyKTtcbiAgICAgIH0gZWxzZSBpZiAoY3VycmVudCA9PT0gRGF0ZVRpbWVQaWNrZXIuQU1fUE1bMV0pIHtcbiAgICAgICAgUHJpbWVEYXRlLnBsdXNIb3Vycyh0aGlzLmRhdGUsIC0xMik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5FTlRFUiB8fCBldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5FU0NBUEUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldERhdGUodGhpcy5kYXRlKTtcbiAgICB0aGlzLmFtcG1JbnB1dC5kb21FbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIHRoaXMuYW1wbUlucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBkYXRlL3RpbWUgY2hhbmdlIGV2ZW50cy4gVGhpcyBwdWxscyB0aGUgdmFsdWVzIGZyb20gdGhlIDMgZGF0ZSBmaWVsZHMgYW5kIG1ha2VzIGEgbmV3IERhdGUuIFRoZW4gaXQgY2FsbHNcbiAgICoge0BsaW5rICNzZXREYXRlKERhdGUpfS5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlRGF0ZVRpbWVDaGFuZ2UoZXZlbnQpIHtcbiAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgIGNvbnN0IG5ld0RhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGhvdXJzID0gdGhpcy5fY2xhbXAoMSwgMTIsIHBhcnNlSW50KHRoaXMuaG91cklucHV0LmdldFZhbHVlKCkpKTtcbiAgICBpZiAodGhpcy5hbXBtSW5wdXQuZ2V0VmFsdWUoKSA9PT0gRGF0ZVRpbWVQaWNrZXIuQU1fUE1bMF0pIHtcbiAgICAgIGlmIChob3VycyA9PT0gMTIpIHtcbiAgICAgICAgbmV3RGF0ZS5zZXRIb3VycygwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld0RhdGUuc2V0SG91cnMoaG91cnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoaG91cnMgPT09IDEyKSB7XG4gICAgICAgIG5ld0RhdGUuc2V0SG91cnMoMTIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3RGF0ZS5zZXRIb3Vycyhob3VycyArIDEyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBzZWNvbmRzID0gdGhpcy5fY2xhbXAoMCwgNTksIHBhcnNlSW50KHRoaXMuc2Vjb25kSW5wdXQuZ2V0VmFsdWUoKSkpO1xuICAgIGNvbnN0IG1pbnV0ZXMgPSB0aGlzLl9jbGFtcCgwLCA1OSwgcGFyc2VJbnQodGhpcy5taW51dGVJbnB1dC5nZXRWYWx1ZSgpKSk7XG5cbiAgICBuZXdEYXRlLnNldFNlY29uZHMoc2Vjb25kcyk7XG4gICAgbmV3RGF0ZS5zZXRNaW51dGVzKG1pbnV0ZXMpO1xuICAgIG5ld0RhdGUuc2V0RGF0ZSgxKTsgLy8gU2V0IHRvIDEgdW50aWwgbW9udGggaGFzIGJlZW4gc2V0XG4gICAgbmV3RGF0ZS5zZXRNb250aChwYXJzZUludCh0aGlzLm1vbnRoSW5wdXQuZ2V0VmFsdWUoKSkgLSAxKTtcbiAgICBuZXdEYXRlLnNldERhdGUocGFyc2VJbnQodGhpcy5kYXlJbnB1dC5nZXRWYWx1ZSgpKSk7XG4gICAgbmV3RGF0ZS5zZXRZZWFyKHBhcnNlSW50KHRoaXMueWVhcklucHV0LmdldFZhbHVlKCkpKTtcblxuICAgIHRoaXMuc2V0RGF0ZShuZXdEYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIGNsaWNrIG9uIGEgZGF5LlxuICAgKlxuICAgKiBAcGFyYW1ldGVyIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgY2xpY2sgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlRGF5Q2xpY2soZXZlbnQpIHtcbiAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgIGxldCBkYXlFbGVtZW50ID0gbmV3IFByaW1lRWxlbWVudChldmVudC50YXJnZXQpO1xuICAgIGlmICghZGF5RWxlbWVudC5pcygnYScpKSB7XG4gICAgICBkYXlFbGVtZW50ID0gZGF5RWxlbWVudC5xdWVyeUZpcnN0KCdhJyk7XG4gICAgfVxuXG4gICAgY29uc3QgbmV3RGF0ZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZSk7XG4gICAgbmV3RGF0ZS5zZXREYXRlKDEpOyAvLyBTZXQgdG8gMSB1bnRpbCBtb250aCBoYXMgYmVlbiBzZXRcbiAgICBuZXdEYXRlLnNldEZ1bGxZZWFyKHBhcnNlSW50KGRheUVsZW1lbnQuZ2V0RGF0YUF0dHJpYnV0ZSgneWVhcicpKSk7XG4gICAgbmV3RGF0ZS5zZXRNb250aChwYXJzZUludChkYXlFbGVtZW50LmdldERhdGFBdHRyaWJ1dGUoJ21vbnRoJykpKTtcbiAgICBuZXdEYXRlLnNldERhdGUocGFyc2VJbnQoZGF5RWxlbWVudC5nZXREYXRhQXR0cmlidXRlKCdkYXknKSkpO1xuICAgIHRoaXMuc2V0RGF0ZShuZXdEYXRlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHdoZW4gYSBrZXkgaXMgY2xpY2sgaW4gdGhlIGRheSBpbnB1dCBmaWVsZCBzbyB0aGF0IHRhYiBhbmQgc2hpZnQgdGFiIHdvcmsgcHJvcGVybHkuXG4gICAqIDxwPlxuICAgKiBBbHNvIGhhbmRsZXMgdXAgYW5kIGRvd24gYXJyb3cgdG8gaW5jcmVtZW50IGFuZCBkZWNyZW1lbnQgdGhlIGRheS5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5IGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZURheUtleShldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5VUF9BUlJPVykge1xuICAgICAgUHJpbWVEYXRlLnBsdXNEYXlzKHRoaXMuZGF0ZSwgMSk7XG4gICAgICB0aGlzLnNldERhdGUodGhpcy5kYXRlKTtcbiAgICAgIHRoaXMuZGF5SW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLmRheUlucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5ET1dOX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgUHJpbWVEYXRlLnBsdXNEYXlzKHRoaXMuZGF0ZSwgLTEpO1xuICAgICAgdGhpcy5zZXREYXRlKHRoaXMuZGF0ZSk7XG4gICAgICB0aGlzLmRheUlucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy5kYXlJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5FTlRFUikge1xuICAgICAgdGhpcy5kYXRlLnNldERhdGUocGFyc2VJbnQodGhpcy5kYXlJbnB1dC5nZXRWYWx1ZSgpKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBnbG9iYWwgY2xpY2sgZXZlbnQuIFRoaXMgZGV0ZXJtaW5lcyBpZiB0aGUgY2xpY2sgd2FzIG91dHNpZGUgb2YgdGhlIERhdGVUaW1lUGlja2VyIGFuZCBjbG9zZXMgaXQuXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGNsaWNrIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUdsb2JhbENsaWNrKGV2ZW50KSB7XG4gICAgLy8gU2tpcCB0aGlzIGZ1bmN0aW9uIGNvbXBsZXRlbHkgaWYgdGhleSBjbGlja2VkIHRoZSBpbnB1dCBmaWVsZFxuICAgIGlmIChldmVudC50YXJnZXQgPT09IHRoaXMuZWxlbWVudC5kb21FbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdG9wID0gdGhpcy5kYXRlcGlja2VyLmdldFRvcCgpO1xuICAgIGNvbnN0IGJvdHRvbSA9IHRoaXMuZGF0ZXBpY2tlci5nZXRCb3R0b20oKTtcbiAgICBjb25zdCBsZWZ0ID0gdGhpcy5kYXRlcGlja2VyLmdldExlZnQoKTtcbiAgICBjb25zdCByaWdodCA9IHRoaXMuZGF0ZXBpY2tlci5nZXRSaWdodCgpO1xuICAgIGlmICh0aGlzLmRhdGVwaWNrZXIuaXNWaXNpYmxlKCkgJiYgKGV2ZW50LnggPCBsZWZ0IHx8IGV2ZW50LnggPiByaWdodCB8fCBldmVudC55IDwgdG9wIHx8IGV2ZW50LnkgPiBib3R0b20pKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB0aGlzLmNsb3NlWWVhcnNTZWxlY3QoKTtcbiAgICAgIHRoaXMuY2xvc2VNb250aHNTZWxlY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHRoaXMueWVhcnMuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZVllYXJzU2VsZWN0KCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5tb250aHMuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgdGhpcy5jbG9zZU1vbnRoc1NlbGVjdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGEgZ2xvYmFsIGtleSBldmVudC4gVGhpcyBkZXRlcm1pbmVzIGlmIHRoZSBEYXRlVGltZVBpY2tlciBpcyBvcGVuIGFuZCBpZiBlbnRlciBvciBlc2NhcGUgd2FzIGhpdC5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5IGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUdsb2JhbEtleShldmVudCkge1xuICAgIC8vIFNraXAgdGhpcyBmdW5jdGlvbiBjb21wbGV0ZWx5IGlmIHRoZSBEYXRlVGltZVBpY2tlciBpc24ndCBvcGVuXG4gICAgaWYgKCF0aGlzLmRhdGVwaWNrZXIuaXNWaXNpYmxlKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQua2V5Q29kZSA9PT0gRXZlbnRzLktleXMuRU5URVIpIHtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgICB0aGlzLnNldERhdGUodGhpcy5kYXRlKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIHRoaXMuZWxlbWVudC5mb2N1cygpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5Q29kZSA9PT0gRXZlbnRzLktleXMuRVNDQVBFKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB0aGlzLmVsZW1lbnQuZm9jdXMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB3aGVuIGEga2V5IGlzIGNsaWNrIGluIHRoZSBob3VycyBpbnB1dCBmaWVsZCBzbyB0aGF0IHRhYiBhbmQgc2hpZnQgdGFiIHdvcmsgcHJvcGVybHkuXG4gICAqIDxwPlxuICAgKiBBbHNvIGhhbmRsZXMgdXAgYW5kIGRvd24gYXJyb3cgdG8gaW5jcmVtZW50IGFuZCBkZWNyZW1lbnQgdGhlIGhvdXIuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgVGhlIGtleSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVIb3VyS2V5KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLlVQX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgUHJpbWVEYXRlLnBsdXNIb3Vycyh0aGlzLmRhdGUsIDEpO1xuICAgICAgdGhpcy5zZXREYXRlKHRoaXMuZGF0ZSk7XG4gICAgICB0aGlzLmhvdXJJbnB1dC5kb21FbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIHRoaXMuaG91cklucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLkRPV05fQVJST1cpIHtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgICBQcmltZURhdGUucGx1c0hvdXJzKHRoaXMuZGF0ZSwgLTEpO1xuICAgICAgdGhpcy5zZXREYXRlKHRoaXMuZGF0ZSk7XG4gICAgICB0aGlzLmhvdXJJbnB1dC5kb21FbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIHRoaXMuaG91cklucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLkVOVEVSKSB7XG4gICAgICB0aGlzLmRhdGUuc2V0SG91cnMocGFyc2VJbnQodGhpcy5ob3VySW5wdXQuZ2V0VmFsdWUoKSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIGNsaWNrIGV2ZW50IGZvciB0aGUgaW5wdXQgZGF0ZSBmaWVsZC4gSWYgdGhlIERhdGVUaW1lUGlja2VyIGlzIGhpZGRlbiB0aGlzIHdpbGwgY2FsbCB0aGUge0BsaW5rICNzaG93KCl9XG4gICAqIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gQWx3YXlzIHRydWUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSW5wdXRDbGljaygpIHtcbiAgICBpZiAoIXRoaXMuZGF0ZXBpY2tlci5pc1Zpc2libGUoKSkge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgICB0aGlzLm1vbnRoSW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLm1vbnRoSW5wdXQuZ2V0VmFsdWUoKS5sZW5ndGgpO1xuICAgICAgdGhpcy5tb250aElucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUga2V5IGV2ZW50IGZvciB0aGUgaW5wdXQgZGF0ZSBmaWVsZC4gSWYgdGhlIHVzZXIgaGl0cyB0YWIgb3Igc2hpZnQtdGFiLCB0aGlzIG1vdmVzIHRoZSBmb2N1cyB0byB0aGVcbiAgICogbmVzdGVkIGlucHV0cy5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlSW5wdXRLZXkoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5kYXRlcGlja2VyLmlzVmlzaWJsZSgpICYmIGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLlRBQikge1xuICAgICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgIGlmIChldmVudC5zaGlmdEtleSkge1xuICAgICAgICB0aGlzLmFtcG1JbnB1dC5kb21FbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIHRoaXMuYW1wbUlucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5hbXBtSW5wdXQuZm9jdXMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubW9udGhJbnB1dC5kb21FbGVtZW50LnNldFNlbGVjdGlvblJhbmdlKDAsIHRoaXMubW9udGhJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgICAgIHRoaXMubW9udGhJbnB1dC5mb2N1cygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIGtleSBkb3duIGV2ZW50IGFuZCBjYXB0dXJlIHRoZSB1cCBhbmQgZG93biBhcnJvdyBrZXkgdG8gaW5jcmVtZW50IGFuZCBkZWNyZW1lbnQgdGhlIG1pbnV0ZS5cblxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBrZXkgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlTWludXRlS2V5KGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLlVQX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgUHJpbWVEYXRlLnBsdXNNaW51dGVzKHRoaXMuZGF0ZSwgMSk7XG4gICAgICB0aGlzLnNldERhdGUodGhpcy5kYXRlKTtcbiAgICAgIHRoaXMubWludXRlSW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLm1pbnV0ZUlucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLkRPV05fQVJST1cpIHtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgICBQcmltZURhdGUucGx1c01pbnV0ZXModGhpcy5kYXRlLCAtMSk7XG4gICAgICB0aGlzLnNldERhdGUodGhpcy5kYXRlKTtcbiAgICAgIHRoaXMubWludXRlSW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLm1pbnV0ZUlucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLkVOVEVSKSB7XG4gICAgICB0aGlzLmRhdGUuc2V0TWludXRlcyhwYXJzZUludCh0aGlzLm1pbnV0ZUlucHV0LmdldFZhbHVlKCkpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY2xpY2sgb24gdGhlIG1vbnRoIHRvIG9wZW4gdGhlIG1vbnRoIHNlbGVjdC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVNb250aEV4cGFuZChldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgdGhpcy5vcGVuTW9udGhTZWxlY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHdoZW4gYSBrZXkgaXMgY2xpY2sgaW4gdGhlIG1vbnRoIGlucHV0IGZpZWxkIHNvIHRoYXQgdGFiIGFuZCBzaGlmdCB0YWIgd29yayBwcm9wZXJseS5cbiAgICogPHA+XG4gICAqIEFsc28gaGFuZGxlcyB1cCBhbmQgZG93biBhcnJvdyB0byBpbmNyZW1lbnQgYW5kIGRlY3JlbWVudCB0aGUgbW9udGguXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgVGhlIGtleSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVNb250aEtleShldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5UQUIgJiYgZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLmRhdGVPbmx5KSB7XG4gICAgICAgIHRoaXMueWVhcklucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy55ZWFySW5wdXQuZ2V0VmFsdWUoKS5sZW5ndGgpO1xuICAgICAgICB0aGlzLnllYXJJbnB1dC5mb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5hbXBtSW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLmFtcG1JbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuYW1wbUlucHV0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLlVQX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgUHJpbWVEYXRlLnBsdXNNb250aHModGhpcy5kYXRlLCAxKTtcbiAgICAgIHRoaXMuc2V0RGF0ZSh0aGlzLmRhdGUpO1xuICAgICAgdGhpcy5tb250aElucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy5tb250aElucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLkRPV05fQVJST1cpIHtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgICBQcmltZURhdGUucGx1c01vbnRocyh0aGlzLmRhdGUsIC0xKTtcbiAgICAgIHRoaXMuc2V0RGF0ZSh0aGlzLmRhdGUpO1xuICAgICAgdGhpcy5tb250aElucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy5tb250aElucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleUNvZGUgPT09IEV2ZW50cy5LZXlzLkVOVEVSKSB7XG4gICAgICB0aGlzLmRhdGUuc2V0TW9udGgocGFyc2VJbnQodGhpcy5tb250aElucHV0LmdldFZhbHVlKCkpIC0gMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUgbmV4dCBtb250aCBidXR0b24gY2xpY2suXG4gICAqXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIG1vdXNlIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU5leHRNb250aChldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgdGhpcy5uZXh0TW9udGgoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHByZXZpb3VzIG1vbnRoIGJ1dHRvbiBjbGljay5cbiAgICpcbiAgICogQHBhcmFtIHtNb3VzZUV2ZW50fSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlUHJldmlvdXNNb250aChldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgdGhpcy5wcmV2aW91c01vbnRoKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRoZSBrZXkgZG93biBldmVudCBhbmQgY2FwdHVyZSB0aGUgdXAgYW5kIGRvd24gYXJyb3cga2V5IHRvIGluY3JlbWVudCBhbmQgZGVjcmVtZW50IHRoZSBzZWNvbmQuXG5cbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5IGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVNlY29uZEtleShldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5VUF9BUlJPVykge1xuICAgICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgIFByaW1lRGF0ZS5wbHVzU2Vjb25kcyh0aGlzLmRhdGUsIDEpO1xuICAgICAgdGhpcy5zZXREYXRlKHRoaXMuZGF0ZSk7XG4gICAgICB0aGlzLnNlY29uZElucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy5zZWNvbmRJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5ET1dOX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgUHJpbWVEYXRlLnBsdXNTZWNvbmRzKHRoaXMuZGF0ZSwgLTEpO1xuICAgICAgdGhpcy5zZXREYXRlKHRoaXMuZGF0ZSk7XG4gICAgICB0aGlzLnNlY29uZElucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy5zZWNvbmRJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5FTlRFUikge1xuICAgICAgdGhpcy5kYXRlLnNldFNlY29uZHMocGFyc2VJbnQodGhpcy5zZWNvbmRJbnB1dC5nZXRWYWx1ZSgpKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGNsaWNrIG9uIHRoZSB5ZWFyIHRvIG9wZW4gdGhlIHllYXIgc2VsZWN0LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVllYXJFeHBhbmQoZXZlbnQpIHtcbiAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgIHRoaXMub3BlblllYXJTZWxlY3QoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHdoZW4gYSBrZXkgaXMgY2xpY2sgaW4gdGhlIHllYXIgaW5wdXQgZmllbGQgc28gdGhhdCB0YWIgYW5kIHNoaWZ0IHRhYiB3b3JrIHByb3Blcmx5LlxuICAgKiA8cD5cbiAgICogQWxzbyBoYW5kbGVzIHVwIGFuZCBkb3duIGFycm93IHRvIGluY3JlbWVudCBhbmQgZGVjcmVtZW50IHRoZSB5ZWFyLlxuICAgKlxuICAgKiBAcGFyYW0ge0tleWJvYXJkRXZlbnR9IGV2ZW50IFRoZSBrZXkgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlWWVhcktleShldmVudCkge1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5VUF9BUlJPVykge1xuICAgICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICAgIFByaW1lRGF0ZS5wbHVzWWVhcnModGhpcy5kYXRlLCAxKTtcbiAgICAgIHRoaXMuc2V0RGF0ZSh0aGlzLmRhdGUpO1xuICAgICAgdGhpcy55ZWFySW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLnllYXJJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5ET1dOX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgUHJpbWVEYXRlLnBsdXNZZWFycyh0aGlzLmRhdGUsIC0xKTtcbiAgICAgIHRoaXMuc2V0RGF0ZSh0aGlzLmRhdGUpO1xuICAgICAgdGhpcy55ZWFySW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLnllYXJJbnB1dC5nZXRWYWx1ZSgpLmxlbmd0aCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5UQUIgJiYgdGhpcy5vcHRpb25zLmRhdGVPbmx5KSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgIHRoaXMuZGF5SW5wdXQuZG9tRWxlbWVudC5zZXRTZWxlY3Rpb25SYW5nZSgwLCB0aGlzLmRheUlucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5kYXlJbnB1dC5mb2N1cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5tb250aElucHV0LmRvbUVsZW1lbnQuc2V0U2VsZWN0aW9uUmFuZ2UoMCwgdGhpcy5tb250aElucHV0LmdldFZhbHVlKCkubGVuZ3RoKTtcbiAgICAgICAgdGhpcy5tb250aElucHV0LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXlDb2RlID09PSBFdmVudHMuS2V5cy5FTlRFUikge1xuICAgICAgdGhpcy5kYXRlLnNldEZ1bGxZZWFyKHBhcnNlSW50KHRoaXMueWVhcklucHV0LmdldFZhbHVlKCkpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVidWlsZHMgdGhlIEhUTUwgb2YgdGhlIERhdGVUaW1lUGlja2VyLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3JlYnVpbGQoKSB7XG4gICAgdGhpcy5kcmF3Q2FsZW5kYXIodGhpcy5kYXRlKTtcbiAgICB0aGlzLl9yZWZyZXNoSW5wdXRzKCk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRhdGVPbmx5KSB7XG4gICAgICB0aGlzLnRpbWUuaGlkZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIHRoZSB0aW1lIGlucHV0cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZWZyZXNoSW5wdXRzKCkge1xuICAgIC8vIFNldCBUaW1lIC0tIGFzc3VtaW5nIDEyLWhvdXIgdGltZSBmb3IgdGhlIGlucHV0IGZpZWxkcyBhbmQgSVNPIDI0LWhvdXIgdGltZSBmb3IgdGhlIGZpZWxkXG4gICAgY29uc3QgaG91cnMgPSBQcmltZURhdGUuZ2V0SG91ck9mRGF5KHRoaXMuZGF0ZSk7XG4gICAgdGhpcy5ob3VySW5wdXQuc2V0VmFsdWUoaG91cnMpO1xuXG4gICAgY29uc3QgbWludXRlcyA9IHRoaXMuZGF0ZS5nZXRNaW51dGVzKCk7XG4gICAgdGhpcy5taW51dGVJbnB1dC5zZXRWYWx1ZSgoXCIwMFwiICsgbWludXRlcykuc2xpY2UoLTIpKTtcblxuICAgIGNvbnN0IHNlY29uZHMgPSB0aGlzLmRhdGUuZ2V0U2Vjb25kcygpO1xuICAgIHRoaXMuc2Vjb25kSW5wdXQuc2V0VmFsdWUoKFwiMDBcIiArIHNlY29uZHMpLnNsaWNlKC0yKSk7XG5cbiAgICBpZiAodGhpcy5kYXRlLmdldEhvdXJzKCkgPj0gMTIpIHtcbiAgICAgIHRoaXMuYW1wbUlucHV0LnNldFZhbHVlKERhdGVUaW1lUGlja2VyLkFNX1BNWzFdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hbXBtSW5wdXQuc2V0VmFsdWUoRGF0ZVRpbWVQaWNrZXIuQU1fUE1bMF0pO1xuICAgIH1cblxuICAgIHRoaXMubW9udGhJbnB1dC5zZXRWYWx1ZSh0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDEpO1xuICAgIHRoaXMuZGF5SW5wdXQuc2V0VmFsdWUodGhpcy5kYXRlLmdldERhdGUoKSk7XG4gICAgdGhpcy55ZWFySW5wdXQuc2V0VmFsdWUodGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW5pdGlhbCBvcHRpb25zIGZvciB0aGlzIHdpZGdldC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRJbml0aWFsT3B0aW9ucygpIHtcbiAgICAvLyBEZWZhdWx0c1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGNsYXNzTmFtZTogJ3ByaW1lLWRhdGUtcGlja2VyJyxcbiAgICAgIGNsb3NlVGltZW91dDogMjAwLFxuICAgICAgZGF0ZU9ubHk6IGZhbHNlXG4gICAgfTtcblxuICAgIGNvbnN0IHVzZXJPcHRpb25zID0gVXRpbHMuZGF0YVNldFRvT3B0aW9ucyh0aGlzLmVsZW1lbnQpO1xuICAgIGZvciAobGV0IG9wdGlvbiBpbiB1c2VyT3B0aW9ucykge1xuICAgICAgaWYgKHVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zW29wdGlvbl0gPSB1c2VyT3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0RhdGVUaW1lUGlja2VyfTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIEludmVyc29mdCBJbmMuLCBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsXG4gKiBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpY1xuICogbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcblxuY2xhc3MgRGlzbWlzc2FibGUge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBEaXNtaXNzYWJsZSBvYmplY3QgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBlbGVtZW50IFRoZSBFbGVtZW50IGZvciB0aGUgRGlzbWlzc2FibGUgd2lkZ2V0LlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBkaXNtaXNzQnV0dG9uIFRoZSBFbGVtZW50IGZvciB0aGUgRGlzbWlzc2FibGUgYnV0dG9uLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGRpc21pc3NCdXR0b24pIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVFbGVtZW50LndyYXAoZWxlbWVudCk7XG4gICAgdGhpcy5kaXNtaXNzQnV0dG9uID0gZGlzbWlzc0J1dHRvbjtcbiAgICB0aGlzLl9zZXRJbml0aWFsT3B0aW9ucygpO1xuICB9XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgRGlzbWlzc2FibGUgYnkgcmVtb3ZpbmcgdGhlIG9wZW4gY2xhc3MgZnJvbSB0aGUgZWxlbWVudCBhbmQgc2V0dGluZyBhIHRpbWVyIHRvIHJlbW92ZSB0aGUgZWxlbWVudCBmcm9tXG4gICAqIHRoZSBET00uXG4gICAqL1xuICBjbG9zZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ2Nsb3NlZCcpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRnJvbURPTSgpO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5vcHRpb25zLmNsb3NlVGltZW91dCk7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHdpZGdldC5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5kaXNtaXNzQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2spO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBEaXNtaXNzYWJsZSBieSBiaW5kaW5nIHRoZSBldmVudHMgdG8gdGhlIGRpc21pc3MgYnV0dG9uLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RGlzbWlzc2FibGV9IFRoaXMuXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuZGlzbWlzc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lb3V0IHVzZWQgaW4gdGhlIGNsb3NlIG1ldGhvZCB0byBhbGxvdyBmb3IgdHJhbnNpdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IHtpbnR9IFRoZSB0aW1lb3V0LlxuICAgKiBAcmV0dXJucyB7RGlzbWlzc2FibGV9IFRoaXMuXG4gICAqL1xuICB3aXRoQ2xvc2VUaW1lb3V0KHRpbWVvdXQpIHtcbiAgICB0aGlzLm9wdGlvbnMuY2xvc2VUaW1lb3V0ID0gdGltZW91dDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbW9yZSB0aGFuIG9uZSBvcHRpb24gYXQgYSB0aW1lIGJ5IHByb3ZpZGluZyBhIG1hcCBvZiBrZXkgdmFsdWUgcGFpcnMuIFRoaXMgaXMgY29uc2lkZXJlZCBhbiBhZHZhbmNlZFxuICAgKiBtZXRob2QgdG8gc2V0IG9wdGlvbnMgb24gdGhlIHdpZGdldC4gVGhlIGNhbGxlciBuZWVkcyB0byBrbm93IHdoYXQgcHJvcGVydGllcyBhcmUgdmFsaWQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBLZXkgdmFsdWUgcGFpciBvZiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtEaXNtaXNzYWJsZX0gVGhpcy5cbiAgICovXG4gIHdpdGhPcHRpb25zKG9wdGlvbnMpIHtcbiAgICBpZiAoIVV0aWxzLmlzRGVmaW5lZChvcHRpb25zKSkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgb3B0aW9uIGluIG9wdGlvbnMpIHtcbiAgICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zW29wdGlvbl0gPSBvcHRpb25zW29wdGlvbl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICB0aGlzLmNsb3NlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbml0aWFsIG9wdGlvbnMgZm9yIHRoaXMgd2lkZ2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEluaXRpYWxPcHRpb25zKCkge1xuICAgIC8vIERlZmF1bHRzXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgY2xvc2VUaW1lb3V0OiA0MDBcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCB7RGlzbWlzc2FibGV9XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtQcmltZUVsZW1lbnR9IGZyb20gXCIuLi9Eb2N1bWVudC9QcmltZUVsZW1lbnQuanNcIjtcbmltcG9ydCB7VXRpbHN9IGZyb20gXCIuLi9VdGlscy5qc1wiO1xuaW1wb3J0IHtQcmltZVdpbmRvd30gZnJvbSBcIi4uL1dpbmRvdy5qc1wiO1xuaW1wb3J0IHtPdmVybGF5fSBmcm9tIFwiLi9PdmVybGF5LmpzXCI7XG5pbXBvcnQge0RyYWdnYWJsZX0gZnJvbSBcIi4vRHJhZ2dhYmxlLmpzXCI7XG5pbXBvcnQge1ByaW1lRG9jdW1lbnR9IGZyb20gXCIuLi9QcmltZURvY3VtZW50LmpzXCI7XG5cbmNsYXNzIEhUTUxEaWFsb2cge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBkaWFsb2cgYm94IGZyb20gYW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8RWxlbWVudHxFdmVudFRhcmdldH0gZWxlbWVudCBUaGUgUHJpbWUgRWxlbWVudCBmb3IgdGhlIEhUTUxEaWFsb2cgd2lkZ2V0LlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVFbGVtZW50LndyYXAoZWxlbWVudCk7XG4gICAgdGhpcy5fc2V0SW5pdGlhbE9wdGlvbnMoKTtcbiAgICB0aGlzLmRyYWdnYWJsZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBkaWFsb2csIGRlc3Ryb3lzIHRoZSBIVE1MIGFuZCB1cGRhdGVzIG9yIGhpZGVzIHRoZSBvdmVybGF5LlxuICAgKiBAcmV0dXJucyB7SFRNTERpYWxvZ30gVGhpcy5cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIGlmICh0aGlzLmRyYWdnYWJsZSAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5kcmFnZ2FibGUuZGVzdHJveSgpO1xuICAgICAgdGhpcy5kcmFnZ2FibGUgPSBudWxsO1xuICAgIH1cblxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuaGlkZSgpO1xuXG4gICAgICBjb25zdCBoaWdoZXN0WkluZGV4ID0gdGhpcy5fZGV0ZXJtaW5lWkluZGV4KCk7XG4gICAgICBpZiAoaGlnaGVzdFpJbmRleCAhPT0gMCkge1xuICAgICAgICBPdmVybGF5Lmluc3RhbmNlLnNldFpJbmRleChoaWdoZXN0WkluZGV4KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE92ZXJsYXkuaW5zdGFuY2UuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcyksIHRoaXMub3B0aW9ucy5jbG9zZVRpbWVvdXQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIGRpYWxvZyBieSBjYWxsaW5nIHRoZSBjbG9zZSBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge0hUTUxEaWFsb2d9IFRoaXMuXG4gICAqL1xuICBkZXN0cm95KCkge1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgZGlhbG9nLlxuICAgKiBAcmV0dXJucyB7SFRNTERpYWxvZ30gVGhpcy5cbiAgICovXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5lbGVtZW50LmhpZGUoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgZGlhbG9nLlxuICAgKlxuICAgKiBAcmV0dXJucyB7SFRNTERpYWxvZ30gVGhpcy5cbiAgICovXG4gIG9wZW4oKSB7XG4gICAgY29uc3QgaGlnaGVzdFpJbmRleCA9IHRoaXMuX2RldGVybWluZVpJbmRleCgpO1xuICAgIE92ZXJsYXkuaW5zdGFuY2Uub3BlbihoaWdoZXN0WkluZGV4ICsgdGhpcy5vcHRpb25zLnpJbmRleE9mZnNldCk7XG4gICAgdGhpcy5lbGVtZW50LnNldFN0eWxlKCd6SW5kZXgnLCAoaGlnaGVzdFpJbmRleCArIHRoaXMub3B0aW9ucy56SW5kZXhPZmZzZXQgKyAxMCkudG9TdHJpbmcoKSk7XG4gICAgdGhpcy5lbGVtZW50LnNob3coKTtcbiAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ29wZW4nKTtcblxuICAgIC8vIENhbGwgdGhlIGNhbGxiYWNrIGJlZm9yZSBwb3NpdGlvbmluZyB0byBlbnN1cmUgYWxsIGNoYW5nZXMgdG8gdGhlIGRpYWxvZyBoYXZlIGJlZW4gbWFkZVxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgIHRoaXMub3B0aW9ucy5jYWxsYmFjayh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBQb3NpdGlvbiB0aGUgZml4ZWQgZGlhbG9nIGluIHRoZSBjZW50ZXIgb2YgdGhlIHNjcmVlblxuICAgIGNvbnN0IHdpbmRvd0hlaWdodCA9IFByaW1lV2luZG93LmdldElubmVySGVpZ2h0KCk7XG4gICAgY29uc3QgZGlhbG9nSGVpZ2h0ID0gdGhpcy5lbGVtZW50LmdldEhlaWdodCgpO1xuICAgIHRoaXMuZWxlbWVudC5zZXRUb3AoKCh3aW5kb3dIZWlnaHQgLSBkaWFsb2dIZWlnaHQpIC8gMikgLSAyMCk7XG5cbiAgICB0aGlzLl9zZXR1cEJ1dHRvbnMoKTtcblxuICAgIGlmICh0aGlzLmRyYWdnYWJsZSA9PT0gbnVsbCkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcmFnZ2FibGVFbGVtZW50U2VsZWN0b3IgIT09IG51bGwgJiYgdGhpcy5lbGVtZW50LnF1ZXJ5Rmlyc3QodGhpcy5vcHRpb25zLmRyYWdnYWJsZUVsZW1lbnRTZWxlY3RvcikgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5kcmFnZ2FibGUgPSBuZXcgRHJhZ2dhYmxlKHRoaXMuZWxlbWVudCwgdGhpcy5vcHRpb25zLmRyYWdnYWJsZUVsZW1lbnRTZWxlY3RvcikuaW5pdGlhbGl6ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIEhUTUwgY29udGVudHMgb2YgdGhlIGRpYWxvZy5cbiAgICpcbiAgICogQHBhcmFtIGh0bWwge1N0cmluZ30gVGhlIEhUTUwuXG4gICAqIEByZXR1cm5zIHtIVE1MRGlhbG9nfSBUaGlzLlxuICAgKi9cbiAgc2V0SFRNTChodG1sKSB7XG4gICAgdGhpcy5lbGVtZW50LnNldEhUTUwoaHRtbCk7XG4gICAgdGhpcy5fc2V0dXBCdXR0b25zKCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbGJhY2sgdGhhdCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIGRpYWxvZyBoYXMgYmVlbiBmZXRjaGVkIGFuZCByZW5kZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxiYWNrIHtmdW5jdGlvbn0gVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7SFRNTERpYWxvZ30gVGhpcy5cbiAgICovXG4gIHdpdGhDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIHRoaXMub3B0aW9ucy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNsYXNzIG5hbWUgZm9yIHRoZSBkaWFsb2cgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGNsYXNzTmFtZSB7c3RyaW5nfSBUaGUgY2xhc3MgbmFtZS5cbiAgICogQHJldHVybnMge0hUTUxEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoQ2xhc3NOYW1lKGNsYXNzTmFtZSkge1xuICAgIHRoaXMub3B0aW9ucy5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2xvc2UgYnV0dG9uIGVsZW1lbnQgc2VsZWN0b3IgdGhhdCBpcyB1c2VkIHRvIHNldHVwIHRoZSBjbG9zZSBidXR0b24gaW4gdGhlIEhUTUwgdGhhdCB3YXMgcmV0dXJuZWQgZnJvbVxuICAgKiB0aGUgc2VydmVyLlxuICAgKlxuICAgKiBAcGFyYW0gc2VsZWN0b3Ige3N0cmluZ30gVGhlIGVsZW1lbnQgc2VsZWN0b3IuXG4gICAqIEByZXR1cm5zIHtIVE1MRGlhbG9nfSBUaGlzLlxuICAgKi9cbiAgd2l0aENsb3NlQnV0dG9uRWxlbWVudFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uRWxlbWVudFNlbGVjdG9yID0gc2VsZWN0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGltZW91dCB1c2VkIGluIHRoZSBjbG9zZSBtZXRob2QgdG8gYWxsb3cgZm9yIHRyYW5zaXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gdGltZW91dCB7aW50fSBUaGUgdGltZW91dC5cbiAgICogQHJldHVybnMge0hUTUxEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoQ2xvc2VUaW1lb3V0KHRpbWVvdXQpIHtcbiAgICB0aGlzLm9wdGlvbnMuY2xvc2VUaW1lb3V0ID0gdGltZW91dDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkcmFnZ2FibGUgZWxlbWVudCBzZWxlY3RvciB0aGF0IGlzIHVzZWQgZm9yIHRoZSBEcmFnZ2FibGUuXG4gICAqXG4gICAqIEBwYXJhbSBzZWxlY3RvciB7c3RyaW5nfSBUaGUgZWxlbWVudCBzZWxlY3Rvci5cbiAgICogQHJldHVybnMge0hUTUxEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoRHJhZ2dhYmxlQnV0dG9uRWxlbWVudFNlbGVjdG9yKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5vcHRpb25zLmRyYWdnYWJsZUVsZW1lbnRTZWxlY3RvciA9IHNlbGVjdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtb3JlIHRoYW4gb25lIG9wdGlvbiBhdCBhIHRpbWUgYnkgcHJvdmlkaW5nIGEgbWFwIG9mIGtleSB2YWx1ZSBwYWlycy4gVGhpcyBpcyBjb25zaWRlcmVkIGFuIGFkdmFuY2VkXG4gICAqIG1ldGhvZCB0byBzZXQgb3B0aW9ucyBvbiB0aGUgd2lkZ2V0LiBUaGUgY2FsbGVyIG5lZWRzIHRvIGtub3cgd2hhdCBwcm9wZXJ0aWVzIGFyZSB2YWxpZCBpbiB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEtleSB2YWx1ZSBwYWlyIG9mIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICogQHJldHVybnMge0hUTUxEaWFsb2d9IFRoaXMuXG4gICAqL1xuICB3aXRoT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAobGV0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIF9kZXRlcm1pbmVaSW5kZXgoKSB7XG4gICAgbGV0IGhpZ2hlc3RaSW5kZXggPSAwO1xuICAgIFByaW1lRG9jdW1lbnQucXVlcnkoJy4nICsgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSkuZWFjaChmdW5jdGlvbihkaWFsb2cpIHtcbiAgICAgIGNvbnN0IHpJbmRleCA9IHBhcnNlSW50KGRpYWxvZy5nZXRDb21wdXRlZFN0eWxlKClbJ3pJbmRleCddKTtcbiAgICAgIGlmIChkaWFsb2cuaXNWaXNpYmxlKCkgJiYgekluZGV4ID4gaGlnaGVzdFpJbmRleCkge1xuICAgICAgICBoaWdoZXN0WkluZGV4ID0gekluZGV4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBoaWdoZXN0WkluZGV4O1xuICB9XG5cbiAgX2hhbmRsZUNsb3NlQ2xpY2tFdmVudChldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgdGhpcy5jbG9zZSgpO1xuICB9XG5cbiAgX3NldHVwQnV0dG9ucygpIHtcbiAgICB0aGlzLmVsZW1lbnQucXVlcnkodGhpcy5vcHRpb25zLmNsb3NlQnV0dG9uRWxlbWVudFNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uKGUpIHtcbiAgICAgIGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbG9zZUNsaWNrRXZlbnQpO1xuICAgIH0uYmluZCh0aGlzKSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbml0aWFsIG9wdGlvbnMgZm9yIHRoaXMgd2lkZ2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEluaXRpYWxPcHRpb25zKCkge1xuICAgIC8vIERlZmF1bHRzXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgY2FsbGJhY2s6IG51bGwsXG4gICAgICBjbGFzc05hbWU6ICdwcmltZS1kaWFsb2cnLFxuICAgICAgY2xvc2VCdXR0b25FbGVtZW50U2VsZWN0b3I6ICdbZGF0YS1kaWFsb2ctcm9sZT1cImNsb3NlLWJ1dHRvblwiXScsXG4gICAgICBjbG9zZVRpbWVvdXQ6IDIwMCxcbiAgICAgIGRyYWdnYWJsZUVsZW1lbnRTZWxlY3RvcjogJ1tkYXRhLWRpYWxvZy1yb2xlPVwiZHJhZ2dhYmxlXCJdJyxcbiAgICAgIHpJbmRleE9mZnNldDogMTAwMFxuICAgIH07XG5cbiAgICBjb25zdCB1c2VyT3B0aW9ucyA9IFV0aWxzLmRhdGFTZXRUb09wdGlvbnModGhpcy5lbGVtZW50KTtcbiAgICBmb3IgKGxldCBvcHRpb24gaW4gdXNlck9wdGlvbnMpIHtcbiAgICAgIGlmICh1c2VyT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gdXNlck9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtIVE1MRGlhbG9nfTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIEludmVyc29mdCBJbmMuLCBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsXG4gKiBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpY1xuICogbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1ByaW1lRG9jdW1lbnR9IGZyb20gXCIuLi9QcmltZURvY3VtZW50LmpzXCI7XG5pbXBvcnQge1ByaW1lRWxlbWVudH0gZnJvbSBcIi4uL0RvY3VtZW50L1ByaW1lRWxlbWVudC5qc1wiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4uL1V0aWxzLmpzXCI7XG5cbmNsYXNzIEluUHJvZ3Jlc3Mge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIEluIFByb2dyZXNzIHdpZGdldCB0aGF0IG9wZW5zIGFuIG92ZXJsYXkgb3ZlciBhbiBlbGVtZW50IHdoaWxlIHNvbWV0aGluZyBpcyBydW5uaW5nIGFuZCBjbG9zZXMgaXQgd2hlblxuICAgKiBpdCBmaW5pc2hlcy5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8RWxlbWVudHxFdmVudFRhcmdldH0gZWxlbWVudCBUaGUgUHJpbWUgRWxlbWVudCB0byBvdmVybGF5LlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVFbGVtZW50LndyYXAoZWxlbWVudCk7XG4gICAgdGhpcy5fc2V0SW5pdGlhbE9wdGlvbnMoKTtcbiAgICB0aGlzLmRyYWdnYWJsZSA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBJblByb2dyZXNzIHByb2Nlc3MuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIChPcHRpb25hbCkgQSBjYWxsYmFjayBmdW5jdGlvbiB0byBpbnZva2UgYWZ0ZXIgdGhlIEluUHJvZ3Jlc3MgaGFzIGJlZW4gY29tcGxldGVseSBjbG9zZWQuXG4gICAqL1xuICBjbG9zZShjYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLm9wdGlvbnMuZW5kRnVuY3Rpb24odGhpcyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgY29uc3QgZHVyYXRpb24gPSBub3cgLSB0aGlzLnN0YXJ0SW5zdGFudDtcbiAgICAgIGlmIChkdXJhdGlvbiA8IHRoaXMub3B0aW9ucy5taW5pbXVtVGltZSkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHRoaXMub3ZlcmxheS5yZW1vdmVGcm9tRE9NKCk7XG5cbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcyksIHRoaXMub3B0aW9ucy5taW5pbXVtVGltZSAtIGR1cmF0aW9uKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMub3ZlcmxheS5yZW1vdmVGcm9tRE9NKCk7XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIE9wZW5zIHRoZSBJblByb2dyZXNzIHByb2Nlc3MuXG4gICAqL1xuICBvcGVuKCkge1xuICAgIHRoaXMuc3RhcnRJbnN0YW50ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdGhpcy5vdmVybGF5ID0gUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8ZGl2Lz4nKS5zZXRJZCgncHJpbWUtaW4tcHJvZ3Jlc3Mtb3ZlcmxheScpLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpO1xuICAgIFByaW1lRG9jdW1lbnQubmV3RWxlbWVudCgnPGkvPicsIHtjbGFzczogJ2ZhIGZhLXNwaW4gZmEtJyArIHRoaXMub3B0aW9ucy5pY29uTmFtZX0pLmFwcGVuZFRvKHRoaXMub3ZlcmxheSk7XG5cbiAgICBjb25zdCBjb29yZHMgPSB0aGlzLmVsZW1lbnQuZ2V0Q29vcmRpbmF0ZXMoKTtcbiAgICBjb25zdCBib2R5Q29vcmRzID0gUHJpbWVEb2N1bWVudC5ib2R5RWxlbWVudC5nZXRDb29yZGluYXRlcygpO1xuICAgIHRoaXMub3ZlcmxheS5zZXRUb3AoY29vcmRzLnRvcCAtIGJvZHlDb29yZHMudG9wKTtcbiAgICB0aGlzLm92ZXJsYXkuc2V0TGVmdChjb29yZHMubGVmdCAtIGJvZHlDb29yZHMubGVmdCk7XG4gICAgdGhpcy5vdmVybGF5LnNldFdpZHRoKHRoaXMuZWxlbWVudC5nZXRCb3JkZXJlZFdpZHRoKCkpO1xuICAgIHRoaXMub3ZlcmxheS5zZXRIZWlnaHQodGhpcy5lbGVtZW50LmdldEJvcmRlcmVkSGVpZ2h0KCkpO1xuICAgIHRoaXMub3ZlcmxheS5zZXRTdHlsZSgnekluZGV4JywgKHRoaXMuZWxlbWVudC5nZXRSZWxhdGl2ZVpJbmRleCgpICsgMTAwMCkudG9TdHJpbmcoKSk7XG5cbiAgICB0aGlzLm9wdGlvbnMuc3RhcnRGdW5jdGlvbih0aGlzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGVuZCBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBJblByb2dyZXNzIHByb2Nlc3MgaXMgZmluaXNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSBmIHtmdW5jdGlvbn0gVGhlIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7SW5Qcm9ncmVzc30gVGhpcy5cbiAgICovXG4gIHdpdGhFbmRGdW5jdGlvbihmKSB7XG4gICAgdGhpcy5vcHRpb25zLmVuZEZ1bmN0aW9uID0gZjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBGb250QXdlc29tZSBpY29uIG5hbWUgdG8gdXNlIGZvciB0aGUgb3ZlcmxheS5cbiAgICpcbiAgICogQHBhcmFtIGljb25OYW1lIHtzdHJpbmd9IFRoZSBpY29uIG5hbWUuXG4gICAqIEByZXR1cm5zIHtJblByb2dyZXNzfSBUaGlzLlxuICAgKi9cbiAgd2l0aEljb25OYW1lKGljb25OYW1lKSB7XG4gICAgdGhpcy5vcHRpb25zLmljb25OYW1lID0gaWNvbk5hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbWluaW11bSB0aW1lIHRoYXQgdGhlIEluUHJvZ3Jlc3MgcHJvY2VzcyBtdXN0IHJ1bi5cbiAgICpcbiAgICogQHBhcmFtIHRpbWUge251bWJlcn0gVGhlIHRpbWUgaW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcmV0dXJucyB7SW5Qcm9ncmVzc30gVGhpcy5cbiAgICovXG4gIHdpdGhNaW5pbXVtVGltZSh0aW1lKSB7XG4gICAgdGhpcy5vcHRpb25zLm1pbmltdW1UaW1lID0gdGltZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzdGFydCBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuIHRoZSBJblByb2dyZXNzIHByb2Nlc3MgaXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHBhcmFtIGYge2Z1bmN0aW9ufSBUaGUgZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtJblByb2dyZXNzfSBUaGlzLlxuICAgKi9cbiAgd2l0aFN0YXJ0RnVuY3Rpb24oZikge1xuICAgIHRoaXMub3B0aW9ucy5zdGFydEZ1bmN0aW9uID0gZjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGluaXRpYWwgb3B0aW9ucyBmb3IgdGhpcyB3aWRnZXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0SW5pdGlhbE9wdGlvbnMoKSB7XG4gICAgLy8gRGVmYXVsdHNcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBlbmRGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB9LFxuICAgICAgaWNvbk5hbWU6ICdyZWZyZXNoJyxcbiAgICAgIG1pbmltdW1UaW1lOiAxMDAwLFxuICAgICAgc3RhcnRGdW5jdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNvbnN0IHVzZXJPcHRpb25zID0gVXRpbHMuZGF0YVNldFRvT3B0aW9ucyh0aGlzLmVsZW1lbnQpO1xuICAgIGZvciAobGV0IG9wdGlvbiBpbiB1c2VyT3B0aW9ucykge1xuICAgICAgaWYgKHVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zW29wdGlvbl0gPSB1c2VyT3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge0luUHJvZ3Jlc3N9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE4LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtFdmVudHN9IGZyb20gXCIuLi9FdmVudHMuanNcIjtcbmltcG9ydCB7UHJpbWVEb2N1bWVudH0gZnJvbSBcIi4uL1ByaW1lRG9jdW1lbnQuanNcIjtcbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcblxuY2xhc3MgU2VhcmNoZXIge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIFNlYXJjaGVyIG9iamVjdCBmb3IgdGhlIGdpdmVuIHRleHQgaW5wdXQuXG4gICAqXG4gICAqIFRoZSBTZWFyY2hlciBvYmplY3QgY2FuIGJlIGF0dGFjaGVkIGFuZCB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYW55IG90aGVyIHdpZGdldHMgaW4gYSBnZW5lcmljIG1hbm5lci4gSXRcbiAgICogcHJvdmlkZXMgc2VhcmNoIGNhcGFiaWxpdGllcyBhbmQgbWFuYWdlcyB0aGUgc2VhcmNoIHJlc3VsdHMuIFRoaXMgaXMgdXNlZnVsIGZvciBNdWx0aXBsZVNlbGVjdHMsIEludGVsbGlTZW5zZSBhbmRcbiAgICogb3RoZXIgd2lkZ2V0cy4gSGVyZSdzIHRoZSBIVE1MIGZvciB0aGUgc2VhcmNoIHJlc3VsdHMuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAgJmx0O2lucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJwcmltZS1zZWFyY2gtcmVzdWx0LWlucHV0XCIgdmFsdWU9XCJGXCIvPlxuICAgKiAgICZsdDt1bD5cbiAgICogICAgICZsdDtsaT5Gb3VyJmx0Oy9saT5cbiAgICogICAgICZsdDtsaT5GaXZlJmx0Oy9saT5cbiAgICogICAgICZsdDtsaT5GaWZ0ZWVuJmx0Oy9saT5cbiAgICogICAgICZsdDtsaT5BZGQgQ3VzdG9tIEVudHJ5OiBGL2xpPlxuICAgKiAgICZsdDsvdWw+XG4gICAqICZsdDsvZGl2PlxuICAgKiA8L3ByZT5cbiAgICpcbiAgICogVGhlIHdpdGgqIG1ldGhvZHMgY2FuIGJlIHVzZWQgdG8gc2V0dXAgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgU2VhcmNoUmVzdWx0cywgYnV0IGhlcmUgYXJlIHNvbWUgZGVmYXVsdHM6XG4gICAqXG4gICAqIDx1bD5cbiAgICogICA8bGk+Y2xvc2VUaW1lb3V0ID0gMjAwPC9saT5cbiAgICogICA8bGk+Y3VzdG9tQWRkRW5hYmxlZCA9IHRydWU8L2xpPlxuICAgKiAgIDxsaT5jdXN0b21BZGRDYWxsYmFjayA9IGZ1bmN0aW9uKGN1c3RvbVZhbHVlKXtyZXR1cm4gdHJ1ZTt9PC9saT5cbiAgICogICA8bGk+Y3VzdG9tQWRkTGFiZWwgPSBcIkFkZCBDdXN0b206XCI8L2xpPlxuICAgKiAgIDxsaT50b29NYW55U2VhcmNoUmVzdWx0c0xhYmVsID0gXCJUb28gTWFueSBNYXRjaGVzIEZvcjpcIjwvbGk+XG4gICAqICAgPGxpPm5vU2VhcmNoUmVzdWx0c0xhYmVsID0gXCJObyBNYXRjaGVzIEZvcjpcIjwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIFRoZSBjYWxsYmFjayBvYmplY3QgbXVzdCBjb25mb3JtIHRvIHRoaXMgaW50ZXJmYWNlOlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgIENhbGxiYWNrT2JqZWN0IHtcbiAqICAgICB2b2lkIGRlbGV0ZWRCZXlvbmRTZWFyY2hJbnB1dCgpXG4gKiAgICAgdm9pZCBkb2VzTm90Q29udGFpblZhbHVlKClcbiAqICAgICBvYmplY3R7cmVzdWx0czpBcnJheSwgdG9vTWFueVJlc3VsdHM6Ym9vbGVhbn0gc2VhcmNoKF9zZWFyY2hTdHJpbmc6c3RyaW5nKSxcbiAqICAgICB2b2lkIHNlbGVjdFNlYXJjaFJlc3VsdChzZWxlY3RlZFNlYXJjaFJlc3VsdDpzdHJpbmcpLFxuICogICB9XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8RWxlbWVudHxFdmVudFRhcmdldH0gaW5wdXRFbGVtZW50IFRoZSBpbnB1dCBlbGVtZW50IHRoYXQgaXMgdXNlZCB0byBleGVjdXRlIHRoZSBzZWFyY2guXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR8RXZlbnRUYXJnZXR9IHNlYXJjaFJlc3VsdHNDb250YWluZXIgVGhlIGVsZW1lbnQgdGhhdCBpcyB1c2VkIHRvIHN0b3JlIHRoZSBzZWFyY2ggcmVzdWx0cy5cbiAgICogQHBhcmFtIHsqfSBjYWxsYmFja09iamVjdCBUaGUgb2JqZWN0IHRoYXQgaXMgdXNlZCB0byBjYWxsYmFjayBmb3Igc2VhcmNoaW5nIGFuZCBudW1lcm91cyBvdGhlciBmdW5jdGlvbnMgdG8gaGVscFxuICAgKiAgICAgICAgICAgIGNvbW11bmljYXRlIHN0YXRlIGFuZCBkZXRlcm1pbmUgaG93IHRvIGRyYXcgdGhlIGlucHV0IGFuZCBzZWFyY2ggcmVzdWx0cy5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGlucHV0RWxlbWVudCwgc2VhcmNoUmVzdWx0c0NvbnRhaW5lciwgY2FsbGJhY2tPYmplY3QpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gUHJpbWVFbGVtZW50LndyYXAoc2VhcmNoUmVzdWx0c0NvbnRhaW5lcik7XG4gICAgdGhpcy5pbnB1dEVsZW1lbnQgPSBQcmltZUVsZW1lbnQud3JhcChpbnB1dEVsZW1lbnQpO1xuICAgIGlmICh0aGlzLmlucHV0RWxlbWVudC5kb21FbGVtZW50LnRhZ05hbWUgIT09ICdJTlBVVCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1lvdSBjYW4gb25seSB1c2UgUHJpbWUuV2lkZ2V0cy5TZWFyY2hSZXN1bHRzIHdpdGggSU5QVVQgZWxlbWVudHMnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRJbml0aWFsT3B0aW9ucyhjYWxsYmFja09iamVjdCk7XG4gIH1cblxuICAvKipcbiAgICogQSBzZWFyY2ggZnVuY3Rpb24gdGhhdCB3b3JrcyBvbiBhIHNlbGVjdCBib3guXG4gICAqXG4gICAqIEBwYXJhbSBzZWFyY2hUZXh0IHtTdHJpbmd9IFRoZSBzZWFyY2ggU3RyaW5nLlxuICAgKiBAcGFyYW0gc2VsZWN0IHtIVE1MU2VsZWN0RWxlbWVudHxQcmltZUVsZW1lbnR9IFRoZSBzZWxlY3QgYm94LlxuICAgKiBAcmV0dXJucyB7e3Jlc3VsdHM6IEFycmF5LCB0b29NYW55UmVzdWx0czogYm9vbGVhbn19XG4gICAqL1xuICBzdGF0aWMgc2VsZWN0U2VhcmNoRnVuY3Rpb24oc2VhcmNoVGV4dCwgc2VsZWN0KSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IFByaW1lRWxlbWVudC51bndyYXAoc2VsZWN0KS5vcHRpb25zO1xuICAgIGNvbnN0IHNlbGVjdGFibGVPcHRpb25zID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvcHRpb24gPSBuZXcgUHJpbWVFbGVtZW50KG9wdGlvbnNbaV0pO1xuICAgICAgaWYgKG9wdGlvbi5pc1NlbGVjdGVkKCkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGh0bWwgPSBvcHRpb24uZ2V0SFRNTCgpO1xuICAgICAgaWYgKHNlYXJjaFRleHQgPT09IG51bGwgfHwgc2VhcmNoVGV4dCA9PT0gdW5kZWZpbmVkIHx8IHNlYXJjaFRleHQgPT09ICcnIHx8IGh0bWwudG9Mb3dlckNhc2UoKS5pbmRleE9mKHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSkgPT09IDApIHtcbiAgICAgICAgc2VsZWN0YWJsZU9wdGlvbnMucHVzaChodG1sKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBbHBoYWJldGl6ZSB0aGUgb3B0aW9uc1xuICAgIGlmIChzZWxlY3RhYmxlT3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICBzZWxlY3RhYmxlT3B0aW9ucy5zb3J0KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtyZXN1bHRzOiBzZWxlY3RhYmxlT3B0aW9ucywgdG9vTWFueVJlc3VsdHM6IGZhbHNlfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbG9zZXMgdGhlIHNlYXJjaCByZXN1bHRzIGRpc3BsYXksIHVuaGlnaGxpZ2h0cyBhbnkgb3B0aW9ucyB0aGF0IGFyZSBoaWdobGlnaHRlZCBhbmQgcmVzZXRzIHRoZSBpbnB1dCdzIHZhbHVlIHRvXG4gICAqIGVtcHR5IHN0cmluZy5cbiAgICovXG4gIGNsb3NlU2VhcmNoUmVzdWx0cygpIHtcbiAgICB0aGlzLl9yZW1vdmVBbGxTZWFyY2hSZXN1bHRzKCk7XG4gICAgdGhpcy5pbnB1dEVsZW1lbnQuc2V0VmFsdWUoJycpO1xuICAgIHRoaXMuc2VhcmNoUmVzdWx0cy5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNlYXJjaFJlc3VsdHMuaGlkZSgpO1xuICAgICAgdGhpcy5yZXNpemVJbnB1dCgpO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5vcHRpb25zLmNsb3NlVGltZW91dCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgb2YgdGhlIGV2ZW50IGxpc3RlbmVycyBmcm9tIHRoZSBpbnB1dCBlbGVtZW50LlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmlucHV0RWxlbWVudFxuICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuX2hhbmRsZUJsdXJFdmVudClcbiAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tFdmVudClcbiAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlS2V5VXBFdmVudClcbiAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVLZXlEb3duRXZlbnQpXG4gICAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1cycsIHRoaXMuX2hhbmRsZUZvY3VzRXZlbnQpO1xuICB9XG5cbiAgZm9jdXMoKSB7XG4gICAgdGhpcy5pbnB1dEVsZW1lbnQuZm9jdXMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7UHJpbWVFbGVtZW50fSBUaGUgaGlnaGxpZ2h0ZWQgc2VhcmNoIHJlc3VsdCBvciBudWxsLlxuICAgKi9cbiAgZ2V0SGlnaGxpZ2h0ZWRTZWFyY2hSZXN1bHQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VhcmNoUmVzdWx0cy5xdWVyeUZpcnN0KCcuc2VsZWN0ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWdobGlnaHRzIHRoZSBuZXh0IHNlYXJjaCByZXN1bHQgaWYgb25lIGlzIGhpZ2hsaWdodGVkLiBJZiB0aGVyZSBpc24ndCBhIGhpZ2hsaWdodGVkIHNlYXJjaCByZXN1bHQsIHRoaXNcbiAgICogaGlnaGxpZ2h0cyB0aGUgZmlyc3Qgb25lLiBUaGlzIG1ldGhvZCBoYW5kbGVzIHdyYXBwaW5nLlxuICAgKlxuICAgKiBAcmV0dXJucyB7U2VhcmNoZXJ9IFRoaXMgU2VhcmNoZXIuXG4gICAqL1xuICBoaWdobGlnaHROZXh0U2VhcmNoUmVzdWx0KCkge1xuICAgIGxldCBzZWFyY2hSZXN1bHQgPSB0aGlzLmdldEhpZ2hsaWdodGVkU2VhcmNoUmVzdWx0KCk7XG4gICAgaWYgKHNlYXJjaFJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgc2VhcmNoUmVzdWx0ID0gc2VhcmNoUmVzdWx0LmdldE5leHRTaWJsaW5nKCk7XG4gICAgfVxuXG4gICAgLy8gR3JhYiB0aGUgZmlyc3Qgc2VhcmNoIHJlc3VsdCBpbiB0aGUgbGlzdCBpZiB0aGVyZSBpc24ndCBhIG5leHQgc2libGluZ1xuICAgIGlmIChzZWFyY2hSZXN1bHQgPT09IG51bGwpIHtcbiAgICAgIHNlYXJjaFJlc3VsdCA9IHRoaXMuc2VhcmNoUmVzdWx0cy5xdWVyeUZpcnN0KCcuc2VhcmNoLXJlc3VsdCcpO1xuICAgIH1cblxuICAgIGlmIChzZWFyY2hSZXN1bHQgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuaGlnaGxpZ2h0U2VhcmNoUmVzdWx0KHNlYXJjaFJlc3VsdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSGlnaGxpZ2h0cyB0aGUgcHJldmlvdXMgc2VhcmNoIHJlc3VsdCBpZiBvbmUgaXMgaGlnaGxpZ2h0ZWQuIElmIHRoZXJlIGlzbid0IGEgaGlnaGxpZ2h0ZWQgc2VhcmNoIHJlc3VsdCwgdGhpc1xuICAgKiBzZWxlY3RzIHRoZSBsYXN0IG9uZS4gVGhpcyBtZXRob2QgaGFuZGxlcyB3cmFwcGluZy5cbiAgICpcbiAgICogQHJldHVybnMge1NlYXJjaGVyfSBUaGlzIFNlYXJjaGVyLlxuICAgKi9cbiAgaGlnaGxpZ2h0UHJldmlvdXNTZWFyY2hSZXN1bHQoKSB7XG4gICAgbGV0IHNlYXJjaFJlc3VsdCA9IHRoaXMuZ2V0SGlnaGxpZ2h0ZWRTZWFyY2hSZXN1bHQoKTtcbiAgICBpZiAoc2VhcmNoUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICBzZWFyY2hSZXN1bHQgPSBzZWFyY2hSZXN1bHQuZ2V0UHJldmlvdXNTaWJsaW5nKCk7XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaFJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgc2VhcmNoUmVzdWx0ID0gdGhpcy5zZWFyY2hSZXN1bHRzLnF1ZXJ5Rmlyc3QoJy5zZWFyY2gtcmVzdWx0Jyk7XG4gICAgfVxuXG4gICAgaWYgKHNlYXJjaFJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5oaWdobGlnaHRTZWFyY2hSZXN1bHQoc2VhcmNoUmVzdWx0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWdobGlnaHRzIHRoZSBnaXZlbiBzZWFyY2ggcmVzdWx0LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudH0gc2VhcmNoUmVzdWx0IFRoZSBzZWFyY2ggcmVzdWx0IHRvIGhpZ2hsaWdodC5cbiAgICogQHJldHVybnMge1NlYXJjaGVyfSBUaGlzIFNlYXJjaGVyLlxuICAgKi9cbiAgaGlnaGxpZ2h0U2VhcmNoUmVzdWx0KHNlYXJjaFJlc3VsdCkge1xuICAgIHRoaXMuc2VhcmNoUmVzdWx0cy5nZXRDaGlsZHJlbigpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuXG4gICAgc2VhcmNoUmVzdWx0LmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHRoaXMuc2VhcmNoUmVzdWx0cy5nZXRTY3JvbGxUb3AoKTtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnNlYXJjaFJlc3VsdHMuZ2V0SGVpZ2h0KCk7XG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0T2Zmc2V0ID0gc2VhcmNoUmVzdWx0LmdldE9mZnNldFRvcCgpO1xuICAgIGlmIChzZWFyY2hSZXN1bHRPZmZzZXQgKyAxID49IHNjcm9sbFRvcCArIGhlaWdodCkge1xuICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnNjcm9sbFRvKHNlYXJjaFJlc3VsdC5nZXRPZmZzZXRUb3AoKSAtIHRoaXMuc2VhcmNoUmVzdWx0cy5nZXRIZWlnaHQoKSArIHNlYXJjaFJlc3VsdC5nZXRPdXRlckhlaWdodCgpKTtcbiAgICB9IGVsc2UgaWYgKHNlYXJjaFJlc3VsdE9mZnNldCA8IHNjcm9sbFRvcCkge1xuICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnNjcm9sbFRvKHNlYXJjaFJlc3VsdE9mZnNldCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIFNlYXJjaGVyIGJ5IHNldHRpbmcgdXAgdGhlIGV2ZW50IGxpc3RlbmVycyBhbmQgY2xvc2luZyB0aGUgc2VhcmNoIHJlc3VsdCBlbGVtZW50LlxuICAgKlxuICAgKiBAcmV0dXJucyB7U2VhcmNoZXJ9IFRoaXMuXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuaW5wdXRFbGVtZW50XG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlQmx1ckV2ZW50KVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGlja0V2ZW50KVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVLZXlVcEV2ZW50KVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUtleURvd25FdmVudClcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5faGFuZGxlRm9jdXNFdmVudCk7XG5cbiAgICB0aGlzLmNsb3NlU2VhcmNoUmVzdWx0cygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzZWFyY2ggcmVzdWx0cyBhZGQgY3VzdG9tIG9wdGlvbiBpcyBiZWluZyBkaXNwbGF5ZWQgY3VycmVudGx5LlxuICAgKi9cbiAgaXNDdXN0b21BZGRWaXNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaFJlc3VsdHMucXVlcnlGaXJzdCgnLmN1c3RvbS1hZGQnKSAhPT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbnkgc2VhcmNoIHJlc3VsdHMgYXJlIGJlaW5nIGRpc3BsYXllZCBjdXJyZW50bHkuXG4gICAqL1xuICBpc1NlYXJjaFJlc3VsdHNWaXNpYmxlKCkge1xuICAgIHJldHVybiB0aGlzLnNlYXJjaFJlc3VsdHMuaGFzQ2xhc3MoJ29wZW4nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQb29yIG1hbnMgcmVzaXppbmcgb2YgdGhlIGlucHV0IGZpZWxkIGFzIHRoZSB1c2VyIHR5cGVzIGludG8gaXQuXG4gICAqL1xuICByZXNpemVJbnB1dCgpIHtcbiAgICBjb25zdCB0ZXh0ID0gdGhpcy5pbnB1dEVsZW1lbnQuZ2V0VmFsdWUoKSA9PT0gJycgPyB0aGlzLmlucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJykgOiB0aGlzLmlucHV0RWxlbWVudC5nZXRWYWx1ZSgpO1xuICAgIGNvbnN0IG5ld0xlbmd0aCA9IFV0aWxzLmNhbGN1bGF0ZVRleHRMZW5ndGgodGhpcy5pbnB1dEVsZW1lbnQsIHRleHQpICsgMzU7XG4gICAgdGhpcy5pbnB1dEVsZW1lbnQuc2V0V2lkdGgobmV3TGVuZ3RoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFeGVjdXRlcyBhIHNlYXJjaCBieSBvcHRpb25hbGx5IHVwZGF0aW5nIHRoZSBpbnB1dCB0byB0aGUgZ2l2ZW4gdmFsdWUgKGlmIHNwZWNpZmllZCkgYW5kIHRoZW4gcmVidWlsZGluZyB0aGUgc2VhcmNoXG4gICAqIHJlc3VsdHMgdXNpbmcgdGhlIGlucHV0J3MgdmFsdWUuIFRoaXMgbWV0aG9kIGFsc28gcHV0cyBmb2N1cyBvbiB0aGUgaW5wdXQgYW5kIHNob3dzIHRoZSBzZWFyY2ggcmVzdWx0cyAoaW4gY2FzZVxuICAgKiB0aGV5IGFyZSBoaWRkZW4gZm9yIGFueSByZWFzb24pLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlYXJjaFRleHRdIFRoZSB0ZXh0IHRvIHNlYXJjaCBmb3IgKHRoaXMgdmFsdWUgaXMgYWxzbyBzZXQgaW50byB0aGUgaW5wdXQgYm94KS4gSWYgdGhpcyBpcyBub3RcbiAgICogc3BlY2lmaWVkIHRoZW4gdGhlIHNlYXJjaCBpcyBydW4gdXNpbmcgdGhlIGlucHV0J3MgdmFsdWUuXG4gICAqIEByZXR1cm5zIHtTZWFyY2hlcn0gVGhpcyBTZWFyY2hlci5cbiAgICovXG4gIHNlYXJjaChzZWFyY2hUZXh0KSB7XG4gICAgLy8gU2V0IHRoZSBzZWFyY2ggdGV4dCBpbnRvIHRoZSBpbnB1dCBib3ggaWYgaXQgaXMgZGlmZmVyZW50IGFuZCB0aGVuIGxvd2VyY2FzZSBpdFxuICAgIGlmIChVdGlscy5pc0RlZmluZWQoc2VhcmNoVGV4dCkgJiYgdGhpcy5pbnB1dEVsZW1lbnQuZ2V0VmFsdWUoKSAhPT0gc2VhcmNoVGV4dCkge1xuICAgICAgdGhpcy5pbnB1dEVsZW1lbnQuc2V0VmFsdWUoc2VhcmNoVGV4dCk7XG4gICAgfVxuXG4gICAgc2VhcmNoVGV4dCA9IFV0aWxzLmlzRGVmaW5lZChzZWFyY2hUZXh0KSA/IHNlYXJjaFRleHQudG9Mb3dlckNhc2UoKSA6IHRoaXMuaW5wdXRFbGVtZW50LmdldFZhbHVlKCk7XG4gICAgdGhpcy5yZXNpemVJbnB1dCgpO1xuXG4gICAgLy8gQ2xlYXIgdGhlIHNlYXJjaCByZXN1bHRzIChpZiB0aGVyZSBhcmUgYW55KVxuICAgIHRoaXMuX3JlbW92ZUFsbFNlYXJjaFJlc3VsdHMoKTtcblxuICAgIC8vIENhbGwgdGhlIGNhbGxiYWNrXG4gICAgY29uc3Qgc2VhcmNoUmVzdWx0cyA9IHRoaXMub3B0aW9ucy5jYWxsYmFja09iamVjdC5zZWFyY2goc2VhcmNoVGV4dCk7XG4gICAgaWYgKCFzZWFyY2hSZXN1bHRzLmhhc093blByb3BlcnR5KCdyZXN1bHRzJykgfHwgIXNlYXJjaFJlc3VsdHMuaGFzT3duUHJvcGVydHkoJ3Rvb01hbnlSZXN1bHRzJykpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjYWxsYmFjayBtdXN0IHJldHVybiBhbiBPYmplY3QgdGhhdCBjb250YWlucyB0aGUgcHJvcGVydGllcyByZXN1bHRzW0FycmF5XSBhbmQgdG9vTWFueVJlc3VsdHNbYm9vbGVhbl0nKTtcbiAgICB9XG5cbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGxldCBtYXRjaGluZ1NlYXJjaFJlc3VsdEVsZW1lbnQgPSBudWxsO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VhcmNoUmVzdWx0cy5yZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSBzZWFyY2hSZXN1bHRzLnJlc3VsdHNbaV07XG4gICAgICBjb25zdCBlbGVtZW50ID0gUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8bGkvPicpXG4gICAgICAgICAgLmFkZENsYXNzKCdzZWFyY2gtcmVzdWx0JylcbiAgICAgICAgICAuc2V0QXR0cmlidXRlKCd2YWx1ZScsIHNlYXJjaFJlc3VsdClcbiAgICAgICAgICAuc2V0SFRNTChzZWFyY2hSZXN1bHQpXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tFdmVudClcbiAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgdGhpcy5faGFuZGxlTW91c2VPdmVyRXZlbnQpXG4gICAgICAgICAgLmFwcGVuZFRvKHRoaXMuc2VhcmNoUmVzdWx0cyk7XG4gICAgICBpZiAoc2VhcmNoUmVzdWx0LnRvTG93ZXJDYXNlKCkudHJpbSgpID09PSBzZWFyY2hUZXh0LnRvTG93ZXJDYXNlKCkudHJpbSgpKSB7XG4gICAgICAgIG1hdGNoaW5nU2VhcmNoUmVzdWx0RWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICB9XG5cbiAgICAgIGNvdW50Kys7XG4gICAgfVxuXG4gICAgLy8gU2hvdyB0aGUgY3VzdG9tIGFkZCBvcHRpb24gaWYgbmVjZXNzYXJ5XG4gICAgY29uc3QgdHJpbW1lZExlbmd0aCA9IHNlYXJjaFRleHQudHJpbSgpLmxlbmd0aDtcbiAgICBpZiAodGhpcy5vcHRpb25zLmN1c3RvbUFkZEVuYWJsZWQgJiYgdHJpbW1lZExlbmd0aCAhPT0gMCAmJiBtYXRjaGluZ1NlYXJjaFJlc3VsdEVsZW1lbnQgPT09IG51bGxcbiAgICAgICAgJiYgKCEoJ2RvZXNOb3RDb250YWluVmFsdWUnIGluIHRoaXMub3B0aW9ucy5jYWxsYmFja09iamVjdCkgfHwgdGhpcy5vcHRpb25zLmNhbGxiYWNrT2JqZWN0LmRvZXNOb3RDb250YWluVmFsdWUoc2VhcmNoVGV4dCkpKSB7XG4gICAgICBtYXRjaGluZ1NlYXJjaFJlc3VsdEVsZW1lbnQgPSBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoJzxsaS8+JylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ2N1c3RvbS1hZGQnKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrRXZlbnQpXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMuX2hhbmRsZU1vdXNlT3ZlckV2ZW50KVxuICAgICAgICAgIC5zZXRIVE1MKHRoaXMub3B0aW9ucy5jdXN0b21BZGRMYWJlbCArIFV0aWxzLmVzY2FwZUhUTUwoc2VhcmNoVGV4dCkpXG4gICAgICAgICAgLmFwcGVuZFRvKHRoaXMuc2VhcmNoUmVzdWx0cyk7XG4gICAgICBjb3VudCsrO1xuICAgIH1cblxuICAgIGlmIChjb3VudCA9PT0gMCAmJiB0cmltbWVkTGVuZ3RoICE9PSAwKSB7XG4gICAgICBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoJzxsaS8+JylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ25vLXNlYXJjaC1yZXN1bHRzJylcbiAgICAgICAgICAuc2V0SFRNTCh0aGlzLm9wdGlvbnMubm9TZWFyY2hSZXN1bHRzTGFiZWwgKyBVdGlscy5lc2NhcGVIVE1MKHNlYXJjaFRleHQpKVxuICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLnNlYXJjaFJlc3VsdHMpO1xuICAgICAgY291bnQrKztcbiAgICB9XG5cbiAgICAvLyBIYW5kbGUgdG9vIG1hbnkgcmVzdWx0c1xuICAgIGlmIChzZWFyY2hSZXN1bHRzLnRvb01hbnlSZXN1bHRzKSB7XG4gICAgICBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoJzxsaS8+JylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ3Rvby1tYW55LXNlYXJjaC1yZXN1bHRzJylcbiAgICAgICAgICAuc2V0SFRNTCh0aGlzLm9wdGlvbnMudG9vTWFueVNlYXJjaFJlc3VsdHNMYWJlbCArIFV0aWxzLmVzY2FwZUhUTUwoc2VhcmNoVGV4dCkpXG4gICAgICAgICAgLmFwcGVuZFRvKHRoaXMuc2VhcmNoUmVzdWx0cyk7XG4gICAgICBjb3VudCsrO1xuICAgIH1cblxuICAgIGlmIChjb3VudCAhPT0gMCkge1xuICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnNob3coKTtcbiAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cy5hZGRDbGFzcygnb3BlbicpO1xuXG4gICAgICBpZiAoY291bnQgPj0gMTApIHtcbiAgICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzLnNldEhlaWdodCh0aGlzLnNlYXJjaFJlc3VsdHMuZ2V0Q2hpbGRyZW4oKVswXS5nZXRPdXRlckhlaWdodCgpICogMTAgKyAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VhcmNoUmVzdWx0cy5zZXRIZWlnaHQodGhpcy5zZWFyY2hSZXN1bHRzLmdldENoaWxkcmVuKClbMF0uZ2V0T3V0ZXJIZWlnaHQoKSAqIGNvdW50ICsgMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2xvc2VTZWFyY2hSZXN1bHRzKCk7XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoaW5nU2VhcmNoUmVzdWx0RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5oaWdobGlnaHRTZWFyY2hSZXN1bHQobWF0Y2hpbmdTZWFyY2hSZXN1bHRFbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIHRoZSBoaWdobGlnaHRlZCBzZWFyY2ggcmVzdWx0IHVubGVzcyB0aGVyZSBpc24ndCBvbmUgaGlnaGxpZ2h0ZWQsIGluIHdoaWNoIGNhc2UsIHRoaXMgZG9lcyBub3RoaW5nLlxuICAgKlxuICAgKiBAcmV0dXJucyB7U2VhcmNoZXJ9IFRoaXMgU2VhcmNoZXIuXG4gICAqL1xuICBzZWxlY3RIaWdobGlnaHRlZFNlYXJjaFJlc3VsdCgpIHtcbiAgICBjb25zdCBzZWFyY2hSZXN1bHQgPSB0aGlzLmdldEhpZ2hsaWdodGVkU2VhcmNoUmVzdWx0KCk7XG4gICAgaWYgKHNlYXJjaFJlc3VsdCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgY29uc3QgY3VzdG9tID0gc2VhcmNoUmVzdWx0Lmhhc0NsYXNzKCdjdXN0b20tYWRkJyk7XG4gICAgY29uc3QgdmFsdWUgPSAoY3VzdG9tKSA/IHRoaXMuaW5wdXRFbGVtZW50LmdldFZhbHVlKCkudHJpbSgpIDogc2VhcmNoUmVzdWx0LmdldEhUTUwoKTtcbiAgICBpZiAoY3VzdG9tKSB7XG4gICAgICAvLyBUaGUgY2xpZW50IG9mIHRoaXMgc2VhcmNoZXIgbmVlZHMgdG8gd2FybiB0aGUgdXNlci5cbiAgICAgIGlmICghdGhpcy5vcHRpb25zLmN1c3RvbUFkZENhbGxiYWNrKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm9wdGlvbnMuY2FsbGJhY2tPYmplY3Quc2VsZWN0U2VhcmNoUmVzdWx0KHZhbHVlKTtcbiAgICB0aGlzLmNsb3NlU2VhcmNoUmVzdWx0cygpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGltZW91dCB1c2VkIGluIHRoZSBjbG9zZSBtZXRob2QgdG8gYWxsb3cgZm9yIHRyYW5zaXRpb25zLlxuICAgKlxuICAgKiBAcGFyYW0gdGltZW91dCB7aW50fSBUaGUgdGltZW91dC5cbiAgICogQHJldHVybnMge1NlYXJjaGVyfSBUaGlzLlxuICAgKi9cbiAgd2l0aENsb3NlVGltZW91dCh0aW1lb3V0KSB7XG4gICAgdGhpcy5vcHRpb25zLmNsb3NlVGltZW91dCA9IHRpbWVvdXQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB3aGV0aGVyIG9yIG5vdCB0aGlzIFNlYXJjaGVyIGFsbG93cyBjdXN0b20gb3B0aW9ucyB0byBiZSBhZGRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIFRoZSBmbGFnLlxuICAgKiBAcmV0dXJucyB7U2VhcmNoZXJ9IFRoaXMgU2VhcmNoZXIuXG4gICAqL1xuICB3aXRoQ3VzdG9tQWRkRW5hYmxlZChlbmFibGVkKSB7XG4gICAgdGhpcy5vcHRpb25zLmN1c3RvbUFkZEVuYWJsZWQgPSBlbmFibGVkO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgd2hldGhlciBvciBub3QgdGhpcyBTZWFyY2hlciBhbGxvd3MgY3VzdG9tIG9wdGlvbnMgdG8gYmUgYWRkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjYWxsIHRoYXQgd2lsbCByZXR1cm4gdHJ1ZSBpZiB0aGUgY3VzdG9tIG9wdGlvbiBjYW4gYmUgYWRkZWQuXG4gICAqIEByZXR1cm5zIHtTZWFyY2hlcn0gVGhpcyBTZWFyY2hlci5cbiAgICovXG4gIHdpdGhDdXN0b21BZGRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIHRoaXMub3B0aW9ucy5jdXN0b21BZGRDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxhYmVsIHVzZWQgd2hlbiBjdXN0b20gb3B0aW9ucyBhcmUgYWRkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjdXN0b21BZGRMYWJlbCBUaGUgbGFiZWwuXG4gICAqIEByZXR1cm5zIHtTZWFyY2hlcn0gVGhpcyBTZWFyY2hlci5cbiAgICovXG4gIHdpdGhDdXN0b21BZGRMYWJlbChjdXN0b21BZGRMYWJlbCkge1xuICAgIHRoaXMub3B0aW9ucy5jdXN0b21BZGRMYWJlbCA9IGN1c3RvbUFkZExhYmVsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtb3JlIHRoYW4gb25lIG9wdGlvbiBhdCBhIHRpbWUgYnkgcHJvdmlkaW5nIGEgbWFwIG9mIGtleSB2YWx1ZSBwYWlycy4gVGhpcyBpcyBjb25zaWRlcmVkIGFuIGFkdmFuY2VkXG4gICAqIG1ldGhvZCB0byBzZXQgb3B0aW9ucyBvbiB0aGUgd2lkZ2V0LiBUaGUgY2FsbGVyIG5lZWRzIHRvIGtub3cgd2hhdCBwcm9wZXJ0aWVzIGFyZSB2YWxpZCBpbiB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEtleSB2YWx1ZSBwYWlyIG9mIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICogQHJldHVybnMge1NlYXJjaGVyfSBUaGlzLlxuICAgKi9cbiAgd2l0aE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGFiZWwgdGhhdCBpcyBwcmludGVkIHdoZW4gdGhlcmUgYXJlIG5vIHNlYXJjaCByZXN1bHRzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbm9TZWFyY2hSZXN1bHRzTGFiZWwgVGhlIGxhYmVsIHRleHQuXG4gICAqIEByZXR1cm5zIHtTZWFyY2hlcn0gVGhpcyBTZWFyY2hlci5cbiAgICovXG4gIHdpdGhOb1NlYXJjaFJlc3VsdHNMYWJlbChub1NlYXJjaFJlc3VsdHNMYWJlbCkge1xuICAgIHRoaXMub3B0aW9ucy5ub1NlYXJjaFJlc3VsdHNMYWJlbCA9IG5vU2VhcmNoUmVzdWx0c0xhYmVsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxhYmVsIHRoYXQgaXMgcHJpbnRlZCB3aGVuIHRoZXJlIGFyZSB0b28gbWFueSBzZWFyY2ggcmVzdWx0cy5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHRvb01hbnlTZWFyY2hSZXN1bHRzTGFiZWwgVGhlIGxhYmVsIHRleHQuXG4gICAqIEByZXR1cm5zIHtTZWFyY2hlcn0gVGhpcyBTZWFyY2hlci5cbiAgICovXG4gIHdpdGhUb29NYW55U2VhcmNoUmVzdWx0c0xhYmVsKHRvb01hbnlTZWFyY2hSZXN1bHRzTGFiZWwpIHtcbiAgICB0aGlzLm9wdGlvbnMudG9vTWFueVNlYXJjaFJlc3VsdHNMYWJlbCA9IHRvb01hbnlTZWFyY2hSZXN1bHRzTGFiZWw7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgYmx1ciBldmVudCB3aGVuIHRoZSBpbnB1dCBnb2VzIG91dCBvZiBmb2N1cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVCbHVyRXZlbnQoKSB7XG4gICAgd2luZG93LnNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IHRoaXMuaW5wdXRFbGVtZW50LmRvbUVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZVNlYXJjaFJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9KS5iaW5kKHRoaXMpLCAzMDApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYWxsIGNsaWNrIGV2ZW50cyBzZW50IHRvIHRoZSBTZWFyY2hlci5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIG1vdXNlIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUNsaWNrRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBuZXcgUHJpbWVFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ2N1c3RvbS1hZGQnKSB8fCB0YXJnZXQuaGFzQ2xhc3MoJ3NlYXJjaC1yZXN1bHQnKSkge1xuICAgICAgdGhpcy5zZWxlY3RIaWdobGlnaHRlZFNlYXJjaFJlc3VsdCgpO1xuICAgIH0gZWxzZSBpZiAodGFyZ2V0LmRvbUVsZW1lbnQgPT09IHRoaXMuaW5wdXRFbGVtZW50LmRvbUVsZW1lbnQpIHtcbiAgICAgIHRoaXMuc2VhcmNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDbGlja2VkIHNvbWV0aGluZyBlbHNlIHRhcmdldD1bJyArIGV2ZW50LnRhcmdldCArICddIGN1cnJlbnRUYXJnZXQ9WycgKyBldmVudC5jdXJyZW50VGFyZ2V0ICsgJ10nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB3aGVuIHRoZSBpbnB1dCBmaWVsZCBpcyBmb2N1c2VkIGJ5IG9wZW5pbmcgdGhlIHNlYXJjaCByZXN1bHRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUZvY3VzRXZlbnQoKSB7XG4gICAgdGhpcy5zZWFyY2goKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBrZXkgZG93biBldmVudHMgdGhhdCBzaG91bGQgbm90IGJlIHByb3BhZ2F0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgVGhlIGtleWJvYXJkIGV2ZW50IG9iamVjdC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlEb3duRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBldmVudC5rZXlDb2RlO1xuICAgIGlmIChrZXkgPT09IEV2ZW50cy5LZXlzLkJBQ0tTUEFDRSkge1xuICAgICAgdGhpcy5wcmV2aW91c1NlYXJjaFN0cmluZyA9IHRoaXMuaW5wdXRFbGVtZW50LmdldFZhbHVlKCk7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IEV2ZW50cy5LZXlzLlVQX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgdGhpcy5oaWdobGlnaHRQcmV2aW91c1NlYXJjaFJlc3VsdCgpO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSBFdmVudHMuS2V5cy5ET1dOX0FSUk9XKSB7XG4gICAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuICAgICAgaWYgKHRoaXMuaXNTZWFyY2hSZXN1bHRzVmlzaWJsZSgpKSB7XG4gICAgICAgIHRoaXMuaGlnaGxpZ2h0TmV4dFNlYXJjaFJlc3VsdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWFyY2goKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gRXZlbnRzLktleXMuRU5URVIpIHtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7IC8vIERvbid0IGJ1YmJsZSBlbnRlciBvdGhlcndpc2UgdGhlIGZvcm0gc3VibWl0c1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGFsbCBrZXkgdXAgZXZlbnRzIHNlbnQgdG8gdGhlIHNlYXJjaCByZXN1bHRzIGNvbnRhaW5lci5cbiAgICpcbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5Ym9hcmQgZXZlbnQgb2JqZWN0LlxuICAgKiAgQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVLZXlVcEV2ZW50KGV2ZW50KSB7XG4gICAgY29uc3Qga2V5ID0gZXZlbnQua2V5Q29kZTtcbiAgICBjb25zdCB2YWx1ZSA9IHRoaXMuaW5wdXRFbGVtZW50LmdldFZhbHVlKCk7XG5cbiAgICBpZiAoa2V5ID09PSBFdmVudHMuS2V5cy5CQUNLU1BBQ0UpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gJycgJiYgdGhpcy5wcmV2aW91c1NlYXJjaFN0cmluZyA9PT0gJycpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmNhbGxiYWNrT2JqZWN0LmRlbGV0ZWRCZXlvbmRTZWFyY2hJbnB1dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZWFyY2goKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gRXZlbnRzLktleXMuRU5URVIpIHtcbiAgICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgICAvLyBJZiBhIHNlYXJjaCByZXN1bHQgaXMgaGlnaGxpZ2h0ZWQsIGFkZCBpdFxuICAgICAgaWYgKHRoaXMuZ2V0SGlnaGxpZ2h0ZWRTZWFyY2hSZXN1bHQoKSAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNlbGVjdEhpZ2hsaWdodGVkU2VhcmNoUmVzdWx0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IEV2ZW50cy5LZXlzLkVTQ0FQRSkge1xuICAgICAgdGhpcy5jbG9zZVNlYXJjaFJlc3VsdHMoKTtcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gRXZlbnRzLktleXMuU1BBQ0UgfHwga2V5ID09PSBFdmVudHMuS2V5cy5ERUxFVEUgfHxcbiAgICAgICAgKGtleSA+PSA0OCAmJiBrZXkgPD0gOTApIHx8IChrZXkgPj0gOTYgJiYga2V5IDw9IDExMSkgfHwgKGtleSA+PSAxODYgJiYga2V5IDw9IDE5MikgfHwgKGtleSA+PSAyMTkgJiYga2V5IDw9IDIyMikpIHtcbiAgICAgIHRoaXMuc2VhcmNoKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgbW91c2VvdmVyIGV2ZW50cyBmb3IgdGhlIHNlYXJjaCByZXN1bHRzIChvbmx5KSBieSBoaWdobGlnaHRpbmcgdGhlIGV2ZW50IHRhcmdldC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIG1vdXNlb3ZlciBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVNb3VzZU92ZXJFdmVudChldmVudCkge1xuICAgIGNvbnN0IHRhcmdldCA9IG5ldyBQcmltZUVsZW1lbnQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgdGhpcy5oaWdobGlnaHRTZWFyY2hSZXN1bHQodGFyZ2V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBvZiB0aGUgc2VhcmNoIHJlc3VsdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfcmVtb3ZlQWxsU2VhcmNoUmVzdWx0cygpIHtcbiAgICB0aGlzLnNlYXJjaFJlc3VsdHMucXVlcnkoJ2xpJykucmVtb3ZlQWxsRnJvbURPTSgpO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBTZWFyY2ggZnVuY3Rpb24gaW1wbGVtZW50YXRpb25zLlxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICAvKipcbiAgICogU2V0IHRoZSBpbml0aWFsIG9wdGlvbnMgZm9yIHRoaXMgd2lkZ2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEluaXRpYWxPcHRpb25zKGNhbGxiYWNrT2JqZWN0KSB7XG4gICAgLy8gRGVmYXVsdHNcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBjYWxsYmFja09iamVjdDogY2FsbGJhY2tPYmplY3QsXG4gICAgICBjbG9zZVRpbWVvdXQ6IDIwMCxcbiAgICAgIGN1c3RvbUFkZEVuYWJsZWQ6IHRydWUsXG4gICAgICAnY3VzdG9tQWRkQ2FsbGJhY2snKCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0sXG4gICAgICBjdXN0b21BZGRMYWJlbDogJ0FkZCBDdXN0b206ICcsXG4gICAgICBub1NlYXJjaFJlc3VsdHNMYWJlbDogJ05vIE1hdGNoZXMgRm9yOiAnLFxuICAgICAgdG9vTWFueVNlYXJjaFJlc3VsdHNMYWJlbDogJ1RvbyBNYW55IE1hdGNoZXMgRm9yOiAnLFxuICAgIH07XG5cbiAgICBjb25zdCB1c2VyT3B0aW9ucyA9IFV0aWxzLmRhdGFTZXRUb09wdGlvbnModGhpcy5pbnB1dEVsZW1lbnQpO1xuICAgIGZvciAobGV0IG9wdGlvbiBpbiB1c2VyT3B0aW9ucykge1xuICAgICAgaWYgKHVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zW29wdGlvbl0gPSB1c2VyT3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge1NlYXJjaGVyfTsiLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtFdmVudHN9IGZyb20gXCIuLi9FdmVudHMuanNcIjtcbmltcG9ydCB7UHJpbWVEb2N1bWVudH0gZnJvbSBcIi4uL1ByaW1lRG9jdW1lbnQuanNcIjtcbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcbmltcG9ydCB7U2VhcmNoZXJ9IGZyb20gXCIuL1NlYXJjaGVyLmpzXCI7XG5cbmxldCBjb3VudCA9IDE7XG5sZXQgQWRkT3B0aW9uRXZlbnQgPSAnTXVsdGlwbGVTZWxlY3Q6YWRkT3B0aW9uJztcbmxldCBEZXNlbGVjdE9wdGlvbkV2ZW50ID0gJ011bHRpcGxlU2VsZWN0OmRlc2VsZWN0T3B0aW9uJztcbmxldCBTZWxlY3RPcHRpb25FdmVudCA9ICdNdWx0aXBsZVNlbGVjdDpzZWxlY3RPcHRpb24nO1xuXG5jbGFzcyBNdWx0aXBsZVNlbGVjdCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgTXVsdGlwbGVTZWxlY3Qgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogVGhlIE11bHRpcGxlU2VsZWN0IGdlbmVyYXRlcyBhIG51bWJlciBvZiBkaWZmZXJlbnQgSFRNTCBlbGVtZW50cyBkaXJlY3RseSBhZnRlciB0aGUgU0VMRUNUIGVsZW1lbnQgeW91IHBhc3MgdG8gdGhlXG4gICAqIGNvbnN0cnVjdG9yLiBBIGZ1bGx5IHJlbmRlcmVkIE11bHRpcGxlU2VsZWN0IG1pZ2h0IGxvb2sgc29tZXRoaW5nIGxpa2UgdGhpczpcbiAgICpcbiAgICogPHByZT5cbiAgICogJmx0O3NlbGVjdCBpZD1cImZvb1wiPlxuICAgKiAgICZsdDtvcHRpb24gdmFsdWU9XCJvbmVcIj5PbmUmbHQ7L29wdGlvbj5cbiAgICogICAmbHQ7b3B0aW9uIHZhbHVlPVwidHdvXCI+VHdvJmx0Oy9vcHRpb24+XG4gICAqICAgJmx0O29wdGlvbiB2YWx1ZT1cInRocmVlXCI+VGhyZWUmbHQ7L29wdGlvbj5cbiAgICogJmx0Oy9zZWxlY3Q+XG4gICAqICZsdDtkaXYgaWQ9XCJmb28tZGlzcGxheVwiIGNsYXNzPVwicHJpbWUtbXVsdGlwbGUtc2VsZWN0XCI+XG4gICAqICAgJmx0O3VsIGlkPVwiZm9vLW9wdGlvbi1saXN0XCIgY2xhc3M9XCJvcHRpb24tbGlzdFwiPlxuICAgKiAgICAgJmx0O2xpIGlkPVwiZm9vLW9wdGlvbi1vbmVcIj4mbHQ7c3Bhbj5PbmUmbHQ7L3NwYW4+Jmx0O2EgaHJlZj1cIiNcIj5YJmx0Oy9hPiZsdDsvbGk+XG4gICAqICAgICAmbHQ7bGkgaWQ9XCJmb28tb3B0aW9uLXR3b1wiPiZsdDtzcGFuPlR3byZsdDsvc3Bhbj4mbHQ7YSBocmVmPVwiI1wiPlgmbHQ7L2E+Jmx0Oy9saT5cbiAgICogICAgICZsdDtsaSBpZD1cImZvby1vcHRpb24tdGhyZWVcIj4mbHQ7c3Bhbj5UaHJlZSZsdDsvc3Bhbj4mbHQ7YSBocmVmPVwiI1wiPlgmbHQ7L2E+Jmx0Oy9saT5cbiAgICogICAgICZsdDtsaT4mbHQ7aW5wdXQgdHlwZT1cInRleHRcIiB2YWx1ZT1cImFhYVwiLz4mbHQ7L2xpPlxuICAgKiAgICZsdDsvdWw+XG4gICAqICAgJmx0O3VsIGNsYXNzPVwic2VhcmNoLXJlc3VsdHNcIj5cbiAgICogICAgICZsdDtsaT5PbmUmbHQ7L2xpPlxuICAgKiAgICAgJmx0O2xpPlR3byZsdDsvbGk+XG4gICAqICAgICAmbHQ7bGk+VGhyZWUmbHQ7L2xpPlxuICAgKiAgICAgJmx0O2xpPkFkZCBDdXN0b20gRW50cnk6IGFhYS9saT5cbiAgICogICAmbHQ7L3VsPlxuICAgKiAmbHQ7L2Rpdj5cbiAgICogPC9wb3JlPlxuICAgKlxuICAgKiBUaGUgd2l0aCogbWV0aG9kcyBjYW4gYmUgdXNlZCB0byBzZXR1cCB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhpcyBNdWx0aXBsZVNlbGVjdCwgYnV0IGhlcmUgYXJlIHNvbWUgZGVmYXVsdHM6XG4gICAqXG4gICAqIDx1bD5cbiAgICogICA8bGk+cGxhY2Vob2xkZXIgPSBcIkNob29zZVwiPC9saT5cbiAgICogICA8bGk+Y3VzdG9tQWRkRW5hYmxlZCA9IHRydWU8L2xpPlxuICAgKiAgIDxsaT5jdXN0b21BZGRMYWJlbCA9IFwiQWRkIEN1c3RvbSBWYWx1ZTpcIjwvbGk+XG4gICAqICAgPGxpPm5vU2VhcmNoUmVzdWx0c0xhYmVsID0gXCJObyBNYXRjaGVzIEZvcjpcIjwvbGk+XG4gICAqIDwvdWw+XG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBlbGVtZW50IFRoZSBQcmltZSBFbGVtZW50IGZvciB0aGUgTXVsdGlwbGVTZWxlY3QuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IFByaW1lRWxlbWVudC53cmFwKGVsZW1lbnQpO1xuICAgIGlmICh0aGlzLmVsZW1lbnQuZG9tRWxlbWVudC50YWdOYW1lICE9PSAnU0VMRUNUJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignWW91IGNhbiBvbmx5IHVzZSBNdWx0aXBsZVNlbGVjdCB3aXRoIHNlbGVjdCBlbGVtZW50cycpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdtdWx0aXBsZScpICE9PSAnbXVsdGlwbGUnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgc2VsZWN0IGJveCB5b3UgYXJlIGF0dGVtcHRpbmcgdG8gY29udmVydCB0byBhIE11bHRpcGxlU2VsZWN0IG11c3QgaGF2ZSB0aGUgbXVsdGlwbGU9XCJtdWx0aXBsZVwiIGF0dHJpYnV0ZSBzZXQnKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRJbml0aWFsT3B0aW9ucygpO1xuICB9XG5cbiAgLypcbiAgICogU3RhdGljc1xuICAgKi9cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBzdGF0aWMgZ2V0IGNvdW50KCkge1xuICAgIHJldHVybiBjb3VudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICovXG4gIHN0YXRpYyBzZXQgY291bnQodmFsdWUpIHtcbiAgICBjb3VudCA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IEFkZE9wdGlvbkV2ZW50KCkge1xuICAgIHJldHVybiBBZGRPcHRpb25FdmVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWVcbiAgICovXG4gIHN0YXRpYyBzZXQgQWRkT3B0aW9uRXZlbnQodmFsdWUpIHtcbiAgICBBZGRPcHRpb25FdmVudCA9IHZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAqL1xuICBzdGF0aWMgZ2V0IERlc2VsZWN0T3B0aW9uRXZlbnQoKSB7XG4gICAgcmV0dXJuIERlc2VsZWN0T3B0aW9uRXZlbnQ7XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG4gICAqL1xuICBzdGF0aWMgc2V0IERlc2VsZWN0T3B0aW9uRXZlbnQodmFsdWUpIHtcbiAgICBEZXNlbGVjdE9wdGlvbkV2ZW50ID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHN0YXRpYyBnZXQgU2VsZWN0T3B0aW9uRXZlbnQoKSB7XG4gICAgcmV0dXJuIFNlbGVjdE9wdGlvbkV2ZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICAgKi9cbiAgc3RhdGljIHNldCBTZWxlY3RPcHRpb25FdmVudCh2YWx1ZSkge1xuICAgIFNlbGVjdE9wdGlvbkV2ZW50ID0gdmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIEhUTUxTZWxlY3RPcHRpb24gd2l0aCB0aGUgZ2l2ZW4gaWQgYW5kIHJldHVybnMgaXQgd3JhcHBlZCBpbiBhIFByaW1lRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkXG4gICAqIEByZXR1cm5zIHtQcmltZUVsZW1lbnR9XG4gICAqL1xuICBzdGF0aWMgZmluZE9wdGlvbldpdGhJZChpZCkge1xuICAgIHJldHVybiBQcmltZURvY3VtZW50LnF1ZXJ5Rmlyc3QoJ1tkYXRhLW9wdGlvbi1pZD1cIicgKyBpZCArICdcIl0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXNzIHRocm91Z2ggdG8gYWRkIGV2ZW50IGxpc3RlbmVycyB0byBUaGlzLiBUaGUgY3VzdG9tIGV2ZW50cyB0aGF0IHRoaXMgTXVsdGlwbGVTZWxlY3QgZmlyZXMgYXJlOlxuICAgKlxuICAgKiAgJ011bHRpcGxlU2VsZWN0OmRlc2VsZWN0T3B0aW9uJ1xuICAgKiAgJ011bHRpcGxlU2VsZWN0OnNlbGVjdE9wdGlvbidcbiAgICogICdNdWx0aXBsZVNlbGVjdDphZGRPcHRpb24nXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBUaGUgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhpcyBNdWx0aXBsZVNlbGVjdCBjb250YWlucyBhbiBvcHRpb24gd2l0aCB0aGUgZ2l2ZW4gdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gbG9vayBmb3IuXG4gICAqL1xuICBjb250YWluc09wdGlvbldpdGhWYWx1ZSh2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmZpbmRPcHRpb25XaXRoVmFsdWUodmFsdWUpICE9PSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgdGhlIGdpdmVuIG9wdGlvbiB0byB0aGlzIHNlbGVjdC4gVGhlIG9wdGlvbiB3aWxsIG5vdCBiZSBzZWxlY3RlZC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSBmb3IgdGhlIG9wdGlvbi5cbiAgICogQHBhcmFtIHtTdHJpbmd9IGRpc3BsYXkgVGhlIGRpc3BsYXkgdGV4dCBmb3IgdGhlIG9wdGlvbi5cbiAgICogQHBhcmFtIHs/U3RyaW5nfSBbaWRdIFRoZSBpZCBvZiB0aGUgZWxlbWVudC4gKERlZmF1bHRzIHRvIG51bGwpXG4gICAqIEByZXR1cm5zIHtNdWx0aXBsZVNlbGVjdH0gVGhpcy5cbiAgICovXG4gIGFkZE9wdGlvbih2YWx1ZSwgZGlzcGxheSwgaWQpIHtcbiAgICBpZiAoKGlkID09PSBudWxsIHx8IGlkID09PSB1bmRlZmluZWQpICYmIHRoaXMuY29udGFpbnNPcHRpb25XaXRoVmFsdWUodmFsdWUpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBsZXQgZWxlbWVudCA9IFByaW1lRG9jdW1lbnQubmV3RWxlbWVudCgnPG9wdGlvbi8+JylcbiAgICAgICAgLnNldFZhbHVlKHZhbHVlKVxuICAgICAgICAuc2V0SFRNTChkaXNwbGF5KVxuICAgICAgICAuYXBwZW5kVG8odGhpcy5lbGVtZW50KTtcblxuICAgIGlmIChpZCkge1xuICAgICAgZWxlbWVudC5zZXREYXRhQXR0cmlidXRlKFwib3B0aW9uSWRcIiwgaWQpO1xuICAgIH1cblxuICAgIC8vIEZpcmUgdGhlIGN1c3RvbSBldmVudFxuICAgIHRoaXMuZWxlbWVudC5maXJlRXZlbnQoTXVsdGlwbGVTZWxlY3QuQWRkT3B0aW9uRXZlbnQsIHZhbHVlLCB0aGlzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIERlc2VsZWN0cyB0aGUgb3B0aW9uIHdpdGggdGhlIGdpdmVuIHZhbHVlIGJ5IHJlbW92aW5nIHRoZSBzZWxlY3RlZCBhdHRyaWJ1dGUgZnJvbSB0aGUgb3B0aW9uIGluIHRoZSBzZWxlY3QgYm94IGFuZFxuICAgKiByZW1vdmluZyB0aGUgb3B0aW9uIGZyb20gdGhlIGRpc3BsYXkgY29udGFpbmVyLiBJZiB0aGUgTXVsdGlwbGVTZWxlY3QgZG9lc24ndCBjb250YWluIGFuIG9wdGlvbiBmb3IgdGhlIGdpdmVuIHZhbHVlLFxuICAgKiB0aGlzIG1ldGhvZCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIGxvb2sgZm9yLlxuICAgKiBAcmV0dXJucyB7TXVsdGlwbGVTZWxlY3R9IFRoaXMuXG4gICAqL1xuICBkZXNlbGVjdE9wdGlvbldpdGhWYWx1ZSh2YWx1ZSkge1xuICAgIGNvbnN0IG9wdGlvbiA9IHRoaXMuZmluZE9wdGlvbldpdGhWYWx1ZSh2YWx1ZSk7XG4gICAgaWYgKG9wdGlvbiA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZVNlbGVjdCBkb2VzblxcJ3QgY29udGFpbiBhbiBvcHRpb24gd2l0aCB0aGUgdmFsdWUgWycgKyB2YWx1ZSArICddJyk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXNlbGVjdE9wdGlvbihvcHRpb24pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGVzZWxlY3RzIHRoZSBvcHRpb24gd2l0aCB0aGUgZ2l2ZW4gdmFsdWUgYnkgcmVtb3ZpbmcgdGhlIHNlbGVjdGVkIGF0dHJpYnV0ZSBmcm9tIHRoZSBvcHRpb24gaW4gdGhlIHNlbGVjdCBib3ggYW5kXG4gICAqIHJlbW92aW5nIHRoZSBvcHRpb24gZnJvbSB0aGUgZGlzcGxheSBjb250YWluZXIuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSBvcHRpb24gVGhlIG9wdGlvbiB0byBkZXNlbGVjdC5cbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgZGVzZWxlY3RPcHRpb24ob3B0aW9uKSB7XG4gICAgb3B0aW9uLnNldFNlbGVjdGVkKGZhbHNlKTtcblxuICAgIGNvbnN0IGlkID0gb3B0aW9uLmdldERhdGFBdHRyaWJ1dGUoJ29wdGlvbklkJykgfHwgdGhpcy5fbWFrZU9wdGlvbklEKG9wdGlvbik7XG4gICAgY29uc3QgZGlzcGxheU9wdGlvbiA9IFByaW1lRG9jdW1lbnQucXVlcnlCeUlkKGlkKTtcbiAgICBpZiAoZGlzcGxheU9wdGlvbiAhPT0gbnVsbCkge1xuICAgICAgZGlzcGxheU9wdGlvbi5yZW1vdmVGcm9tRE9NKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIHNlbGVjdGVkIG9wdGlvbnMgbGVmdCwgYWRkIGJhY2sgdGhlIHBsYWNlaG9sZGVyIGF0dHJpYnV0ZSB0byB0aGUgaW5wdXQgYW5kIHJlc2l6ZSBpdFxuICAgIGlmICh0aGlzLm9wdGlvbkxpc3QucXVlcnkoJ2xpJykubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLmlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCB0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXIpO1xuICAgICAgdGhpcy5zZWFyY2hlci5yZXNpemVJbnB1dCgpO1xuICAgIH1cblxuICAgIC8vIEZpcmUgdGhlIGN1c3RvbSBldmVudFxuICAgIHRoaXMuZWxlbWVudC5maXJlRXZlbnQoTXVsdGlwbGVTZWxlY3QuRGVzZWxlY3RPcHRpb25FdmVudCwgb3B0aW9uLmdldFZhbHVlKCksIHRoaXMpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGVzdHJveXMgdGhlIHdpZGdldCBjb21wbGV0ZWx5LlxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmVsZW1lbnQuc2hvdygpO1xuICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5yZW1vdmVGcm9tRE9NKCk7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIEhUTUxTZWxlY3RPcHRpb24gd2l0aCB0aGUgZ2l2ZW4gdGV4dCBhbmQgcmV0dXJucyBpdCB3cmFwcGVkIGluIGEgUHJpbWVFbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdGV4dCBUaGUgdGV4dCB0byBsb29rIGZvci5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhlIG9wdGlvbiBlbGVtZW50IG9yIG51bGwuXG4gICAqL1xuICBmaW5kT3B0aW9uV2l0aFRleHQodGV4dCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLmVsZW1lbnQuZ2V0T3B0aW9ucygpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKG9wdGlvbnNbaV0uZ2V0VGV4dENvbnRlbnQoKSA9PT0gdGV4dCkge1xuICAgICAgICByZXR1cm4gb3B0aW9uc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGRlc2VsZWN0T3B0aW9uV2l0aElkKGlkKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gTXVsdGlwbGVTZWxlY3QuZmluZE9wdGlvbldpdGhJZChpZCk7XG4gICAgaWYgKG9wdGlvbiA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdNdWx0aXBsZVNlbGVjdCBkb2VzblxcJ3QgY29udGFpbiBhbiBvcHRpb24gd2l0aCB0aGUgaWQgWycgKyBpZCArICddJyk7XG4gICAgfVxuXG4gICAgdGhpcy5kZXNlbGVjdE9wdGlvbihvcHRpb24pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgdGhlIEhUTUxTZWxlY3RPcHRpb24gd2l0aCB0aGUgZ2l2ZW4gdmFsdWUgYW5kIHJldHVybnMgaXQgd3JhcHBlZCBpbiBhIFByaW1lRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSB0byBsb29rIGZvci5cbiAgICogQHJldHVybnMge1ByaW1lRWxlbWVudH0gVGhlIG9wdGlvbiBlbGVtZW50IG9yIG51bGwuXG4gICAqL1xuICBmaW5kT3B0aW9uV2l0aFZhbHVlKHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmVsZW1lbnQuZG9tRWxlbWVudC5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgY3VyID0gdGhpcy5lbGVtZW50LmRvbUVsZW1lbnQub3B0aW9uc1tpXTtcbiAgICAgIGlmIChjdXIudmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJpbWVFbGVtZW50KGN1cik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge3N0cmluZ1tdfSBUaGUgY3VycmVudGx5IHNlbGVjdGVkIG9wdGlvbnMgdmFsdWVzLlxuICAgKi9cbiAgZ2V0U2VsZWN0ZWRWYWx1ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRTZWxlY3RlZFZhbHVlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZXMgaWYgdGhlIE11bHRpcGxlU2VsZWN0IGNvbnRhaW5zIGFuIG9wdGlvbiB3aXRoIHRoZSBnaXZlbiB2YWx1ZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZS5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIE11bHRpcGxlU2VsZWN0IGNvbnRhaW5zIGFuIG9wdGlvbiB3aXRoIHRoZSBnaXZlbiB2YWx1ZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgaGFzT3B0aW9uV2l0aFZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluZE9wdGlvbldpdGhWYWx1ZSh2YWx1ZSkgIT09IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogSGlnaGxpZ2h0cyB0aGUgZmluYWwgc2VsZWN0ZWQgb3B0aW9uIChpZiB0aGVyZSBpcyBvbmUpIHRvIGluZGljYXRlIHRoYXQgaXQgd2lsbCBiZSB1bnNlbGVjdGVkIGlmIHRoZSB1c2VyIGNsaWNrc1xuICAgKiB0aGUgZGVsZXRlIGtleSBhZ2Fpbi5cbiAgICpcbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgaGlnaGxpZ2h0T3B0aW9uRm9yVW5zZWxlY3QoKSB7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMub3B0aW9uTGlzdC5nZXRDaGlsZHJlbigpO1xuICAgIGlmIChvcHRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgIG9wdGlvbnNbb3B0aW9ucy5sZW5ndGggLSAyXS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgZGlzcGxheSBmcm9tIHRoZSB1bmRlcmx5aW5nIHNlbGVjdCBlbGVtZW50LiBBbGwgb2YgdGhlIGN1cnJlbnQgZGlzcGxheSBvcHRpb25zIChsaSBlbGVtZW50cykgYXJlXG4gICAqIHJlbW92ZWQuIE5ldyBkaXNwbGF5IG9wdGlvbnMgYXJlIGFkZGVkIGZvciBlYWNoIHNlbGVjdGVkIG9wdGlvbiBpbiB0aGUgc2VsZWN0IGJveC5cbiAgICpcbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQuaGlkZSgpO1xuXG4gICAgbGV0IGlkID0gdGhpcy5lbGVtZW50LmdldElkKCk7XG4gICAgaWYgKGlkID09PSBudWxsIHx8IGlkID09PSAnJykge1xuICAgICAgaWQgPSAncHJpbWUtbXVsdGlwbGUtc2VsZWN0JyArIE11bHRpcGxlU2VsZWN0LmNvdW50Kys7XG4gICAgICB0aGlzLmVsZW1lbnQuc2V0SWQoaWQpO1xuICAgIH1cblxuICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lciA9IFByaW1lRG9jdW1lbnQucXVlcnlCeUlkKGlkICsgJy1kaXNwbGF5Jyk7XG4gICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgaWYgKHRoaXMuZGlzcGxheUNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5kaXNwbGF5Q29udGFpbmVyID0gUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8ZGl2Lz4nKVxuICAgICAgICAgIC5zZXRJZChpZCArICctZGlzcGxheScpXG4gICAgICAgICAgLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc05hbWUpXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tFdmVudClcbiAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLl9oYW5kbGVLZXlVcEV2ZW50KVxuICAgICAgICAgIC5pbnNlcnRBZnRlcih0aGlzLmVsZW1lbnQpO1xuXG4gICAgICB0aGlzLm9wdGlvbkxpc3QgPSBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoJzx1bC8+JylcbiAgICAgICAgICAuYWRkQ2xhc3MoJ29wdGlvbi1saXN0JylcbiAgICAgICAgICAuYXBwZW5kVG8odGhpcy5kaXNwbGF5Q29udGFpbmVyKTtcblxuICAgICAgdGhpcy5zZWFyY2hSZXN1bHRzID0gUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8dWwvPicpXG4gICAgICAgICAgLmFkZENsYXNzKCdzZWFyY2gtcmVzdWx0cycpXG4gICAgICAgICAgLmhpZGUoKVxuICAgICAgICAgIC5hcHBlbmRUbyh0aGlzLmRpc3BsYXlDb250YWluZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRpc3BsYXlDb250YWluZXJcbiAgICAgICAgICAucmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrRXZlbnQpXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5faGFuZGxlS2V5VXBFdmVudCk7XG4gICAgICB0aGlzLm9wdGlvbkxpc3QgPSB0aGlzLmRpc3BsYXlDb250YWluZXIucXVlcnlGaXJzdCgnLm9wdGlvbi1saXN0Jyk7XG4gICAgICB0aGlzLnNlYXJjaFJlc3VsdHMgPSB0aGlzLmRpc3BsYXlDb250YWluZXIucXVlcnlGaXJzdCgnLnNlYXJjaC1yZXN1bHRzJyk7XG4gICAgfVxuXG4gICAgUHJpbWVEb2N1bWVudC5xdWVyeUZpcnN0KCdodG1sJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVHbG9iYWxDbGlja0V2ZW50KTtcblxuICAgIC8vIENsb3NlIHRoZSBzZWFyY2hcbiAgICB0aGlzLnNlYXJjaFJlc3VsdHMuaGlkZSgpO1xuXG4gICAgdGhpcy5fcmVkcmF3KCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgbGFzdCBvcHRpb24gaXMgaGlnaGxpZ2h0ZWQgZm9yIHVuc2VsZWN0LlxuICAgKi9cbiAgaXNMYXN0T3B0aW9uSGlnaGxpZ2h0ZWRGb3JVbnNlbGVjdCgpIHtcbiAgICBjb25zdCBvcHRpb25zID0gdGhpcy5vcHRpb25MaXN0LmdldENoaWxkcmVuKCk7XG4gICAgcmV0dXJuIG9wdGlvbnMubGVuZ3RoID4gMSAmJiBvcHRpb25zW29wdGlvbnMubGVuZ3RoIC0gMl0uaGFzQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyBhbGwgb2YgdGhlIG9wdGlvbnMgZnJvbSB0aGUgTXVsdGlwbGVTZWxlY3QuXG4gICAqXG4gICAqIEByZXR1cm5zIHtNdWx0aXBsZVNlbGVjdH0gVGhpcy5cbiAgICovXG4gIHJlbW92ZUFsbE9wdGlvbnMoKSB7XG4gICAgLy8gUmVtb3ZlIGluIHJldmVyc2Ugb3JkZXIgYmVjYXVzZSB0aGUgb3B0aW9ucyBhcnJheSBpcyBkeW5hbWljYWxseSB1cGRhdGVkIHdoZW4gZWxlbWVudHMgYXJlIGRlbGV0ZWQgZnJvbSB0aGUgRE9NXG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZWxlbWVudC5kb21FbGVtZW50Lm9wdGlvbnM7XG4gICAgZm9yIChsZXQgaSA9IG9wdGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHRoaXMucmVtb3ZlT3B0aW9uKG5ldyBQcmltZUVsZW1lbnQob3B0aW9uc1tpXSkpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGhpZ2hsaWdodGVkIG9wdGlvbi5cbiAgICovXG4gIHJlbW92ZUhpZ2hsaWdodGVkT3B0aW9uKCkge1xuICAgIGNvbnN0IG9wdGlvbnMgPSB0aGlzLm9wdGlvbkxpc3QuZ2V0Q2hpbGRyZW4oKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHVwbGljYXRlcykge1xuICAgICAgdGhpcy5kZXNlbGVjdE9wdGlvbldpdGhJZChvcHRpb25zW29wdGlvbnMubGVuZ3RoIC0gMl0uZ2V0SWQoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVzZWxlY3RPcHRpb25XaXRoVmFsdWUob3B0aW9uc1tvcHRpb25zLmxlbmd0aCAtIDJdLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgfVxuICAgIHRoaXMuc2VhcmNoKCk7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgZ2l2ZW4gb3B0aW9uIGZyb20gdGhlIE11bHRpcGxlU2VsZWN0IGJ5IHJlbW92aW5nIHRoZSBvcHRpb24gaW4gdGhlIHNlbGVjdCBib3ggYW5kIHRoZSBvcHRpb24gaW4gdGhlXG4gICAqIGRpc3BsYXkgY29udGFpbmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudH0gb3B0aW9uIFRoZSBvcHRpb24gdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJucyB7TXVsdGlwbGVTZWxlY3R9IFRoaXMuXG4gICAqL1xuICByZW1vdmVPcHRpb24ob3B0aW9uKSB7XG4gICAgaWYgKCEob3B0aW9uIGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTXVsdGlwbGVTZWxlY3QjcmVtb3ZlT3B0aW9uIG9ubHkgdGFrZXMgUHJpbWVFbGVtZW50IGluc3RhbmNlcycpO1xuICAgIH1cblxuICAgIG9wdGlvbi5yZW1vdmVGcm9tRE9NKCk7XG5cbiAgICBsZXQgaWQsIGRpc3BsYXlPcHRpb247XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICAgIC8vIFRoZSBpZHMgYXJlIHJhbmRvbSBzbyB3ZSBuZWVkIHRvIGdldCB0aGUgZGF0YSBhdHRyaWJ1dGUuXG4gICAgICBpZCA9IG9wdGlvbi5nZXREYXRhQXR0cmlidXRlKCdvcHRpb25JZCcpO1xuICAgICAgZGlzcGxheU9wdGlvbiA9IFByaW1lRG9jdW1lbnQucXVlcnlCeUlkKGlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhlIGlkcyBhcmVuJ3QgcmFuZG9tIGFuZCBjYW4gYmUgcmVwcm9kdWNhYmx5IGNyZWF0ZWQuXG4gICAgICBpZCA9IHRoaXMuX21ha2VPcHRpb25JRChvcHRpb24pO1xuICAgICAgZGlzcGxheU9wdGlvbiA9IFByaW1lRG9jdW1lbnQucXVlcnlCeUlkKGlkKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgb3B0aW9uIGhhcyBhbHJlYWR5IGJlZW4gc2VsZWN0ZWRcbiAgICBpZiAoZGlzcGxheU9wdGlvbiAhPT0gbnVsbCkge1xuICAgICAgZGlzcGxheU9wdGlvbi5yZW1vdmVGcm9tRE9NKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVtb3ZlcyB0aGUgb3B0aW9uIHdpdGggdGhlIGdpdmVuIHZhbHVlIGZyb20gdGhlIE11bHRpcGxlU2VsZWN0IGJ5IHJlbW92aW5nIHRoZSBvcHRpb24gaW4gdGhlIHNlbGVjdCBib3ggYW5kIHRoZVxuICAgKiBvcHRpb24gaW4gdGhlIGRpc3BsYXkgY29udGFpbmVyLiBJZiB0aGUgTXVsdGlwbGVTZWxlY3QgZG9lc24ndCBjb250YWluIGFuIG9wdGlvbiB3aXRoIHRoZSBnaXZlbiB2YWx1ZSwgdGhpcyB0aHJvd3NcbiAgICogYW4gZXhjZXB0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBvcHRpb24gdG8gcmVtb3ZlLlxuICAgKiBAcmV0dXJucyB7TXVsdGlwbGVTZWxlY3R9IFRoaXMuXG4gICAqL1xuICByZW1vdmVPcHRpb25XaXRoVmFsdWUodmFsdWUpIHtcbiAgICBjb25zdCBvcHRpb24gPSB0aGlzLmZpbmRPcHRpb25XaXRoVmFsdWUodmFsdWUpO1xuICAgIGlmIChvcHRpb24gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTXVsdGlwbGVTZWxlY3QgZG9lc25cXCd0IGNvbnRhaW4gYW4gb3B0aW9uIHdpdGggdGhlIHZhbHVlIFsnICsgdmFsdWUgKyAnXScpO1xuICAgIH1cblxuICAgIHRoaXMucmVtb3ZlT3B0aW9uKG9wdGlvbik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWxlY3RzIHRoZSBnaXZlbiBvcHRpb24gYnkgc2V0dGluZyB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlIG9uIHRoZSBvcHRpb24gaW4gdGhlIHNlbGVjdCBib3ggKHRoZSBvYmplY3QgcGFzc2VkIGluIGlzXG4gICAqIHRoZSBvcHRpb24gZnJvbSB0aGUgc2VsZWN0IGJveCB3cmFwcGVkIGluIGEgUHJpbWVFbGVtZW50KSBhbmQgYWRkaW5nIGl0IHRvIHRoZSBkaXNwbGF5IGNvbnRhaW5lci4gSWYgdGhlXG4gICAqIG9wdGlvbiBpcyBhbHJlYWR5IGluIHRoZSBkaXNwbGF5IGNvbnRhaW5lciwgdGhhdCBzdGVwIGlzIHNraXBwZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSBvcHRpb24gVGhlIG9wdGlvbiBvYmplY3QgZnJvbSB0aGUgc2VsZWN0IGJveCB3cmFwcGVkIGluIGEgUHJpbWVFbGVtZW50IGluc3RhbmNlLlxuICAgKiBAcmV0dXJucyB7TXVsdGlwbGVTZWxlY3R9IFRoaXMuXG4gICAqL1xuICBzZWxlY3RPcHRpb24ob3B0aW9uKSB7XG4gICAgaWYgKCEob3B0aW9uIGluc3RhbmNlb2YgUHJpbWVFbGVtZW50KSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTXVsdGlwbGVTZWxlY3Qjc2VsZWN0T3B0aW9uIG9ubHkgdGFrZXMgUHJpbWVFbGVtZW50IGluc3RhbmNlcycpO1xuICAgIH1cblxuICAgIGNvbnN0IGlkID0gdGhpcy5fbWFrZU9wdGlvbklEKG9wdGlvbik7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgb3B0aW9uIGhhcyBhbHJlYWR5IGJlZW4gc2VsZWN0ZWRcbiAgICBpZiAoUHJpbWVEb2N1bWVudC5xdWVyeUJ5SWQoaWQpID09PSBudWxsKSB7XG4gICAgICAvKlxuICAgICAgSWYgd2UgYWxsb3cgZHVwZXMsIGFsd2F5cyBkdXBsaWNhdGUgdGhlIG9wdGlvbiBhbmQgYXBwZW5kIGl0IHRvIHRoZSBlbmQgb3IgdGhlIG9yZGVyIHdpbGwgYmUgYSBwcm9ibGVtLiBUaGUgZGVmYXVsdCBtdWx0aXNlbGVjdCBkb2Vzbid0IHN1cHBvcnQgb3JkZXIpXG4gICAgICAgKi9cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dEdXBsaWNhdGVzKSB7XG4gICAgICAgIHRoaXMuYWRkT3B0aW9uKG9wdGlvbi5nZXRWYWx1ZSgpLCBvcHRpb24uZ2V0SFRNTCgpLCBpZCk7XG4gICAgICAgIG9wdGlvbiA9IE11bHRpcGxlU2VsZWN0LmZpbmRPcHRpb25XaXRoSWQoaWQpO1xuICAgICAgfVxuICAgICAgb3B0aW9uLnNldFNlbGVjdGVkKHRydWUpO1xuXG4gICAgICBjb25zdCBsaSA9IFByaW1lRG9jdW1lbnQubmV3RWxlbWVudCgnPGxpLz4nKVxuICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgb3B0aW9uLmdldFZhbHVlKCkpXG4gICAgICAgICAgLnNldElkKGlkKVxuICAgICAgICAgIC5pbnNlcnRCZWZvcmUodGhpcy5pbnB1dE9wdGlvbik7XG4gICAgICBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoJzxzcGFuLz4nKVxuICAgICAgICAgIC5zZXRIVE1MKG9wdGlvbi5nZXRIVE1MKCkpXG4gICAgICAgICAgLnNldEF0dHJpYnV0ZSgndmFsdWUnLCBvcHRpb24uZ2V0VmFsdWUoKSlcbiAgICAgICAgICAuYXBwZW5kVG8obGkpO1xuICAgICAgUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8YS8+JylcbiAgICAgICAgICAuc2V0QXR0cmlidXRlKCdocmVmJywgJyMnKVxuICAgICAgICAgIC5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgb3B0aW9uLmdldFZhbHVlKCkpXG4gICAgICAgICAgLnNldEhUTUwodGhpcy5vcHRpb25zLnJlbW92ZUljb24pXG4gICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2tFdmVudClcbiAgICAgICAgICAuYXBwZW5kVG8obGkpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSB0aGUgcGxhY2Vob2xkZXIgYXR0cmlidXRlIG9uIHRoZSBpbnB1dCBhbmQgcmVzaXplIGl0XG4gICAgdGhpcy5pbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJyk7XG5cbiAgICAvLyBDbG9zZSB0aGUgc2VhcmNoIHJlc3VsdHMgYW5kIHJlc2l6ZSB0aGUgaW5wdXRcbiAgICB0aGlzLnNlYXJjaGVyLmNsb3NlU2VhcmNoUmVzdWx0cygpO1xuXG4gICAgLy8gU2Nyb2xsIHRoZSBkaXNwbGF5IHRvIHRoZSBib3R0b21cbiAgICB0aGlzLm9wdGlvbkxpc3Quc2Nyb2xsVG9Cb3R0b20oKTtcblxuICAgIC8vIEZpcmUgdGhlIGN1c3RvbSBldmVudFxuICAgIHRoaXMuZWxlbWVudC5maXJlRXZlbnQoTXVsdGlwbGVTZWxlY3QuU2VsZWN0T3B0aW9uRXZlbnQsIG9wdGlvbi5nZXRWYWx1ZSgpLCB0aGlzKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdHMgdGhlIG9wdGlvbiB3aXRoIHRoZSBnaXZlbiB2YWx1ZSBieSBzZXR0aW5nIHRoZSBzZWxlY3RlZCBhdHRyaWJ1dGUgb24gdGhlIG9wdGlvbiBpbiB0aGUgc2VsZWN0IGJveCAodGhlXG4gICAqIG9iamVjdCBwYXNzZWQgaW4gaXMgdGhlIG9wdGlvbiBmcm9tIHRoZSBzZWxlY3QgYm94IHdyYXBwZWQgaW4gYSBQcmltZUVsZW1lbnQpIGFuZCBhZGRpbmcgaXQgdG8gdGhlIGRpc3BsYXlcbiAgICogY29udGFpbmVyLiBJZiB0aGUgb3B0aW9uIGlzIGFscmVhZHkgaW4gdGhlIGRpc3BsYXkgY29udGFpbmVyLCB0aGF0IHN0ZXAgaXMgc2tpcHBlZC5cbiAgICogPHAvPlxuICAgKiBJZiB0aGVyZSBpc24ndCBhbiBvcHRpb24gd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIHRoaXMgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uIHRvIHNlbGVjdC5cbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgc2VsZWN0T3B0aW9uV2l0aFZhbHVlKHZhbHVlKSB7XG4gICAgY29uc3Qgb3B0aW9uID0gdGhpcy5maW5kT3B0aW9uV2l0aFZhbHVlKHZhbHVlKTtcbiAgICBpZiAob3B0aW9uID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ011bHRpcGxlU2VsZWN0IGRvZXNuXFwndCBjb250YWluIGFuIG9wdGlvbiB3aXRoIHRoZSB2YWx1ZSBbJyArIHZhbHVlICsgJ10nKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlbGVjdE9wdGlvbihvcHRpb24pO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc2VsZWN0ZWQgb3B0aW9ucy4gVGhpcyBtaW1pY3MgdGhlIGZ1bmN0aW9uIG9uIEVsZW1lbnQgdG8gcHJvdmlkZSBjb25zaXN0ZW5jeS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gW2FyZ3VtZW50c10gVGhlIGxpc3Qgb2Ygb3B0aW9ucyB0byBzZWxlY3QgYmFzZWQgb24gdGhlaXIgdmFsdWVzLlxuICAgKiBAcmV0dXJucyB7TXVsdGlwbGVTZWxlY3R9IFRoaXMuXG4gICAqL1xuICBzZXRTZWxlY3RlZFZhbHVlcygpIHtcbiAgICB0aGlzLmVsZW1lbnQuc2V0U2VsZWN0ZWRWYWx1ZXMuYXBwbHkodGhpcy5lbGVtZW50LCBhcmd1bWVudHMpO1xuICAgIHRoaXMuX3JlZHJhdygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuaGlnaGxpZ2h0cyB0aGUgbGFzdCBvcHRpb24gaWYgaXQgaXMgaGlnaGxpZ2h0ZWQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtNdWx0aXBsZVNlbGVjdH0gVGhpcy5cbiAgICovXG4gIHVuaGlnaGxpZ2h0T3B0aW9uRm9yVW5zZWxlY3QoKSB7XG4gICAgdGhpcy5vcHRpb25MaXN0LmdldENoaWxkcmVuKCkuZWFjaChmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgIH0pO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgd2l0aEFsbG93RHVwbGljYXRlcyh2YWx1ZSkge1xuICAgIHRoaXMub3B0aW9ucy5hbGxvd0R1cGxpY2F0ZXMgPSB2YWx1ZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjbGFzcyBuYW1lIGZvciB0aGUgTXVsdGlwbGVTZWxlY3QgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIGNsYXNzTmFtZSB7c3RyaW5nfSBUaGUgY2xhc3MgbmFtZS5cbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgd2l0aENsYXNzTmFtZShjbGFzc05hbWUpIHtcbiAgICB0aGlzLm9wdGlvbnMuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHRpbWVvdXQgdXNlZCBpbiB0aGUgY2xvc2UgbWV0aG9kIHRvIGFsbG93IGZvciB0cmFuc2l0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQge2ludH0gVGhlIHRpbWVvdXQuXG4gICAqIEByZXR1cm5zIHtNdWx0aXBsZVNlbGVjdH0gVGhpcy5cbiAgICovXG4gIHdpdGhDbG9zZVRpbWVvdXQodGltZW91dCkge1xuICAgIHRoaXMub3B0aW9ucy5jbG9zZVRpbWVvdXQgPSB0aW1lb3V0O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgd2hldGhlciBvciBub3QgdGhpcyBNdWx0aXBsZVNlbGVjdCBhbGxvd3MgY3VzdG9tIG9wdGlvbnMgdG8gYmUgYWRkZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCBUaGUgZmxhZy5cbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgd2l0aEN1c3RvbUFkZEVuYWJsZWQoZW5hYmxlZCkge1xuICAgIHRoaXMub3B0aW9ucy5jdXN0b21BZGRFbmFibGVkID0gZW5hYmxlZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsYWJlbCB1c2VkIHdoZW4gY3VzdG9tIG9wdGlvbnMgYXJlIGFkZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gY3VzdG9tQWRkTGFiZWwgVGhlIGxhYmVsLlxuICAgKiBAcmV0dXJucyB7TXVsdGlwbGVTZWxlY3R9IFRoaXMuXG4gICAqL1xuICB3aXRoQ3VzdG9tQWRkTGFiZWwoY3VzdG9tQWRkTGFiZWwpIHtcbiAgICB0aGlzLm9wdGlvbnMuY3VzdG9tQWRkTGFiZWwgPSBjdXN0b21BZGRMYWJlbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgZXJyb3IgY2xhc3MgaGFuZGxpbmcuIFdoZW4gdGhpcyBvcHRpb24gaXMgdXNlZCwgaWYgdGhlIHNwZWNpZmllZCBlcnJvciBjbGFzcyBpcyBmb3VuZCBvbiBhbnkgZWxlbWVudFxuICAgKiBpbiB0aGUgdGFiIGNvbnRlbnQgdGhlIHNhbWUgZXJyb3IgY2xhc3Mgd2lsbCBiZSBhZGRlZCB0byB0aGUgdGFiIHRvIGlkZW50aWZ5IHRoZSB0YWIgY29udGFpbnMgZXJyb3JzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7TXVsdGlwbGVTZWxlY3R9IFRoaXMuXG4gICAqL1xuICB3aXRoRXJyb3JDbGFzc0hhbmRsaW5nKGVycm9yQ2xhc3MpIHtcbiAgICB0aGlzLm9wdGlvbnMuZXJyb3JDbGFzcyA9IGVycm9yQ2xhc3M7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGFiZWwgdGhhdCBpcyBwcmludGVkIHdoZW4gdGhlcmUgYXJlIG5vIHNlYXJjaCByZXN1bHRzLiBUaGlzIG11c3QgYmUgY2FsbGVkIGJlZm9yZSByZW5kZXIgaXMgY2FsbGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbm9TZWFyY2hSZXN1bHRzTGFiZWwgVGhlIGxhYmVsIHRleHQuXG4gICAqIEByZXR1cm5zIHtNdWx0aXBsZVNlbGVjdH0gVGhpcy5cbiAgICovXG4gIHdpdGhOb1NlYXJjaFJlc3VsdHNMYWJlbChub1NlYXJjaFJlc3VsdHNMYWJlbCkge1xuICAgIHRoaXMub3B0aW9ucy5ub1NlYXJjaFJlc3VsdHNMYWJlbCA9IG5vU2VhcmNoUmVzdWx0c0xhYmVsO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBsYWNlaG9sZGVyIHRleHQgZm9yIFRoaXMuIFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHJlbmRlciBpcyBjYWxsZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwbGFjZWhvbGRlciBUaGUgcGxhY2Vob2xkZXIgdGV4dC5cbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgd2l0aFBsYWNlaG9sZGVyKHBsYWNlaG9sZGVyKSB7XG4gICAgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgcmVtb3ZlIGljb24gdmFsdWUuIFRoaXMgb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHZhbHVlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlSWNvbiBUaGUgcmVtb3ZlIGljb24gdGV4dC5cbiAgICogQHJldHVybnMge011bHRpcGxlU2VsZWN0fSBUaGlzLlxuICAgKi9cbiAgd2l0aFJlbW92ZUljb24ocmVtb3ZlSWNvbikge1xuICAgIHRoaXMub3B0aW9ucy5yZW1vdmVJY29uID0gcmVtb3ZlSWNvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBzZWFyY2ggZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBzZWFyY2ggb3RoZXIgc291cmNlcyBiZXNpZGVzIHRoZSBzZWxlY3QgYm94IHRoYXQgYmFja3MgdGhpcyB3aWRnZXQuXG4gICAqXG4gICAqIEBwYXJhbSBzZWFyY2hGdW5jdGlvbiB7RnVuY3Rpb259IFRoZSBzZWFyY2ggZnVuY3Rpb24uXG4gICAqIEByZXR1cm5zIHtNdWx0aXBsZVNlbGVjdH0gVGhpcy5cbiAgICovXG4gIHdpdGhTZWFyY2hGdW5jdGlvbihzZWFyY2hGdW5jdGlvbikge1xuICAgIHRoaXMub3B0aW9ucy5zZWFyY2hGdW5jdGlvbiA9IHNlYXJjaEZ1bmN0aW9uO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBTZWFyY2hlcidzIGNhbGxiYWNrIGludGVyZmFjZSBtZXRob2RzLlxuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIFNlYXJjaGVyIGdldHMgYSBrZXlib2FyZCBldmVudCB0aGF0IGRlbGV0ZXMgYmV5b25kIHRoZSBzZWFyY2ggaW5wdXQuIFRoaXMgaGlnaGxpZ2h0cyB0aGUgbGFzdCB3b3JkXG4gICAqIGluIHRoZSBwaHJhc2UgZm9yIHJlbW92YWwuXG4gICAqL1xuICBkZWxldGVkQmV5b25kU2VhcmNoSW5wdXQoKSB7XG4gICAgaWYgKHRoaXMuaXNMYXN0T3B0aW9uSGlnaGxpZ2h0ZWRGb3JVbnNlbGVjdCgpKSB7XG4gICAgICB0aGlzLnJlbW92ZUhpZ2hsaWdodGVkT3B0aW9uKCk7XG4gICAgfVxuXG4gICAgdGhpcy5oaWdobGlnaHRPcHRpb25Gb3JVbnNlbGVjdCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBzZWFyY2ggbmVlZHMgdG8gZGV0ZXJtaW5lIGlmIHRoZSBjdXN0b20gYWRkIG9wdGlvbiBzaG91bGQgYmUgZGlzcGxheWVkLiBBcyBsb25nIGFzIHRoaXNcbiAgICogTXVsdGlwbGVTZWxlY3QgZG9lcyBub3QgY29udGFpbiB0aGUgZ2l2ZW4gdmFsdWUsIHRoZSBjdXN0b20gYWRkIG9wdGlvbiBzaG91bGQgYmUgZGlzcGxheWVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIE11bHRpcGxlU2VsZWN0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHZhbHVlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBkb2VzTm90Q29udGFpblZhbHVlKHZhbHVlKSB7XG4gICAgcmV0dXJuICF0aGlzLmNvbnRhaW5zT3B0aW9uV2l0aFZhbHVlKHZhbHVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgU2VhcmNoZXIgaXMgZXhlY3V0aW5nIGEgc2VhcmNoLiBUaGlzIGV4ZWN1dGVzIGEgc2VhcmNoIHZpYSB0aGUgY2FsbGJhY2sgYW5kIHJldHVybnMgdGhlIHJlc3VsdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbc2VhcmNoVGV4dF0gVGhlIHRleHQgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIFNlYXJjaFJlc3VsdHMuXG4gICAqL1xuICBzZWFyY2goc2VhcmNoVGV4dCkge1xuICAgIHRoaXMudW5oaWdobGlnaHRPcHRpb25Gb3JVbnNlbGVjdCgpO1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnMuc2VhcmNoRnVuY3Rpb24uY2FsbChudWxsLCBzZWFyY2hUZXh0LCB0aGlzLmVsZW1lbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIHRoZSBTZWFyY2hlciBnZXRzIGFuIGV2ZW50IHRoYXQgY2F1c2VzIGEgc2VhcmNoIHJlc3VsdCB0byBiZSBzZWxlY3RlZC4gVGhpcyBhZGRzIHRoZSB3b3JkLlxuICAgKi9cbiAgc2VsZWN0U2VhcmNoUmVzdWx0KHZhbHVlKSB7XG5cbiAgICB2YWx1ZSA9IFV0aWxzLnVuZXNjYXBlSFRNTCh2YWx1ZSk7IC8vIEluIGNhc2UgdGhlIHN0cmluZyBoYXMgaHRtbCBlc2NhcGVzIGluIGl0LlxuXG4gICAgLy8gQWRkIHRoZSBjdXN0b20gb3B0aW9uIGlmIHRoZXJlIGlzIG9uZVxuICAgIGxldCBvcHRpb24gPSB0aGlzLmZpbmRPcHRpb25XaXRoVGV4dCh2YWx1ZSk7XG4gICAgaWYgKG9wdGlvbiA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5hZGRPcHRpb24odmFsdWUsIFV0aWxzLmVzY2FwZUhUTUwodmFsdWUpKTtcbiAgICAgIG9wdGlvbiA9IHRoaXMuZmluZE9wdGlvbldpdGhWYWx1ZSh2YWx1ZSk7IC8vIFRoZSB2YWx1ZSB3aWxsIHN0aWxsIGJlIHVuZXNjYXBlZFxuICAgIH1cblxuICAgIHRoaXMuc2VsZWN0T3B0aW9uKG9wdGlvbik7XG4gIH1cblxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBNZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBibHVyIGV2ZW50IHdoZW4gdGhlIGlucHV0IGdvZXMgb3V0IG9mIGZvY3VzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUJsdXJFdmVudCgpIHtcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy5pbnB1dC5kb21FbGVtZW50KSB7XG4gICAgICAgIHRoaXMuc2VhcmNoZXIuY2xvc2VTZWFyY2hSZXN1bHRzKCk7XG4gICAgICB9XG4gICAgfSkuYmluZCh0aGlzKSwgMzAwKTtcbiAgICB0aGlzLmRpc3BsYXlDb250YWluZXIucmVtb3ZlQ2xhc3MoJ2ZvY3VzJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBhbGwgY2xpY2sgZXZlbnRzIHNlbnQgdG8gdGhlIE11bHRpcGxlU2VsZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgbW91c2UgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlQ2xpY2tFdmVudChldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgY29uc3QgdGFyZ2V0ID0gbmV3IFByaW1lRWxlbWVudChldmVudC50YXJnZXQpO1xuICAgIGlmICh0YXJnZXQuaXMoJ2EnKSkge1xuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICAgICAgY29uc3QgaWQgPSB0YXJnZXQuZ2V0UGFyZW50KCkuZ2V0SWQoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVPcHRpb24oTXVsdGlwbGVTZWxlY3QuZmluZE9wdGlvbldpdGhJZChpZCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVPcHRpb25XaXRoVmFsdWUodGFyZ2V0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0YXJnZXQuaXMoJ3NwYW4nKSkge1xuICAgICAgdGFyZ2V0LnNlbGVjdEVsZW1lbnRDb250ZW50cygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGJsdXIgZXZlbnQgd2hlbiB0aGUgaW5wdXQgZ29lcyBvdXQgb2YgZm9jdXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlRm9jdXNFdmVudCgpIHtcbiAgICB0aGlzLmRpc3BsYXlDb250YWluZXIuYWRkQ2xhc3MoJ2ZvY3VzJyk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBtb3VzZSBjbGlja3Mgb3V0c2lkZSBvZiBUaGlzLiBJZiB0aGV5IGNsaWNrZWQgYW55dGhpbmcgdGhhdCBpcyBub3Qgd2l0aGluIHRoaXMgTXVsdGlwbGVTZWxlY3QsXG4gICAqIGl0IGNsb3NlcyB0aGUgc2VhcmNoIHJlc3VsdHMuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudC5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IEFsd2F5cyB0cnVlIHNvIHRoZSBldmVudCBpcyBidWJibGVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUdsb2JhbENsaWNrRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCB0YXJnZXQgPSBuZXcgUHJpbWVFbGVtZW50KGV2ZW50LnRhcmdldCk7XG4gICAgaWYgKHRoaXMuZGlzcGxheUNvbnRhaW5lci5kb21FbGVtZW50ICE9PSB0YXJnZXQuZG9tRWxlbWVudCAmJiAhdGFyZ2V0LmlzQ2hpbGRPZih0aGlzLmRpc3BsYXlDb250YWluZXIpKSB7XG4gICAgICB0aGlzLnNlYXJjaGVyLmNsb3NlU2VhcmNoUmVzdWx0cygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGFsbCBrZXkgdXAgZXZlbnRzIHNlbnQgdG8gdGhlIGRpc3BsYXkgY29udGFpbmVyLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgYnJvd3NlciBldmVudCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzZWFyY2ggZGlzcGxheSBpcyBub3Qgb3BlbiwgZmFsc2Ugb3RoZXJ3aXNlLiBUaGlzIHdpbGwgcHJldmVudCB0aGUgZXZlbnQgZnJvbSBjb250aW51aW5nLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUtleVVwRXZlbnQoZXZlbnQpIHtcbiAgICBjb25zdCBrZXkgPSBldmVudC5rZXlDb2RlO1xuICAgIGlmIChrZXkgPT09IEV2ZW50cy5LZXlzLkVTQ0FQRSkge1xuICAgICAgdGhpcy51bmhpZ2hsaWdodE9wdGlvbkZvclVuc2VsZWN0KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIGFuIElEIGZvciB0aGUgb3B0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudH0gb3B0aW9uIFRoZSBvcHRpb24gdG8gbWFrZSB0aGUgSUQgZm9yLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX21ha2VPcHRpb25JRChvcHRpb24pIHtcbiAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHVwbGljYXRlcyA9PT0gdHJ1ZSkge1xuICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgIC8vIFVVSUQgaXNoXG4gICAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCAoYykgPT4ge1xuICAgICAgICBsZXQgciA9IChkICsgTWF0aC5yYW5kb20oKSAqIDE2KSAlIDE2IHwgMDtcbiAgICAgICAgZCA9IE1hdGguZmxvb3IoZCAvIDE2KTtcbiAgICAgICAgcmV0dXJuIChjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpKS50b1N0cmluZygxNik7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5nZXRJZCgpICsgJy1vcHRpb24tJyArIG9wdGlvbi5nZXRWYWx1ZSgpLnJlcGxhY2UoJyAnLCAnLScpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZHJhd3MgdGhlIHdpZGdldC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZWRyYXcoKSB7XG4gICAgLy8gUmVtb3ZlIHRoZSBjdXJyZW50bHkgZGlzcGxheWVkIG9wdGlvbnNcbiAgICB0aGlzLm9wdGlvbkxpc3QuZ2V0Q2hpbGRyZW4oKS5lYWNoKGZ1bmN0aW9uKG9wdGlvbikge1xuICAgICAgb3B0aW9uLnJlbW92ZUZyb21ET00oKTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCB0aGUgaW5wdXQgb3B0aW9uIHNpbmNlIHRoZSBzZWxlY3Qgb3B0aW9ucyBhcmUgaW5zZXJ0ZWQgYmVmb3JlIGl0XG4gICAgdGhpcy5pbnB1dE9wdGlvbiA9IFByaW1lRG9jdW1lbnQubmV3RWxlbWVudCgnPGxpLz4nKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy5vcHRpb25MaXN0KTtcbiAgICB0aGlzLmlucHV0ID0gUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8aW5wdXQvPicpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrRXZlbnQpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgdGhpcy5faGFuZGxlQmx1ckV2ZW50KVxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLl9oYW5kbGVGb2N1c0V2ZW50KVxuICAgICAgICAuc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy5pbnB1dE9wdGlvbik7XG4gICAgdGhpcy5zZWFyY2hlciA9IG5ldyBTZWFyY2hlcih0aGlzLmlucHV0LCB0aGlzLnNlYXJjaFJlc3VsdHMsIHRoaXMpXG4gICAgICAgIC53aXRoT3B0aW9ucyh0aGlzLm9wdGlvbnMpXG4gICAgICAgIC5pbml0aWFsaXplKCk7XG5cbiAgICAvLyBBZGQgdGhlIHNlbGVjdGVkIG9wdGlvbnNcbiAgICBsZXQgaGFzU2VsZWN0ZWRPcHRpb25zID0gZmFsc2U7XG4gICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuZWxlbWVudC5nZXRPcHRpb25zKCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBvcHRpb24gPSBvcHRpb25zW2ldO1xuICAgICAgaWYgKG9wdGlvbi5pc1NlbGVjdGVkKCkpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgaGFzU2VsZWN0ZWRPcHRpb25zID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBQdXQgdGhlIHBsYWNlaG9sZGVyIGF0dHJpYnV0ZSBpbiBpZiB0aGUgTXVsdGlwbGVTZWxlY3QgaGFzIG5vIHNlbGVjdGVkIG9wdGlvbnNcbiAgICBpZiAoIWhhc1NlbGVjdGVkT3B0aW9ucykge1xuICAgICAgdGhpcy5pbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyKTtcbiAgICB9XG5cbiAgICB0aGlzLnNlYXJjaGVyLnJlc2l6ZUlucHV0KCk7XG5cbiAgICAvLyBJZiBlcnJvciBjbGFzcyBoYW5kbGluZyB3YXMgZW5hYmxlZCBhbmQgdGhlIHNlbGVjdCBib3ggaGFzIHRoZSBlcnJvciBjbGFzcywgYWRkIGl0IHRvIHRoZSBkaXNwbGF5XG4gICAgaWYgKHRoaXMub3B0aW9ucy5lcnJvckNsYXNzICYmIHRoaXMuZWxlbWVudC5oYXNDbGFzcyh0aGlzLm9wdGlvbnMuZXJyb3JDbGFzcykpIHtcbiAgICAgIHRoaXMuZGlzcGxheUNvbnRhaW5lci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuZXJyb3JDbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW5pdGlhbCBvcHRpb25zIGZvciB0aGlzIHdpZGdldC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRJbml0aWFsT3B0aW9ucygpIHtcbiAgICAvLyBEZWZhdWx0c1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGFsbG93RHVwbGljYXRlczogZmFsc2UsXG4gICAgICBjbGFzc05hbWU6ICdwcmltZS1tdWx0aXBsZS1zZWxlY3QnLFxuICAgICAgY2xvc2VUaW1lb3V0OiAyMDAsXG4gICAgICBjdXN0b21BZGRFbmFibGVkOiB0cnVlLFxuICAgICAgY3VzdG9tQWRkTGFiZWw6ICdBZGQgQ3VzdG9tIFZhbHVlOiAnLFxuICAgICAgZXJyb3JDbGFzczogbnVsbCxcbiAgICAgIG5vU2VhcmNoUmVzdWx0c0xhYmVsOiAnTm8gTWF0Y2hlcyBGb3I6ICcsXG4gICAgICBwbGFjZWhvbGRlcjogJ0Nob29zZScsXG4gICAgICByZW1vdmVJY29uOiAnWCcsXG4gICAgICBzZWFyY2hGdW5jdGlvbjogU2VhcmNoZXIuc2VsZWN0U2VhcmNoRnVuY3Rpb25cbiAgICB9O1xuXG4gICAgY29uc3QgdXNlck9wdGlvbnMgPSBVdGlscy5kYXRhU2V0VG9PcHRpb25zKHRoaXMuZWxlbWVudCk7XG4gICAgZm9yIChsZXQgb3B0aW9uIGluIHVzZXJPcHRpb25zKSB7XG4gICAgICBpZiAodXNlck9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IHVzZXJPcHRpb25zW29wdGlvbl07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7TXVsdGlwbGVTZWxlY3R9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAyMCwgSW52ZXJzb2Z0IEluYy4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCxcbiAqIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcblxuY2xhc3MgUmVvcmRlciB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFJlb3JkZXIgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8RWxlbWVudHxFdmVudFRhcmdldH0gZWxlbWVudCBUaGUgUHJpbWUgRWxlbWVudCBmb3IgY29udGFpbmluZyB0aGUgcmUtb3JkZXJhYmxlIGl0ZW1zLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVFbGVtZW50LndyYXAoZWxlbWVudCk7XG4gICAgdGhpcy5fc2V0SW5pdGlhbE9wdGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95IHRoaXMgd2lkZ2V0LlxuICAgKlxuICAgKiBAcmV0dXJucyB7UmVvcmRlcn0gVGhpcy5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTW92ZURvd25DbGljayk7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlTW92ZVVwQ2xpY2spO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSB3aWRnZXQgYnkgYXR0YWNoaW5nIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybnMge1Jlb3JkZXJ9IFRoaXMuXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuZWxlbWVudC5hZGREZWxlZ2F0ZWRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3B0aW9ucy5tb3ZlRG93blNlbGVjdG9yLCB0aGlzLl9oYW5kbGVNb3ZlRG93bkNsaWNrKTtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRGVsZWdhdGVkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wdGlvbnMubW92ZVVwU2VsZWN0b3IsIHRoaXMuX2hhbmRsZU1vdmVVcENsaWNrKTtcblxuICAgIHRoaXMuX3JlZnJlc2hCdXR0b25TdGF0ZXMoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIHRoZSBpdGVtIGRvd24uXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtIHtQcmltZUVsZW1lbnR8RWxlbWVudH0gdGhlIGl0ZW0gdG8gbW92ZS5cbiAgICogQHJldHVybnMge1Jlb3JkZXJ9IFRoaXMuXG4gICAqL1xuICBtb3ZlRG93bihpdGVtKSB7XG4gICAgaWYgKGl0ZW0gIT09IG51bGwpIHtcbiAgICAgIGl0ZW0uZ2V0TmV4dFNpYmxpbmcoKS5pbnNlcnRCZWZvcmUoaXRlbSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaEJ1dHRvblN0YXRlcygpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW9yZGVyQ2FsbGJhY2spIHtcbiAgICAgIHRoaXMub3B0aW9ucy5yZW9yZGVyQ2FsbGJhY2sodGhpcywgaXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogTW92ZSB0aGUgaXRlbSB1cC5cbiAgICpcbiAgICogQHBhcmFtIGl0ZW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fSB0aGUgaXRlbSB0byBtb3ZlLlxuICAgKiBAcmV0dXJucyB7UmVvcmRlcn0gVGhpcy5cbiAgICovXG4gIG1vdmVVcChpdGVtKSB7XG4gICAgaWYgKGl0ZW0gIT09IG51bGwpIHtcbiAgICAgIGl0ZW0uZ2V0UHJldmlvdXNTaWJsaW5nKCkuaW5zZXJ0QWZ0ZXIoaXRlbSk7XG4gICAgfVxuXG4gICAgdGhpcy5fcmVmcmVzaEJ1dHRvblN0YXRlcygpO1xuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW9yZGVyQ2FsbGJhY2spIHtcbiAgICAgIHRoaXMub3B0aW9ucy5yZW9yZGVyQ2FsbGJhY2sodGhpcywgaXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgc2VsZWN0b3Igd2hpY2ggaXMgdXNlZCB0byBpZGVudGlmeSB0aGUgcmUtb3JkZXJhYmxlIGl0ZW1zIGluIHRoZSBjb250YWluZXIuXG4gICAqXG4gICAqIEBwYXJhbSBpdGVtU2VsZWN0b3Ige1N0cmluZ30gVGhlIGl0ZW0gc2VsZWN0b3IuXG4gICAqIEByZXR1cm5zIHtSZW9yZGVyfSBUaGlzLlxuICAgKi9cbiAgd2l0aEl0ZW1TZWxlY3RvcihpdGVtU2VsZWN0b3IpIHtcbiAgICB0aGlzLm9wdGlvbnMuaXRlbVNlbGVjdG9yID0gaXRlbVNlbGVjdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNlbGVjdG9yIHdoaWNoIGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG1vdmUgZG93biBidXR0b24gd2l0aGluIHRoZSByZS1vcmRlcmFibGUgaXRlbS5cbiAgICpcbiAgICogQHBhcmFtIG1vdmVEb3duU2VsZWN0b3Ige1N0cmluZ30gVGhlIG1vdmUgZG93biBidXR0b24gc2VsZWN0b3IuXG4gICAqIEByZXR1cm5zIHtSZW9yZGVyfSBUaGlzLlxuICAgKi9cbiAgd2l0aERvd25TZWxlY3Rvcihtb3ZlRG93blNlbGVjdG9yKSB7XG4gICAgdGhpcy5vcHRpb25zLm1vdmVEb3duU2VsZWN0b3IgPSBtb3ZlRG93blNlbGVjdG9yO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNlbGVjdG9yIHdoaWNoIGlzIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG1vdmUgdXAgYnV0dG9uIHdpdGhpbiB0aGUgcmUtb3JkZXJhYmxlIGl0ZW0uXG4gICAqXG4gICAqIEBwYXJhbSBtb3ZlVXBTZWxlY3RvciB7U3RyaW5nfSBUaGUgbW92ZSB1cCBidXR0b24gc2VsZWN0b3IuXG4gICAqIEByZXR1cm5zIHtSZW9yZGVyfSBUaGlzLlxuICAgKi9cbiAgd2l0aE1vdmVVcFNlbGVjdG9yKG1vdmVVcFNlbGVjdG9yKSB7XG4gICAgdGhpcy5vcHRpb25zLm1vdmVVcFNlbGVjdG9yID0gbW92ZVVwU2VsZWN0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGJlIHVzZWQgYWZ0ZXIgYW4gZWxlbWVudCBjaGFuZ2VzIG9yZGVyLlxuICAgKlxuICAgKiBAcGFyYW0gcmVvcmRlckNhbGxiYWNrIHtmdW5jdGlvbn0gVGhlIG9wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGNhbGwgYWZ0ZXIgYW4gZWxlbWVudCBjaGFuZ2VzIG9yZGVyLiBUaGlzXG4gICAqICAgICAgICBmdW5jdGlvbiB3aWxsIGJlIHByb3ZpZGVkIHdpdGggdGhlIGl0ZW0gdGhhdCBqdXN0IG1vdmVkLlxuICAgKiBAcmV0dXJucyB7UmVvcmRlcn0gVGhpcy5cbiAgICovXG4gIHdpdGhSZW9yZGVyQ2FsbGJhY2socmVvcmRlckNhbGxiYWNrKSB7XG4gICAgdGhpcy5vcHRpb25zLnJlb3JkZXJDYWxsYmFjayA9IHJlb3JkZXJDYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbW9yZSB0aGFuIG9uZSBvcHRpb24gYXQgYSB0aW1lIGJ5IHByb3ZpZGluZyBhIG1hcCBvZiBrZXkgdmFsdWUgcGFpcnMuIFRoaXMgaXMgY29uc2lkZXJlZCBhbiBhZHZhbmNlZFxuICAgKiBtZXRob2QgdG8gc2V0IG9wdGlvbnMgb24gdGhlIHdpZGdldC4gVGhlIGNhbGxlciBuZWVkcyB0byBrbm93IHdoYXQgcHJvcGVydGllcyBhcmUgdmFsaWQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBLZXkgdmFsdWUgcGFpciBvZiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtSZW9yZGVyfSBUaGlzLlxuICAgKi9cbiAgd2l0aE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmVkcmF3IHRoZSBzdGF0ZSBvZiB0aGlzIHdpZGdldC4gVGhpcyBtYXkgYmUgY2FsbGVkIGlmIHlvdSBoYXZlIGFkZGVkIGFkZGl0aW9uYWwgaXRlbXMgdG8gYmUgcmUtb3JkZXJlZC5cbiAgICpcbiAgICogQHJldHVybnMge1Jlb3JkZXJ9IFRoaXMuXG4gICAqL1xuICByZWRyYXcoKSB7XG4gICAgdGhpcy5fcmVmcmVzaEJ1dHRvblN0YXRlcygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUgTW92ZSBEb3duIGNsaWNrIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlTW92ZURvd25DbGljayhldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG5cbiAgICBjb25zdCB0YXJnZXQgPSBuZXcgUHJpbWVFbGVtZW50KGV2ZW50LnRhcmdldCk7XG4gICAgY29uc3QgaXRlbSA9IHRhcmdldC5xdWVyeVVwKHRoaXMub3B0aW9ucy5pdGVtU2VsZWN0b3IpO1xuICAgIHRoaXMubW92ZURvd24oaXRlbSk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIHRoZSBNb3ZlIFVwIGNsaWNrIGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlTW92ZVVwQ2xpY2soZXZlbnQpIHtcbiAgICBVdGlscy5zdG9wRXZlbnQoZXZlbnQpO1xuXG4gICAgY29uc3QgdGFyZ2V0ID0gbmV3IFByaW1lRWxlbWVudChldmVudC50YXJnZXQpO1xuICAgIGNvbnN0IGl0ZW0gPSB0YXJnZXQucXVlcnlVcCh0aGlzLm9wdGlvbnMuaXRlbVNlbGVjdG9yKTtcbiAgICB0aGlzLm1vdmVVcChpdGVtKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgYSAncmVmcmVzaCcgdG8gZW5zdXJlIHRoZSBidXR0b25zIGFyZSBpbiB0aGUgY29ycmVjdCBzdGF0ZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZWZyZXNoQnV0dG9uU3RhdGVzKCkge1xuICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5lbGVtZW50LnF1ZXJ5KHRoaXMub3B0aW9ucy5pdGVtU2VsZWN0b3IpO1xuICAgIGlmIChpdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXRlbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAvLyBPbmx5IG9uZSBpdGVtLCBhbGwgYnV0dG9ucyBhcmUgZGlzYWJsZWRcbiAgICAgIGl0ZW1zWzBdLnF1ZXJ5Rmlyc3QodGhpcy5vcHRpb25zLm1vdmVEb3duU2VsZWN0b3IpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgaXRlbXNbMF0ucXVlcnlGaXJzdCh0aGlzLm9wdGlvbnMubW92ZVVwU2VsZWN0b3IpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgaXRlbXNbMF0uc2V0RGF0YUF0dHJpYnV0ZSgnaW5kZXgnLCAwKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNb3JlIHRoYW4gb25lIGl0ZW1cbiAgICBpdGVtcy5lYWNoKGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4KSB7XG4gICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgLy8gRmlyc3QgZWxlbWVudFxuICAgICAgICBlbGVtZW50LnF1ZXJ5Rmlyc3QodGhpcy5vcHRpb25zLm1vdmVVcFNlbGVjdG9yKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgZWxlbWVudC5xdWVyeUZpcnN0KHRoaXMub3B0aW9ucy5tb3ZlRG93blNlbGVjdG9yKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IChpdGVtcy5sZW5ndGggLSAxKSkge1xuICAgICAgICAvLyBMYXN0IGVsZW1lbnRcbiAgICAgICAgZWxlbWVudC5xdWVyeUZpcnN0KHRoaXMub3B0aW9ucy5tb3ZlVXBTZWxlY3RvcikucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgIGVsZW1lbnQucXVlcnlGaXJzdCh0aGlzLm9wdGlvbnMubW92ZURvd25TZWxlY3RvcikuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbmFibGUgdGhlc2UgdXAgYW5kIGRvd24gYnV0dG9uc1xuICAgICAgICBlbGVtZW50LnF1ZXJ5Rmlyc3QodGhpcy5vcHRpb25zLm1vdmVEb3duU2VsZWN0b3IpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICBlbGVtZW50LnF1ZXJ5Rmlyc3QodGhpcy5vcHRpb25zLm1vdmVVcFNlbGVjdG9yKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBpbmRleCBkYXRhIGF0dHJpYnV0ZVxuICAgICAgZWxlbWVudC5zZXREYXRhQXR0cmlidXRlKCdpbmRleCcsIGluZGV4KTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW5pdGlhbCBvcHRpb25zIGZvciB0aGlzIHdpZGdldC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRJbml0aWFsT3B0aW9ucygpIHtcbiAgICAvLyBEZWZhdWx0c1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGl0ZW1TZWxlY3RvcjogJ2RhdGEtaXRlbScsXG4gICAgICBtb3ZlRG93blNlbGVjdG9yOiAnYS5kb3duJyxcbiAgICAgIG1vdmVVcFNlbGVjdG9yOiAnYS51cCcsXG4gICAgICByZW9yZGVyQ2FsbGJhY2s6IG51bGxcbiAgICB9O1xuXG4gICAgY29uc3QgdXNlck9wdGlvbnMgPSBVdGlscy5kYXRhU2V0VG9PcHRpb25zKHRoaXMuZWxlbWVudCk7XG4gICAgZm9yIChsZXQgb3B0aW9uIGluIHVzZXJPcHRpb25zKSB7XG4gICAgICBpZiAodXNlck9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IHVzZXJPcHRpb25zW29wdGlvbl07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7UmVvcmRlcn07XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE2LTIwMTcsIEludmVyc29mdCBJbmMuLCBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsXG4gKiBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpY1xuICogbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1V0aWxzfSBmcm9tIFwiLi4vVXRpbHMuanNcIjtcbmltcG9ydCB7UHJpbWVFbGVtZW50fSBmcm9tIFwiLi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5cbi8vU29tZSBleHRlcm5zIHRvIG1ha2UgaW50ZWxsaWogbGludGVyIHNodXR1cC4gOnBcbi8qKlxuICogQGV4dGVybmFsIFRvdWNoRXZlbnRcbiAqL1xuXG4vKipcbiAqIEBwcm9wZXJ0eSB7QXJyYXl9IGNoYW5nZWRUb3VjaGVzXG4gKiBAbmFtZSBUb3VjaEV2ZW50I2NoYW5nZWRUb3VjaGVzXG4gKi9cblxuLyoqXG4gKiBAY2xhc3MgVG91Y2hhYmxlXG4gKi9cbmNsYXNzIFRvdWNoYWJsZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFRvdWNoYWJsZSBvYmplY3QgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBlbGVtZW50IFRoZSBQcmltZSBFbGVtZW50IGZvciB0aGUgVG91Y2hhYmxlIHdpZGdldC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2V2ZW50UHJvcGFnYXRpb25IYW5kbGVyXSBBIEZ1bmN0aW9uIHRoYXQgaGFuZGxlcyBob3cgdGhlIGV2ZW50IGlzIGhhbmRsZWQgZm9yIHRoZSB0b3VjaHN0YXJ0LFxuICAgKiB0b3VjaGVuZCwgdG91Y2htb3ZlLCBhbmQgdG91Y2hjYW5jZWwgZXZlbnRzLiBUaGlzIEZ1bmN0aW9uIHRha2VzIHRoZSBldmVudCBvYmplY3QgYXMgaXRzIG9ubHkgcGFyYW1ldGVyLlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIGV2ZW50UHJvcGFnYXRpb25IYW5kbGVyKSB7XG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IFByaW1lRWxlbWVudC53cmFwKGVsZW1lbnQpO1xuICAgIHRoaXMuZXZlbnRQcm9wYWdhdGlvbkhhbmRsZXIgPSBldmVudFByb3BhZ2F0aW9uSGFuZGxlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgVG91Y2hhYmxlIFdpZGdldFxuICAgKi9cbiAgZGVzdHJveSgpIHtcbiAgICB0aGlzLmVsZW1lbnRcbiAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLl9oYW5kbGVUb3VjaFN0YXJ0KVxuICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5faGFuZGxlVG91Y2hNb3ZlKVxuICAgICAgICAucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCB0aGlzLl9oYW5kbGVUb3VjaENhbmNlbClcbiAgICAgICAgLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcy5faGFuZGxlVG91Y2hFbmQpXG4gICAgICAgIC5yZW1vdmVFdmVudExpc3RlbmVyc0J5UGF0dGVybigvUHJpbWVcXC5XaWRnZXRzXFwuVG91Y2hhYmxlOi4rLylcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgd2lkZ2V0IGJ5IGF0dGFjaGluZyBhbGwgb2YgdGhlIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgZWxlbWVudC5cbiAgICpcbiAgICogQHJldHVybnMge1RvdWNoYWJsZX0gVGhpcy5cbiAgICovXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5lbGVtZW50XG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcy5faGFuZGxlVG91Y2hTdGFydClcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHRoaXMuX2hhbmRsZVRvdWNoTW92ZSlcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgdGhpcy5faGFuZGxlVG91Y2hDYW5jZWwpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuX2hhbmRsZVRvdWNoRW5kKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgaGFuZGxlciB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYSBsb25nIHByZXNzIGlzIGRldGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7VG91Y2hhYmxlfSBUaGlzXG4gICAqL1xuICB3aXRoTG9uZ1ByZXNzSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ1RvdWNoYWJsZTpsb25nUHJlc3MnLCBoYW5kbGVyKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlIGEgaGFuZGxlciB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gYSBtb3ZlIGV2ZW50IGlzIGRldGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7VG91Y2hhYmxlfSBUaGlzXG4gICAqL1xuICB3aXRoTW92ZUhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdUb3VjaGFibGU6bW92ZScsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBhIGxvbmcgcHJlc3MgaXMgZGV0ZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtUb3VjaGFibGV9IFRoaXNcbiAgICovXG4gIHdpdGhTd2lwZURvd25IYW5kbGVyKGhhbmRsZXIpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignVG91Y2hhYmxlOnN3aXBlRG93bicsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBhIHN3aXBlIGxlZnQgZXZlbnQgaXMgZGV0ZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIGV2ZW50IGhhbmRsZXIuXG4gICAqIEByZXR1cm5zIHtUb3VjaGFibGV9IFRoaXNcbiAgICovXG4gIHdpdGhTd2lwZUxlZnRIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignVG91Y2hhYmxlOnN3aXBlTGVmdCcsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBhIHN3aXBlIHJpZ2h0IGV2ZW50IGlzIGRldGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7VG91Y2hhYmxlfSBUaGlzXG4gICAqL1xuICB3aXRoU3dpcGVSaWdodEhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdUb3VjaGFibGU6c3dpcGVSaWdodCcsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFByb3ZpZGUgYSBoYW5kbGVyIHRoYXQgd2lsbCBiZSBjYWxsZWQgd2hlbiBhIHN3aXBlIHVwIGV2ZW50IGlzIGRldGVjdGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYW5kbGVyIFRoZSBldmVudCBoYW5kbGVyLlxuICAgKiBAcmV0dXJucyB7VG91Y2hhYmxlfSBUaGlzXG4gICAqL1xuICB3aXRoU3dpcGVVcEhhbmRsZXIoaGFuZGxlcikge1xuICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdUb3VjaGFibGU6c3dpcGVVcCcsIGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgLyoqXG4gICAqIENvbGxlY3RzIGFsbCBvZiB0aGUgdG91Y2ggZGF0YSBhdCB0aGUgZW5kIG9mIHRoZSB0b3VjaCBhbmQgY2FsY3VsYXRlcyB0aGUgZGlzdGFuY2VzIGFuZCB0aW1lcy5cbiAgICpcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudCBUaGUgVG91Y2hFdmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jb2xsZWN0VG91Y2hEYXRhKGV2ZW50KSB7XG4gICAgY29uc3QgdG91Y2hQb2ludHMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7XG4gICAgaWYgKHRvdWNoUG9pbnRzID4gMSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgdGhpcy5lbGFwc2VkVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gdGhpcy50b3VjaFN0YXJ0ZWQ7XG4gICAgdGhpcy50b3VjaEVuZFggPSB0b3VjaC5wYWdlWDtcbiAgICB0aGlzLnRvdWNoRW5kWSA9IHRvdWNoLnBhZ2VZO1xuICAgIHRoaXMudG91Y2hYID0gdGhpcy50b3VjaFN0YXJ0WCAtIHRoaXMudG91Y2hFbmRYO1xuICAgIHRoaXMudG91Y2hZID0gdGhpcy50b3VjaFN0YXJ0WSAtIHRoaXMudG91Y2hFbmRZO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGFsbCBwcm9jZXNzaW5nIGlzIGZpbmlzaGVkIGFuZCB0aGUgaGFuZGxlcnMgYXJlIGNhbGxlZCBiYXNlZCBvbiBkaXJlY3Rpb24gYW5kIHRpbWUgb2YgdGhlIHRvdWNoZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfZmluaXNoZWQoKSB7XG4gICAgLy8gTWFrZSBzdXJlIHRoaXMgd2FzIGEgc3dpcGVcbiAgICBjb25zdCBldmVudCA9IHtcbiAgICAgIGVsYXBzZWRUaW1lOiB0aGlzLmVsYXBzZWRUaW1lLFxuICAgICAgdG91Y2hTdGFydFg6IHRoaXMudG91Y2hTdGFydFgsXG4gICAgICB0b3VjaFN0YXJ0WTogdGhpcy50b3VjaFN0YXJ0WSxcbiAgICAgIHRvdWNoRW5kWDogdGhpcy50b3VjaEVuZFgsXG4gICAgICB0b3VjaEVuZFk6IHRoaXMudG91Y2hFbmRZLFxuICAgICAgdG91Y2hYOiB0aGlzLnRvdWNoWCxcbiAgICAgIHRvdWNoWTogdGhpcy50b3VjaFksXG4gICAgICBlbGVtZW50OiB0aGlzLmVsZW1lbnQsXG4gICAgICB0YXJnZXQ6IHRoaXMuZWxlbWVudC5kb21FbGVtZW50XG4gICAgfTtcbiAgICBldmVudC5zd2lwZSA9IE1hdGguYWJzKGV2ZW50LnRvdWNoWCkgPiA1MCB8fCBNYXRoLmFicyhldmVudC50b3VjaFkpID4gNTA7XG4gICAgZXZlbnQuc3dpcGVYID0gZXZlbnQuc3dpcGUgJiYgTWF0aC5hYnMoZXZlbnQudG91Y2hYKSA+IE1hdGguYWJzKGV2ZW50LnRvdWNoWSk7XG4gICAgZXZlbnQuc3dpcGVZID0gZXZlbnQuc3dpcGUgJiYgIWV2ZW50LnN3aXBlWDtcbiAgICBldmVudC5sb25nUHJlc3MgPSAhZXZlbnQuc3dpcGUgJiYgZXZlbnQuZWxhcHNlZFRpbWUgPiA1MDA7XG5cbiAgICBpZiAoZXZlbnQubG9uZ1ByZXNzKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuZmlyZUN1c3RvbUV2ZW50KCdUb3VjaGFibGU6bG9uZ1ByZXNzJywgZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQuc3dpcGVYICYmIGV2ZW50LnRvdWNoWCA+IDApIHtcbiAgICAgIHRoaXMuZWxlbWVudC5maXJlQ3VzdG9tRXZlbnQoJ1RvdWNoYWJsZTpzd2lwZUxlZnQnLCBldmVudCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5zd2lwZVgpIHtcbiAgICAgIHRoaXMuZWxlbWVudC5maXJlQ3VzdG9tRXZlbnQoJ1RvdWNoYWJsZTpzd2lwZVJpZ2h0JywgZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQuc3dpcGVZICYmIGV2ZW50LnRvdWNoWSA+IDApIHtcbiAgICAgIHRoaXMuZWxlbWVudC5maXJlQ3VzdG9tRXZlbnQoJ1RvdWNoYWJsZTpzd2lwZVVwJywgZXZlbnQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQuc3dpcGVZKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuZmlyZUN1c3RvbUV2ZW50KCdUb3VjaGFibGU6c3dpcGVEb3duJywgZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHRvdWNoIGNhbmNlbCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudCBUaGUgdG91Y2ggZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlVG91Y2hDYW5jZWwoZXZlbnQpIHtcbiAgICB0aGlzLl9jb2xsZWN0VG91Y2hEYXRhKGV2ZW50KTtcbiAgICB0aGlzLl9maW5pc2hlZCgpO1xuICAgIGlmIChVdGlscy5pc0RlZmluZWQodGhpcy5ldmVudFByb3BhZ2F0aW9uSGFuZGxlcikpIHtcbiAgICAgIHRoaXMuZXZlbnRQcm9wYWdhdGlvbkhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHRvdWNoIGVuZCBldmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtUb3VjaEV2ZW50fSBldmVudCBUaGUgdG91Y2ggZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlVG91Y2hFbmQoZXZlbnQpIHtcbiAgICB0aGlzLl9jb2xsZWN0VG91Y2hEYXRhKGV2ZW50KTtcbiAgICB0aGlzLl9maW5pc2hlZCgpO1xuICAgIGlmIChVdGlscy5pc0RlZmluZWQodGhpcy5ldmVudFByb3BhZ2F0aW9uSGFuZGxlcikpIHtcbiAgICAgIHRoaXMuZXZlbnRQcm9wYWdhdGlvbkhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHRvdWNoIG1vdmUgZXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7VG91Y2hFdmVudH0gZXZlbnQgVGhlIHRvdWNoIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZVRvdWNoTW92ZShldmVudCkge1xuICAgIHRoaXMuZWxlbWVudC5maXJlRXZlbnQoJ1RvdWNoYWJsZTptb3ZlJywgZXZlbnQpO1xuICAgIGlmIChVdGlscy5pc0RlZmluZWQodGhpcy5ldmVudFByb3BhZ2F0aW9uSGFuZGxlcikpIHtcbiAgICAgIHRoaXMuZXZlbnRQcm9wYWdhdGlvbkhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgdGhlIHRvdWNoIHN0YXJ0IGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1RvdWNoRXZlbnR9IGV2ZW50IFRoZSB0b3VjaCBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVUb3VjaFN0YXJ0KGV2ZW50KSB7XG4gICAgY29uc3QgdG91Y2hQb2ludHMgPSBldmVudC5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg7XG4gICAgaWYgKHRvdWNoUG9pbnRzID4gMSkge1xuICAgICAgaWYgKFV0aWxzLmlzRGVmaW5lZCh0aGlzLmV2ZW50UHJvcGFnYXRpb25IYW5kbGVyKSkge1xuICAgICAgICB0aGlzLmV2ZW50UHJvcGFnYXRpb25IYW5kbGVyKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHRvdWNoID0gZXZlbnQuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgdGhpcy50b3VjaFN0YXJ0ZWQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICB0aGlzLnRvdWNoU3RhcnRYID0gdG91Y2gucGFnZVg7XG4gICAgdGhpcy50b3VjaFN0YXJ0WSA9IHRvdWNoLnBhZ2VZO1xuICAgIGlmIChVdGlscy5pc0RlZmluZWQodGhpcy5ldmVudFByb3BhZ2F0aW9uSGFuZGxlcikpIHtcbiAgICAgIHRoaXMuZXZlbnRQcm9wYWdhdGlvbkhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge1RvdWNoYWJsZX07XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LTIwMTcsIEludmVyc29mdCBJbmMuLCBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsXG4gKiBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpY1xuICogbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1ByaW1lRG9jdW1lbnR9IGZyb20gXCIuLi9QcmltZURvY3VtZW50LmpzXCI7XG5pbXBvcnQge1ByaW1lRWxlbWVudH0gZnJvbSBcIi4uL0RvY3VtZW50L1ByaW1lRWxlbWVudC5qc1wiO1xuaW1wb3J0IHtUb3VjaGFibGV9IGZyb20gXCIuL1RvdWNoYWJsZS5qc1wiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4uL1V0aWxzLmpzXCI7XG5cbmNsYXNzIFNpZGVNZW51IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgdGhlIHNpZGUgbWVudS5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8RWxlbWVudH0gYnV0dG9uIFRoZSBidXR0b24gZWxlbWVudCB0aGF0IGlzIHVzZWQgdG8gb3BlbiB0aGUgc2lkZSBtZW51LlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fSBzaWRlTWVudUVsZW1lbnQgVGhlIHNpZGUgbWVudSBlbGVtZW50IHRoYXQgd2lsbCBiZSBcImhpZGRlblwiIGFuZCBcInNob3dcIi5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihidXR0b24sIHNpZGVNZW51RWxlbWVudCkge1xuICAgIFV0aWxzLmJpbmRBbGwodGhpcyk7XG4gICAgdGhpcy5zaWRlTWVudSA9IFByaW1lRWxlbWVudC53cmFwKHNpZGVNZW51RWxlbWVudCk7XG4gICAgdGhpcy5idXR0b24gPSBQcmltZUVsZW1lbnQud3JhcChidXR0b24pO1xuICAgIHRoaXMuX3NldEluaXRpYWxPcHRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBzaWRlIG1lbnUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtTaWRlTWVudX0gVGhpcy5cbiAgICovXG4gIGNsb3NlKCkge1xuICAgIGlmICghUHJpbWVEb2N1bWVudC5ib2R5RWxlbWVudC5oYXNDbGFzcyh0aGlzLm9wdGlvbnMuY2xvc2VkQ2xhc3MpKSB7XG4gICAgICBQcmltZURvY3VtZW50LmJvZHlFbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbG9zZWRDbGFzcyk7XG4gICAgfVxuXG4gICAgaWYgKFByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQuaGFzQ2xhc3ModGhpcy5vcHRpb25zLm9wZW5DbGFzcykpIHtcbiAgICAgIFByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLm9wZW5DbGFzcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHdpZGdldCBieSBhdHRhY2hpbmcgdGhlIGV2ZW50IGxpc3RlbmVyIHRvIHRoZSBtZW51IGJ1dHRvbi5cbiAgICpcbiAgICogQHJldHVybnMge1NpZGVNZW51fVxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrRXZlbnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzaWRlIG1lbnUgaXMgY3VycmVudGx5IG9wZW4uXG4gICAqL1xuICBpc09wZW4oKSB7XG4gICAgcmV0dXJuIHRoaXMuc2lkZU1lbnUuZ2V0TGVmdCgpID49IDA7XG4gICAgLy8gcmV0dXJuIFByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQuaGFzQ2xhc3MoJ3ByaW1lLXNpZGUtbWVudS1vcGVuJykgfHwgIVByaW1lRG9jdW1lbnQuYm9keUVsZW1lbnQuaGFzQ2xhc3MoJ3ByaW1lLXNpZGUtbWVudS1jbG9zZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVucyB0aGUgbW9iaWxlIG5hdi5cbiAgICogQHJldHVybnMge1NpZGVNZW51fSBUaGlzLlxuICAgKi9cbiAgb3BlbigpIHtcbiAgICBpZiAoUHJpbWVEb2N1bWVudC5ib2R5RWxlbWVudC5oYXNDbGFzcyh0aGlzLm9wdGlvbnMuY2xvc2VkQ2xhc3MpKSB7XG4gICAgICBQcmltZURvY3VtZW50LmJvZHlFbGVtZW50LnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy5jbG9zZWRDbGFzcyk7XG4gICAgfVxuXG4gICAgaWYgKCFQcmltZURvY3VtZW50LmJvZHlFbGVtZW50Lmhhc0NsYXNzKHRoaXMub3B0aW9ucy5vcGVuQ2xhc3MpKSB7XG4gICAgICBQcmltZURvY3VtZW50LmJvZHlFbGVtZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy5vcGVuQ2xhc3MpO1xuICAgIH1cblxuICAgIHRoaXMudG91Y2hhYmxlID0gbmV3IFRvdWNoYWJsZShQcmltZURvY3VtZW50LmJvZHlFbGVtZW50KS53aXRoU3dpcGVMZWZ0SGFuZGxlcih0aGlzLl9oYW5kbGVTd2lwZUxlZnQpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtb3JlIHRoYW4gb25lIG9wdGlvbiBhdCBhIHRpbWUgYnkgcHJvdmlkaW5nIGEgbWFwIG9mIGtleSB2YWx1ZSBwYWlycy4gVGhpcyBpcyBjb25zaWRlcmVkIGFuIGFkdmFuY2VkXG4gICAqIG1ldGhvZCB0byBzZXQgb3B0aW9ucyBvbiB0aGUgd2lkZ2V0LiBUaGUgY2FsbGVyIG5lZWRzIHRvIGtub3cgd2hhdCBwcm9wZXJ0aWVzIGFyZSB2YWxpZCBpbiB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEtleSB2YWx1ZSBwYWlyIG9mIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICogQHJldHVybnMge1NpZGVNZW51fSBUaGlzLlxuICAgKi9cbiAgd2l0aE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIFByaXZhdGUgbWV0aG9kc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY2xpY2sgZXZlbnQgb24gdGhlIHNpZGUgbWVudSBidXR0b24gYW5kIGNhbGxzIGVpdGhlciB0aGUgb3BlbiBvciBjbG9zZSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVDbGlja0V2ZW50KGV2ZW50KSB7XG4gICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9wZW4oKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgc3ludGhldGljIHN3aXBlIGxlZnQgZXZlbnQgdGhhdCBQcmltZS5qcyBwcm92aWRlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVTd2lwZUxlZnQoKSB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBpZiAoVXRpbHMuaXNEZWZpbmVkKHRoaXMudG91Y2hhYmxlKSkge1xuICAgICAgdGhpcy50b3VjaGFibGUuZGVzdHJveSgpO1xuICAgICAgdGhpcy50b3VjaGFibGUgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGluaXRpYWwgb3B0aW9ucyBmb3IgdGhpcyB3aWRnZXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0SW5pdGlhbE9wdGlvbnMoKSB7XG4gICAgLy8gRGVmYXVsdHNcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBjbG9zZWRDbGFzczogJ3ByaW1lLXNpZGUtbWVudS1jbG9zZWQnLFxuICAgICAgb3BlbkNsYXNzOiAncHJpbWUtc2lkZS1tZW51LW9wZW4nXG4gICAgfTtcblxuICAgIGNvbnN0IHVzZXJPcHRpb25zID0gVXRpbHMuZGF0YVNldFRvT3B0aW9ucyh0aGlzLnNpZGVNZW51KTtcbiAgICBmb3IgKGxldCBvcHRpb24gaW4gdXNlck9wdGlvbnMpIHtcbiAgICAgIGlmICh1c2VyT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gdXNlck9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtTaWRlTWVudX1cbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTcsIEludmVyc29mdCBJbmMuLCBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsXG4gKiBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpY1xuICogbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBQcmltZVN0b3JhZ2UgPSB7XG4gIC8qKlxuICAgKiBUcnVlIGlmIGxvY2FsIHN0b3JhZ2UgaXMgc3VwcG9ydGVkLlxuICAgKiBAdHlwZSB7Ym9vbGVhbn0gdHJ1ZSBpZiBsb2NhbCBzdG9yYWdlIGlzIHN1cHBvcnRlZC4gTG9jYWwgaW4gdGhpcyBjYXNlIGJlaW5nIHVzZWQgdG8gaW5kaWNhdGUgZWl0aGVyIHR5cGUgJ2xvY2FsJyBvciAnc2Vzc2lvbicuXG4gICAqL1xuICBzdXBwb3J0ZWQ6IHR5cGVvZihTdG9yYWdlKSAhPT0gJ3VuZGVmaW5lZCcsXG5cbiAgLyoqXG4gICAqIFNldCBhbiBvYmplY3QgaW50byBzZXNzaW9uIHN0b3JhZ2UuXG4gICAqIEBwYXJhbSBrZXkge3N0cmluZ30gdGhlIGtleSB0byBzdG9yZSB0aGUgb2JqZWN0LlxuICAgKiBAcGFyYW0gb2JqZWN0IHtvYmplY3R9IHRoZSBvYmplY3QgdG8gc3RvcmUuXG4gICAqL1xuICBzZXRTZXNzaW9uT2JqZWN0OiBmdW5jdGlvbihrZXksIG9iamVjdCkge1xuICAgIFByaW1lU3RvcmFnZS5fc2V0T2JqZWN0KHNlc3Npb25TdG9yYWdlLCBrZXksIG9iamVjdCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGFuIG9iamVjdCBmcm9tIHNlc3Npb24gc3RvcmFnZS5cbiAgICogQHBhcmFtIGtleSB7c3RyaW5nfSB0aGUga2V5IHRoYXQgd2FzIHVzZWQgdG8gc3RvcmUgdGhlIG9iamVjdC5cbiAgICogQHJldHVybiB7b2JqZWN0fSB0aGUgc3RvcmVkIG9iamVjdCBvciBudWxsIGlmIGl0IGRvZXMgbm90IGV4aXN0IG9yIGxvY2FsIHN0b3JhZ2UgaXMgbm90IHN1cHBvcnRlZC5cbiAgICovXG4gIGdldFNlc3Npb25PYmplY3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBQcmltZVN0b3JhZ2UuX2dldE9iamVjdChzZXNzaW9uU3RvcmFnZSwga2V5KTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0IGFuIG9iamVjdCBpbnRvIGxvY2FsIHN0b3JhZ2Ugc3RvcmFnZS5cbiAgICogQHBhcmFtIGtleSB7c3RyaW5nfSB0aGUga2V5IHRvIHN0b3JlIHRoZSBvYmplY3QuXG4gICAqIEBwYXJhbSBvYmplY3Qge29iamVjdH0gdGhlIG9iamVjdCB0byBzdG9yZS5cbiAgICovXG4gIHNldExvY2FsT2JqZWN0OiBmdW5jdGlvbihrZXksIG9iamVjdCkge1xuICAgIFByaW1lU3RvcmFnZS5fc2V0T2JqZWN0KGxvY2FsU3RvcmFnZSwga2V5LCBvYmplY3QpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBhbiBvYmplY3QgZnJvbSBsb2NhbCBzdG9yYWdlLlxuICAgKiBAcGFyYW0ga2V5IHtzdHJpbmd9IHRoZSBrZXkgdGhhdCB3YXMgdXNlZCB0byBzdG9yZSB0aGUgb2JqZWN0LlxuICAgKiBAcmV0dXJuIHtvYmplY3R9IHRoZSBzdG9yZWQgb2JqZWN0IG9yIG51bGwgaWYgaXQgZG9lcyBub3QgZXhpc3Qgb3IgbG9jYWwgc3RvcmFnZSBpcyBub3Qgc3VwcG9ydGVkLlxuICAgKi9cbiAgZ2V0TG9jYWxPYmplY3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBQcmltZVN0b3JhZ2UuX2dldE9iamVjdChsb2NhbFN0b3JhZ2UsIGtleSk7XG4gIH0sXG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgX2dldE9iamVjdDogZnVuY3Rpb24oc3RvcmFnZSwga2V5KSB7XG4gICAgaWYgKFByaW1lU3RvcmFnZS5zdXBwb3J0ZWQpIHtcbiAgICAgIGNvbnN0IGl0ZW0gPSBzdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICAgIGlmIChpdGVtICE9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGl0ZW0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuXG4gIF9zZXRPYmplY3Q6IGZ1bmN0aW9uKHN0b3JhZ2UsIGtleSwgb2JqZWN0KSB7XG4gICAgaWYgKFByaW1lU3RvcmFnZS5zdXBwb3J0ZWQpIHtcbiAgICAgIHN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KG9iamVjdCkpO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IHtQcmltZVN0b3JhZ2V9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNC0yMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtQcmltZUVsZW1lbnR9IGZyb20gXCIuLi9Eb2N1bWVudC9QcmltZUVsZW1lbnQuanNcIjtcbmltcG9ydCB7VXRpbHN9IGZyb20gXCIuLi9VdGlscy5qc1wiO1xuaW1wb3J0IHtQcmltZVN0b3JhZ2V9IGZyb20gXCIuLi9TdG9yYWdlLmpzXCI7XG5pbXBvcnQge1ByaW1lRG9jdW1lbnR9IGZyb20gXCIuLi9QcmltZURvY3VtZW50LmpzXCI7XG5cbmNsYXNzIFNwbGl0QnV0dG9uIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgU3BsaXRCdXR0b24gb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogVGhlIG1hcmt1cCBtdXN0IGJlIGEgc3BlY2lmaWMgc3RydWN0dXJlIGluIG9yZGVyIGZvciB0aGUgU3BsaXRCdXR0b24gdG8gcmVtZW1iZXIgdGhlIGxhc3QgYWN0aW9uIHRoZSB1c2VyIHRvb2tcbiAgICogYXMgd2VsbCBhcyBzaG93IGFuZCBoaWRlIHRoZSBtZW51IG9mIGl0ZW1zLlxuICAgKlxuICAgKiBIZXJlJ3MgdGhlIGZvcm1hdCBmb3IgdGhlIGVsZW1lbnRzLlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgICZsdDtkaXYgY2xhc3M9XCJzcGxpdC1idXR0b25cIiZndDtcbiAgICogICAgICZsdDthIGhyZWY9XCIjXCImZ3Q7TG9hZGluZy4uLiAmbHQ7L2EmZ3Q7XG4gICAqICAgICAmbHQ7YnV0dG9uIHR5cGU9XCJidXR0b25cIiZndDsmbHQ7L2J1dHRvbiZndDtcbiAgICogICAgICZsdDtkaXYgdHlwZT1cIm1lbnVcIiZndDtcbiAgICogICAgICAgJmx0O2EgY2xhc3M9XCJpdGVtXCIgaHJlZj1cIi9hZG1pbi9mb28vYWRkL1wiJmd0O0FkZCZsdDsvYSZndDtcbiAgICogICAgICAgJmx0O2EgY2xhc3M9XCJpdGVtXCIgaHJlZj1cIi9hZG1pbi9mb28vZGVsZXRlL1wiJmd0O0RlbGV0ZSZsdDsvYSZndDtcbiAgICogICAgICZsdDsvZGl2Jmd0O1xuICAgKiAgICZsdDsvdWwmZ3Q7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBBbHNvLCBpdCBpcyBpbXBvcnRhbnQgdG8gdW5kZXJzdGFuZCBob3cgdG8gYXR0YWNoIGV2ZW50IGxpc3RlbmVycyB0byB0aGUgU3BsaXRCdXR0b24uIFlvdSBjYW5ub3QgYXR0YWNoIHRoZW0gdG9cbiAgICogdGhlIGluZGl2aWR1YWwgbWVudSBpdGVtcyBzaW5jZSB0aG9zZSB3aWxsIG5ldmVyIGJlIGNsaWNrZWQuIEluc3RlYWQsIHlvdSBtdXN0IGF0dGFjaCB0aGVtIHRvIHRoZSBkaXYgYXQgdGhlIHRvcFxuICAgKiBhbmQgaGFuZGxlIGFsbCB0aGUgZXZlbnRzIGZyb20gaW5zaWRlLiBUaGlzIGlzIGR1ZSB0byBob3cgdGhlIHNwbGl0IGJ1dHRvbiBjaGFuZ2VzIHRoZSBtYWluIGJ1dHRvbiBiYXNlZCBvbiB0aGVcbiAgICogYWN0aW9uIHRoZSB1c2VyIHRvb2sgbGFzdC5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBUaGUgZWxlbWVudCB0byB0cmFuc2Zvcm0gaW50byBhIHNwbGl0IGJ1dHRvbi5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IFByaW1lRWxlbWVudC53cmFwKGVsZW1lbnQpO1xuICAgIHRoaXMuY3VycmVudEFjdGlvbiA9IHRoaXMuZWxlbWVudC5xdWVyeUZpcnN0KCdhJyk7XG4gICAgaWYgKHRoaXMuY3VycmVudEFjdGlvbiA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFNwbGl0QnV0dG9uIGVsZW1lbnQgbXVzdCBjb250YWluIGFuIDxhPiB0aGF0IGlzIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgYWN0aW9uLicpO1xuICAgIH1cbiAgICB0aGlzLmxvYWRpbmcgPSB0aGlzLmN1cnJlbnRBY3Rpb247XG5cbiAgICB0aGlzLmJ1dHRvbiA9IHRoaXMuZWxlbWVudC5xdWVyeUZpcnN0KCdidXR0b24nKTtcbiAgICBpZiAodGhpcy5idXR0b24gPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBTcGxpdEJ1dHRvbiBlbGVtZW50IG11c3QgY29udGFpbiBhIDxidXR0b24+IHRoYXQgaXMgdXNlZCB0byBvcGVuIGl0LicpO1xuICAgIH1cblxuICAgIHRoaXMubWVudSA9IHRoaXMuZWxlbWVudC5xdWVyeUZpcnN0KCcubWVudScpO1xuICAgIGlmICh0aGlzLm1lbnUgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBTcGxpdEJ1dHRvbiBlbGVtZW50IG11c3QgY29udGFpbiBhIDxkaXYgY2xhc3M9XCJtZW51XCI+IHRoYXQgY29udGFpbnMgdGhlIG1lbnUgaXRlbXMuJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pdGVtcyA9IHRoaXMubWVudS5xdWVyeSgnLml0ZW0nKTtcbiAgICBpZiAodGhpcy5pdGVtcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBTcGxpdEJ1dHRvbiBlbGVtZW50IG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgaXRlbS4nKTtcbiAgICB9XG5cbiAgICB0aGlzLmFjdGlvbkluZGV4ID0gbnVsbDtcbiAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICB0aGlzLl9zZXRJbml0aWFsT3B0aW9ucygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGV2ZW50IGxpc3RlbmVycy5cbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy5idXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVCdXR0b25DbGljayk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIFNwbGl0QnV0dG9uIGJ5IHNldHRpbmcgdXAgYWxsIHRoZSBldmVudCBsaXN0ZW5lcnMgYW5kIG1hbmFnaW5nIHRoZSBkZWZhdWx0IGFjdGlvbiBvciB0aGUgbGFzdCBhY3Rpb25cbiAgICogdGhhdCB0aGUgdXNlciB0b29rLlxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUJ1dHRvbkNsaWNrKTtcbiAgICB0aGlzLml0ZW1zLmVhY2goaXRlbSA9PiBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlSXRlbUNsaWNrKSk7XG4gICAgdGhpcy5yZWRyYXcoKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJlZHJhdygpIHtcbiAgICAvLyBMb2FkIHRoZSBsYXN0IGFjdGlvbiAoaWYgYW55KVxuICAgIGxldCBhY3Rpb25JZCA9IG51bGw7XG4gICAgaWYgKFByaW1lU3RvcmFnZS5zdXBwb3J0ZWQgJiYgdGhpcy5vcHRpb25zLmxvY2FsU3RvcmFnZUtleSAhPT0gbnVsbCkge1xuICAgICAgYWN0aW9uSWQgPSBQcmltZVN0b3JhZ2UuZ2V0U2Vzc2lvbk9iamVjdCh0aGlzLm9wdGlvbnMubG9jYWxTdG9yYWdlS2V5KTtcbiAgICAgIGlmIChhY3Rpb25JZCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnNlbGVjdEFjdGlvbihhY3Rpb25JZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gSWYgbm8gYWN0aW9uIGlzIHNlbGVjdGVkIGZyb20gbG9jYWwgc3RvcmFnZSwgc2VsZWN0IHRoZSBkZWZhdWx0XG4gICAgaWYgKGFjdGlvbklkID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNlbGVjdERlZmF1bHRBY3Rpb24oKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNlbGVjdEFjdGlvbihhY3Rpb25JZCkge1xuICAgIGNvbnN0IGl0ZW0gPSBQcmltZURvY3VtZW50LnF1ZXJ5QnlJZChhY3Rpb25JZCk7XG4gICAgaWYgKGl0ZW0gIT09IG51bGwpIHtcbiAgICAgIGxldCBjbGFzc2VzID0gJyc7XG4gICAgICBpZiAodGhpcy5sb2FkaW5nICE9PSBudWxsKSB7XG4gICAgICAgIGNsYXNzZXMgPSB0aGlzLmxvYWRpbmcuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xuICAgICAgICB0aGlzLmxvYWRpbmcucmVtb3ZlRnJvbURPTSgpO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhc3NlcyA9IHRoaXMuY3VycmVudEFjdGlvbi5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgIHRoaXMuY3VycmVudEFjdGlvbi5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdGhpcy5jdXJyZW50QWN0aW9uLmdldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC1jbGFzcycpKTtcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0aW9uLnJlbW92ZUZyb21ET00oKTtcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0aW9uLnByZXBlbmRUbyh0aGlzLm1lbnUpO1xuICAgICAgfVxuXG4gICAgICBpdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC1jbGFzcycsIGl0ZW0uZ2V0QXR0cmlidXRlKCdjbGFzcycpKTtcbiAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdjbGFzcycsIGNsYXNzZXMpO1xuICAgICAgaXRlbS5yZW1vdmVGcm9tRE9NKCk7XG4gICAgICBpdGVtLnByZXBlbmRUbyh0aGlzLmVsZW1lbnQpO1xuICAgICAgdGhpcy5jdXJyZW50QWN0aW9uID0gaXRlbTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVGhpcyBzaG91bGRuJ3QgaW5maW5pdGVseSByZWN1cnNlIGJlY2F1c2UgdGhhdCBtZXRob2QgYWx3YXlzIGZpbmRzIHNvbWV0aGluZ1xuICAgICAgdGhpcy5zZWxlY3REZWZhdWx0QWN0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gdGhpcy5jdXJyZW50QWN0aW9uLnNldEF0dHJpYnV0ZSgnaHJlZicsIGl0ZW0uZ2V0QXR0cmlidXRlKCdocmVmJykpO1xuICAgIC8vIHRoaXMuY3VycmVudEFjdGlvbi5zZXRIVE1MKGl0ZW0uZ2V0SFRNTCgpKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHNlbGVjdERlZmF1bHRBY3Rpb24oKSB7XG4gICAgLy8gRmluZCB0aGUgZGVmYXVsdFxuICAgIGxldCBhY3Rpb25JZCA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLml0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5pdGVtc1tpXS5oYXNDbGFzcygnZGVmYXVsdCcpKSB7XG4gICAgICAgIGFjdGlvbklkID0gdGhpcy5pdGVtc1tpXS5nZXRJZCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGYWxsIGJhY2sgaWYgaXQgd2Fzbid0IGZvdW5kXG4gICAgaWYgKGFjdGlvbklkID09PSBudWxsKSB7XG4gICAgICBhY3Rpb25JZCA9IHRoaXMuaXRlbXNbMF0uZ2V0SWQoKTtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3QgdGhlIGRlZmF1bHQgKG9yIGZpcnN0IGl0ZW0pXG4gICAgaWYgKGFjdGlvbklkICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9zYXZlTGFzdEFjdGlvbihhY3Rpb25JZCk7XG4gICAgICB0aGlzLnNlbGVjdEFjdGlvbihhY3Rpb25JZCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB3aXRoTG9jYWxTdG9yYWdlS2V5KGxvY2FsU3RvcmFnZUtleSkge1xuICAgIHRoaXMub3B0aW9ucy5sb2NhbFN0b3JhZ2VLZXkgPSBsb2NhbFN0b3JhZ2VLZXk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB3aXRoT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAobGV0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGJ1dHRvbiBjbGljayBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVCdXR0b25DbGljayhldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgaWYgKHRoaXMubWVudS5pc1Zpc2libGUoKSkge1xuICAgICAgdGhpcy5tZW51LmhpZGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5tZW51LnNob3coKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgaXRlbSBjbGljayBldmVudCB0byB1cGRhdGUgdGhlIGxhc3QgYWN0aW9uIGluIGxvY2FsIHN0b3JhZ2UgKGlmIGVuYWJsZWQpLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUl0ZW1DbGljayhldmVudCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMuaXRlbXNbaV0uZG9tRWxlbWVudCA9PT0gZXZlbnQudGFyZ2V0KSB7XG4gICAgICAgIGxldCBhY3Rpb25JZCA9IHRoaXMuaXRlbXNbaV0uZ2V0SWQoKTtcbiAgICAgICAgdGhpcy5fc2F2ZUxhc3RBY3Rpb24oYWN0aW9uSWQpO1xuICAgICAgICB0aGlzLnNlbGVjdEFjdGlvbihhY3Rpb25JZCk7XG4gICAgICAgIHRoaXMubWVudS5oaWRlKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9zYXZlTGFzdEFjdGlvbihhY3Rpb25JZCkge1xuICAgIGlmIChQcmltZVN0b3JhZ2Uuc3VwcG9ydGVkICYmIHRoaXMub3B0aW9ucy5sb2NhbFN0b3JhZ2VLZXkgIT09IG51bGwpIHtcbiAgICAgIFByaW1lU3RvcmFnZS5zZXRTZXNzaW9uT2JqZWN0KHRoaXMub3B0aW9ucy5sb2NhbFN0b3JhZ2VLZXksIGFjdGlvbklkKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbml0aWFsIG9wdGlvbnMgZm9yIHRoaXMgd2lkZ2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEluaXRpYWxPcHRpb25zKCkge1xuICAgIC8vIERlZmF1bHRzXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgbG9jYWxTdG9yYWdlS2V5OiBudWxsXG4gICAgfTtcblxuICAgIGNvbnN0IHVzZXJPcHRpb25zID0gVXRpbHMuZGF0YVNldFRvT3B0aW9ucyh0aGlzLmVsZW1lbnQpO1xuICAgIGZvciAobGV0IG9wdGlvbiBpbiB1c2VyT3B0aW9ucykge1xuICAgICAgaWYgKHVzZXJPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zW29wdGlvbl0gPSB1c2VyT3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQge1NwbGl0QnV0dG9ufTtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCwgSW52ZXJzb2Z0IEluYy4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCxcbiAqIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VXRpbHN9IGZyb20gXCIuLi9VdGlscy5qc1wiO1xuaW1wb3J0IHtQcmltZUVsZW1lbnR9IGZyb20gXCIuLi9Eb2N1bWVudC9QcmltZUVsZW1lbnQuanNcIjtcbmltcG9ydCB7UHJpbWVTdG9yYWdlfSBmcm9tIFwiLi4vU3RvcmFnZS5qc1wiO1xuXG5jbGFzcyBUYWJsZSB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFRhYmxlIG9iamVjdCBmb3IgdGhlIGdpdmVuIHRhYmxlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR9IGVsZW1lbnQgVGhlIHRhYmxlIGVsZW1lbnQuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIFV0aWxzLmJpbmRBbGwodGhpcyk7XG5cbiAgICB0aGlzLmNvbHVtbiA9IG51bGw7XG4gICAgdGhpcy5jb2x1bW5JbmRleCA9IDA7XG4gICAgdGhpcy5zb3J0QXNjZW5kaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMuZWxlbWVudCA9IFByaW1lRWxlbWVudC53cmFwKGVsZW1lbnQpO1xuICAgIHRoaXMudGhlYWQgPSB0aGlzLmVsZW1lbnQucXVlcnlGaXJzdCgndGhlYWQnKTtcbiAgICB0aGlzLnRib2R5ID0gdGhpcy5lbGVtZW50LnF1ZXJ5Rmlyc3QoJ3Rib2R5Jyk7XG5cbiAgICBpZiAoIXRoaXMuZWxlbWVudC5pcygndGFibGUnKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIGVsZW1lbnQgeW91IHBhc3NlZCBpbiBpcyBub3QgYSB0YWJsZSBlbGVtZW50LicpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEluaXRpYWxPcHRpb25zKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgdGhlIHRhYmxlIHdpZGdldC5cbiAgICpcbiAgICogQHJldHVybnMge1RhYmxlfSBUaGlzLlxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICAvLyBTb3J0YWJsZSBieSBkZWZhdWx0IHVubGVzcyBpdCBpcyBkaXNhYmxlZFxuICAgIGlmICh0aGlzLmVsZW1lbnQuZ2V0RGF0YUF0dHJpYnV0ZSgnc29ydGFibGUnKSAhPT0gJ2ZhbHNlJykge1xuICAgICAgdGhpcy5faW5pdGlhbGl6ZVNvcnQoKTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXplIHRoZSBjaGVja2JveCBoYW5kbGluZ1xuICAgIHRoaXMuc2VsZWN0QWxsID0gdGhpcy5lbGVtZW50LnF1ZXJ5Rmlyc3QoJ3RoZWFkID4gdHIgPiB0aCBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICBpZiAodGhpcy5zZWxlY3RBbGwgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuc2VsZWN0QWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNlbGVjdEFsbENoYW5nZSk7XG4gICAgfVxuXG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5KCd0Ym9keSA+IHRyID4gdGQgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDaGVja2JveEV2ZW50KTtcbiAgICB0aGlzLmNoZWNrZWRDb3VudCA9IDA7XG4gICAgdGhpcy5udW1iZXJvZkNoZWNrYm94ZXMgPSB0aGlzLmVsZW1lbnQucXVlcnkoJ3Rib2R5IHRkIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmxlbmd0aDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNvcnQgdGhlIHRhYmxlLlxuICAgKi9cbiAgc29ydCgpIHtcbiAgICB0aGlzLl9jbGVhclNvcnRJbmRpY2F0b3JzKCk7XG5cbiAgICBpZiAodGhpcy5jb2x1bW4uaGFzQ2xhc3MoJ3NvcnQtdXAnKSkge1xuICAgICAgdGhpcy5jb2x1bW4ucmVtb3ZlQ2xhc3MoJ3NvcnQtdXAnKS5hZGRDbGFzcygnc29ydC1kb3duJyk7XG4gICAgICB0aGlzLnNvcnRBc2NlbmRpbmcgPSBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuY29sdW1uLmhhc0NsYXNzKCdzb3J0LWRvd24nKSkge1xuICAgICAgdGhpcy5jb2x1bW4ucmVtb3ZlQ2xhc3MoJ3NvcnQtZG93bicpLmFkZENsYXNzKCdzb3J0LXVwJyk7XG4gICAgICB0aGlzLnNvcnRBc2NlbmRpbmcgPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbHVtbi5hZGRDbGFzcygnc29ydC11cCcpO1xuICAgICAgdGhpcy5zb3J0QXNjZW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDb2xsZWN0IHRoZSB2YWx1ZXMgdG8gc29ydFxuICAgIGNvbnN0IHJvd3MgPSBbXTtcbiAgICB0aGlzLnRib2R5LnF1ZXJ5KCd0cicpLmVhY2goZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgcm93cy5wdXNoKGVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgcm93cy5zb3J0KHRoaXMuX2NvbXBhcmF0b3IpO1xuICAgIGxldCBpID0gMDtcbiAgICBjb25zdCBsZW5ndGggPSByb3dzLmxlbmd0aDtcbiAgICBpZiAodGhpcy5zb3J0QXNjZW5kaW5nKSB7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgIGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMudGJvZHkuYXBwZW5kRWxlbWVudChyb3dzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gbGVuZ3RoOyBpID4gMDsgaS0tKSB7XG4gICAgICAgIHRoaXMudGJvZHkuYXBwZW5kRWxlbWVudChyb3dzW2kgLSAxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2F2ZSBjdXJyZW50IHNvcnRlZCBjb2x1bW4gc3RhdGUgaW4gbG9jYWwgc3RvcmFnZS5cbiAgICBpZiAoUHJpbWVTdG9yYWdlLnN1cHBvcnRlZCAmJiB0aGlzLm9wdGlvbnMubG9jYWxTdG9yYWdlS2V5ICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICBjb2x1bW5JbmRleDogdGhpcy5jb2x1bW5JbmRleCxcbiAgICAgICAgc29ydEFzY2VuZGluZzogdGhpcy5zb3J0QXNjZW5kaW5nXG4gICAgICB9O1xuICAgICAgUHJpbWVTdG9yYWdlLnNldFNlc3Npb25PYmplY3QodGhpcy5vcHRpb25zLmxvY2FsU3RvcmFnZUtleSwgZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgYSBjYWxsYmFjayBvbiBhIGNoZWNrYm94IGV2ZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICogQHJldHVybnMge1RhYmxlfSBUaGlzLlxuICAgKi9cbiAgd2l0aENoZWNrRXZlbnRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIHRoaXMub3B0aW9ucy5jaGVja0V2ZW50Q2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGVzIGxvY2FsIHN0b3JhZ2Ugb2YgdGhlIHNvcnRlZCBjb2x1bW4uIFRoaXMga2V5IGlzIHJlcXVpcmVkIHRvIGVuYWJsZSBsb2NhbCBzdG9yYWdlIG9mIHRoZSBzb3J0ZWQgY29sdW1uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5IFRoZSBsb2NhbCBzdG9yYWdlIGtleS5cbiAgICogQHJldHVybnMge1RhYmxlfSBUaGlzLlxuICAgKi9cbiAgd2l0aExvY2FsU3RvcmFnZUtleShrZXkpIHtcbiAgICB0aGlzLm9wdGlvbnMubG9jYWxTdG9yYWdlS2V5ID0ga2V5O1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtb3JlIHRoYW4gb25lIG9wdGlvbiBhdCBhIHRpbWUgYnkgcHJvdmlkaW5nIGEgbWFwIG9mIGtleSB2YWx1ZSBwYWlycy4gVGhpcyBpcyBjb25zaWRlcmVkIGFuIGFkdmFuY2VkXG4gICAqIG1ldGhvZCB0byBzZXQgb3B0aW9ucyBvbiB0aGUgd2lkZ2V0LiBUaGUgY2FsbGVyIG5lZWRzIHRvIGtub3cgd2hhdCBwcm9wZXJ0aWVzIGFyZSB2YWxpZCBpbiB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEtleSB2YWx1ZSBwYWlyIG9mIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICogQHJldHVybnMge1RhYmxlfSBUaGlzLlxuICAgKi9cbiAgd2l0aE9wdGlvbnMob3B0aW9ucykge1xuICAgIGlmICghVXRpbHMuaXNEZWZpbmVkKG9wdGlvbnMpKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBmb3IgKGxldCBvcHRpb24gaW4gb3B0aW9ucykge1xuICAgICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIFByaXZhdGUgbWV0aG9kc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBhc2NlbmRpbmcgYW5kIGRlc2NlbmRpbmcgc29ydCBjbGFzc2VzIG9uIGV2ZXJ5IGNvbHVtbiBleGNlcHQgdGhlIGN1cnJlbnQgY29sdW1uIGJlaW5nIHNvcnRlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9jbGVhclNvcnRJbmRpY2F0b3JzKCkge1xuICAgIHRoaXMudGhlYWQucXVlcnkoJ3RoJykuZWFjaCgoZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgaWYgKGVsZW1lbnQuZG9tRWxlbWVudCAhPT0gdGhpcy5jb2x1bW4uZG9tRWxlbWVudCkge1xuICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCdzb3J0LXVwIHNvcnQtZG93bicpO1xuICAgICAgfVxuICAgIH0pLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNvcnQgZnVuY3Rpb24gdG8gYmUgdXNlZCBieSB0aGUgLnNvcnQoKSBtZXRob2QuXG4gICAqIEBwYXJhbSBhIFRoZSBmaXJzdCByb3cgdG8gY29tcGFyZVxuICAgKiBAcGFyYW0gYiBUaGUgc2Vjb25kIHJvdyB0byBjb21wYXJlXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfY29tcGFyYXRvcihhLCBiKSB7XG4gICAgY29uc3Qgc29ydFR5cGUgPSB0aGlzLnRoZWFkLnF1ZXJ5KCd0aCcpW3RoaXMuY29sdW1uSW5kZXhdLmdldERhdGFBdHRyaWJ1dGUoJ3NvcnRUeXBlJykgfHwgJ3N0cmluZyc7XG4gICAgaWYgKHNvcnRUeXBlICE9PSAnc3RyaW5nJyAmJiBzb3J0VHlwZSAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgc29ydCB0eXBlLiBbc3RyaW5nXSBvciBbbnVtYmVyXSBhcmUgdGhlIHR3byBzdXBwb3J0ZWQgc29ydCB0eXBlcy4nKTtcbiAgICB9XG5cbiAgICBjb25zdCBjZWxsMSA9IGEucXVlcnkoJ3RkJylbdGhpcy5jb2x1bW5JbmRleF07XG4gICAgY29uc3QgY2VsbDIgPSBiLnF1ZXJ5KCd0ZCcpW3RoaXMuY29sdW1uSW5kZXhdO1xuXG4gICAgY29uc3Qgc29ydFZhbHVlMSA9IGNlbGwxLmdldERhdGFBdHRyaWJ1dGUoJ3NvcnRWYWx1ZScpO1xuICAgIGNvbnN0IHNvcnRWYWx1ZTIgPSBjZWxsMi5nZXREYXRhQXR0cmlidXRlKCdzb3J0VmFsdWUnKTtcblxuICAgIC8vIFByZWZlciB0aGUgZGF0YS1zb3J0LXZhbHVlIGlmIHByb3ZpZGVkXG4gICAgbGV0IHZhbHVlMSA9IHNvcnRWYWx1ZTEgfHwgY2VsbDEuZ2V0VGV4dENvbnRlbnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgIGxldCB2YWx1ZTIgPSBzb3J0VmFsdWUyIHx8IGNlbGwyLmdldFRleHRDb250ZW50KCkudG9Mb3dlckNhc2UoKTtcblxuICAgIGlmIChzb3J0VHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiB2YWx1ZTEubG9jYWxlQ29tcGFyZSh2YWx1ZTIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWx1ZTEgPSB0aGlzLl90b051bWJlcih2YWx1ZTEpO1xuICAgICAgdmFsdWUyID0gdGhpcy5fdG9OdW1iZXIodmFsdWUyKTtcblxuICAgICAgaWYgKHZhbHVlMSA8IHZhbHVlMikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG5cbiAgICAgIGlmICh2YWx1ZTEgPiB2YWx1ZTIpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgfVxuXG4gIC8vIG5vaW5zcGVjdGlvbiBKU01ldGhvZENhbkJlU3RhdGljXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNvbHVtbiBpbmRleCB3aGVyZSAwIGlzIHRoZSBmaXJzdCBjb2x1bW4gaW4gdGhlIHRhYmxlLlxuICAgKiBAcGFyYW0gY29sdW1uIHtQcmltZUVsZW1lbnR9IHRoZSBjb2x1bW4gdG8gZGV0ZXJtaW5lIHRoZSBpbmRleCBvZlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBhIHBvc2l0aXZlIGludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBpbmRleCBvZiB0aGUgY29sdW1uIGluIHRoZSB0YWJsZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9nZXRDb2x1bW5JbmRleChjb2x1bW4pIHtcbiAgICBsZXQgY29sdW1uSW5kZXggPSAwO1xuICAgIGxldCBjdXJyZW50ID0gY29sdW1uO1xuICAgIGxldCBwcmV2aW91cyA9IGNvbHVtbjtcbiAgICB3aGlsZSAocHJldmlvdXMgIT09IG51bGwpIHtcbiAgICAgIHByZXZpb3VzID0gY3VycmVudC5nZXRQcmV2aW91c1NpYmxpbmcoKTtcbiAgICAgIGN1cnJlbnQgPSBwcmV2aW91cztcbiAgICAgIGNvbHVtbkluZGV4Kys7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbHVtbkluZGV4IC0gMTtcbiAgfVxuXG4gIF9oYW5kbGVDaGVja2JveEV2ZW50KGV2ZW50KSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gbmV3IFByaW1lRWxlbWVudChldmVudC5jdXJyZW50VGFyZ2V0KTtcbiAgICBjb25zdCBjdXJyZW50Q2hlY2tlZENvdW50ID0gdGhpcy5jaGVja2VkQ291bnQ7XG4gICAgdGhpcy5jaGVja2VkQ291bnQgPSB0aGlzLmNoZWNrZWRDb3VudCArICh0YXJnZXQuaXNDaGVja2VkKCkgPyAxIDogLTEpO1xuXG4gICAgaWYgKHRoaXMuc2VsZWN0QWxsICE9PSBudWxsKSB7XG4gICAgICBpZiAoY3VycmVudENoZWNrZWRDb3VudCA9PT0gdGhpcy5udW1iZXJvZkNoZWNrYm94ZXMgJiYgdGhpcy5udW1iZXJvZkNoZWNrYm94ZXMgIT09IHRoaXMuY2hlY2tlZENvdW50KSB7XG4gICAgICAgIHRoaXMuc2VsZWN0QWxsLnNldENoZWNrZWQoZmFsc2UpO1xuICAgICAgfSBlbHNlIGlmIChjdXJyZW50Q2hlY2tlZENvdW50ICE9PSB0aGlzLm51bWJlcm9mQ2hlY2tib3hlcyAmJiB0aGlzLm51bWJlcm9mQ2hlY2tib3hlcyA9PT0gdGhpcy5jaGVja2VkQ291bnQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RBbGwuc2V0Q2hlY2tlZCh0cnVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmNoZWNrRXZlbnRDYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5vcHRpb25zLmNoZWNrRXZlbnRDYWxsYmFjayh7XG4gICAgICAgIGNoZWNrZWRDb3VudDogdGhpcy5jaGVja2VkQ291bnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVTZWxlY3RBbGxDaGFuZ2UoKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0QWxsLmlzQ2hlY2tlZCgpKSB7XG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnkoJ3Rib2R5IHRyID4gdGQgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykuZWFjaChmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmICghZS5pc0NoZWNrZWQoKSkge1xuICAgICAgICAgIGUuc2V0Q2hlY2tlZCh0cnVlKTtcbiAgICAgICAgICB0aGlzLmNoZWNrZWRDb3VudCsrO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnQucXVlcnkoJ3Rib2R5IHRyID4gdGQgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykuZWFjaChmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmlzQ2hlY2tlZCgpKSB7XG4gICAgICAgICAgZS5zZXRDaGVja2VkKGZhbHNlKTtcbiAgICAgICAgICB0aGlzLmNoZWNrZWRDb3VudC0tO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY2hlY2tFdmVudENhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuY2hlY2tFdmVudENhbGxiYWNrKHtcbiAgICAgICAgY2hlY2tlZENvdW50OiB0aGlzLmNoZWNrZWRDb3VudFxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUgY2xpY2sgZXZlbnQgb24gdGhlIHNvcnRhYmxlIGNvbHVtbi5cbiAgICogQHBhcmFtIGV2ZW50IHtNb3VzZUV2ZW50fSB0aGUgY2xpY2sgZXZlbnRcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVTb3J0YWJsZUNvbHVtbkNsaWNrKGV2ZW50KSB7XG4gICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICBjb25zdCB0YXJnZXQgPSBuZXcgUHJpbWVFbGVtZW50KGV2ZW50LmN1cnJlbnRUYXJnZXQpO1xuICAgIHRoaXMuY29sdW1uID0gdGFyZ2V0O1xuICAgIHRoaXMuY29sdW1uSW5kZXggPSB0aGlzLl9nZXRDb2x1bW5JbmRleCh0YXJnZXQpO1xuXG4gICAgdGhpcy5zb3J0KCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBjbGljayBldmVudCBsaXN0ZW5lciB0byB0aGUgY29sdW1uIHVubGVzcyBpdCBtYXRjaGVzIHRoZSBpZ25vcmUgc2VsZWN0b3IuXG4gICAqIEBwYXJhbSBjb2x1bW4ge1ByaW1lRWxlbWVudH0gdGhlIGNvbHVtbiBlbGVtZW50IHRvIGluaXRpYWxpemUuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW5pdGlhbGl6ZUNvbHVtbihjb2x1bW4pIHtcbiAgICBpZiAoIWNvbHVtbi5pcygnW2RhdGEtc29ydGFibGU9XCJmYWxzZVwiXScpICYmIGNvbHVtbi5xdWVyeUZpcnN0KCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKSA9PT0gbnVsbCkge1xuICAgICAgY29sdW1uLmFkZENsYXNzKCdzb3J0YWJsZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlU29ydGFibGVDb2x1bW5DbGljayk7XG4gICAgfVxuICB9XG5cbiAgX2luaXRpYWxpemVTb3J0KCkge1xuICAgIHRoaXMudGhlYWQucXVlcnkoJ3RoJykuZWFjaCh0aGlzLl9pbml0aWFsaXplQ29sdW1uKTtcblxuICAgIGlmIChQcmltZVN0b3JhZ2Uuc3VwcG9ydGVkICYmIHRoaXMub3B0aW9ucy5sb2NhbFN0b3JhZ2VLZXkgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gUHJpbWVTdG9yYWdlLmdldFNlc3Npb25PYmplY3QodGhpcy5vcHRpb25zLmxvY2FsU3RvcmFnZUtleSk7XG4gICAgICBpZiAoc3RhdGUgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jb2x1bW5JbmRleCA9IHN0YXRlLmNvbHVtbkluZGV4O1xuICAgICAgICB0aGlzLnNvcnRBc2NlbmRpbmcgPSBzdGF0ZS5zb3J0QXNjZW5kaW5nO1xuXG4gICAgICAgIHRoaXMuY29sdW1uID0gdGhpcy50aGVhZC5xdWVyeSgndGgnKVt0aGlzLmNvbHVtbkluZGV4XTtcbiAgICAgICAgaWYgKHRoaXMuc29ydEFzY2VuZGluZykge1xuICAgICAgICAgIHRoaXMuY29sdW1uLmFkZENsYXNzKCdzb3J0LWRvd24nKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmNvbHVtbi5hZGRDbGFzcygnc29ydC11cCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3J0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgaW5pdGlhbCBvcHRpb25zIGZvciB0aGlzIHdpZGdldC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zZXRJbml0aWFsT3B0aW9ucygpIHtcbiAgICAvLyBEZWZhdWx0c1xuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIGxvY2FsU3RvcmFnZUtleTogbnVsbCxcbiAgICAgIGNoZWNrRXZlbnRDYWxsYmFjazogbnVsbFxuICAgIH07XG5cbiAgICBjb25zdCB1c2VyT3B0aW9ucyA9IFV0aWxzLmRhdGFTZXRUb09wdGlvbnModGhpcy5lbGVtZW50KTtcbiAgICBmb3IgKGxldCBvcHRpb24gaW4gdXNlck9wdGlvbnMpIHtcbiAgICAgIGlmICh1c2VyT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gdXNlck9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBub2luc3BlY3Rpb24gSlNNZXRob2RDYW5CZVN0YXRpY1xuICBfdG9OdW1iZXIodmFsdWUpIHtcbiAgICBjb25zdCBudW1iZXIgPSBOdW1iZXIodmFsdWUpO1xuICAgIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IobmV3IEVycm9yKCdFeHBlY3RlZCB2YWx1ZSBbJyArIHZhbHVlICsgJ10gdG8gYmUgYSBudW1iZXIuJykpO1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gbnVtYmVyO1xuICB9XG59XG5cbmV4cG9ydCB7VGFibGV9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDE4LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4uL1V0aWxzLmpzXCI7XG5pbXBvcnQge1ByaW1lRWxlbWVudH0gZnJvbSBcIi4uL0RvY3VtZW50L1ByaW1lRWxlbWVudC5qc1wiO1xuaW1wb3J0IHtQcmltZURvY3VtZW50fSBmcm9tIFwiLi4vUHJpbWVEb2N1bWVudC5qc1wiO1xuaW1wb3J0IHtQcmltZVN0b3JhZ2V9IGZyb20gXCIuLi9TdG9yYWdlLmpzXCI7XG5pbXBvcnQge1ByaW1lUmVxdWVzdH0gZnJvbSBcIi4uL1ByaW1lUmVxdWVzdC5qc1wiO1xuXG5jbGFzcyBUYWJzIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgVGFicyBvYmplY3QgZm9yIHRoZSBnaXZlbiB1bCBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBlbGVtZW50IFRoZSB1bCBlbGVtZW50IHRvIGJ1aWxkIHRoZSB0YWIgd2lkZ2V0IGZyb21cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50KSB7XG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcblxuICAgIHRoaXMuZWxlbWVudCA9IFByaW1lRWxlbWVudC53cmFwKGVsZW1lbnQpO1xuICAgIGlmICh0aGlzLmVsZW1lbnQuZ2V0VGFnTmFtZSgpLnRvTG93ZXJDYXNlKCkgPT09ICd1bCcpIHtcbiAgICAgIHRoaXMudGFic0NvbnRhaW5lciA9IHRoaXMuZWxlbWVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy50YWJzQ29udGFpbmVyID0gdGhpcy5lbGVtZW50LnF1ZXJ5Rmlyc3QoJ3VsJyk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGFic0NvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGFicyByZXF1aXJlcyBhIHVsIGVsZW1lbnQuIFRoZSBwYXNzZWQgZWxlbWVudCBkb2VzIG5vdCBjb250YWluIGEgdWwgZWxlbWVudCcpO1xuICAgIH1cblxuICAgIHRoaXMuX3NldEluaXRpYWxPcHRpb25zKCk7XG4gICAgdGhpcy50YWJDb250ZW50cyA9IHt9O1xuICAgIHRoaXMudGFicyA9IHt9O1xuICAgIHRoaXMudGFiQXJyYXkgPSBbXTtcbiAgICB0aGlzLnNlbGVjdGVkVGFiID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgVGFicyB3aWRnZXRcbiAgICovXG4gIGRlc3Ryb3koKSB7XG4gICAgdGhpcy50YWJzQ29udGFpbmVyLnF1ZXJ5KCdhJykuZWFjaChmdW5jdGlvbihhKSB7XG4gICAgICBhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5faGFuZGxlQ2xpY2spO1xuICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy50YWJzW2ldLnJlbW92ZUNsYXNzKHRoaXMub3B0aW9ucy50YWJDb250ZW50Q2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgdGFiIGZvciB0aGUgZ2l2ZW4gSWQuXG4gICAqXG4gICAqIEBwYXJhbSBpZCBUaGUgSWQgb2YgdGhlIHRhYiB0byBoaWRlLlxuICAgKi9cbiAgaGlkZVRhYihpZCkge1xuICAgIGNvbnN0IHRhYiA9IHRoaXMudGFic1tpZF07XG4gICAgdGFiLmhpZGUoKTtcbiAgICB0aGlzLnJlZHJhdygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBUYWJzIHdpZGdldC4gQ2FsbCB0aGlzIGFmdGVyIHlvdSBoYXZlIHNldCBhbGwgdGhlIGluaXRpYWwgb3B0aW9ucy5cbiAgICpcbiAgICogQHJldHVybnMge1RhYnN9IFRoaXMuXG4gICAqL1xuICBpbml0aWFsaXplKCkge1xuICAgIHRoaXMudGFic0NvbnRhaW5lci5xdWVyeSgnbGk6bm90KC5kaXNhYmxlZCknKS5lYWNoKGZ1bmN0aW9uKHRhYikge1xuICAgICAgY29uc3QgYSA9IHRhYi5xdWVyeUZpcnN0KCdhJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVDbGljayk7XG4gICAgICBjb25zdCBkYXRhU2V0ID0gdGFiLmdldERhdGFTZXQoKTtcblxuICAgICAgY29uc3QgaHJlZiA9IGEuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICBjb25zdCBpc0FuY2hvciA9IGhyZWYuY2hhckF0KDApID09PSAnIyc7XG4gICAgICBpZiAoaXNBbmNob3IpIHtcbiAgICAgICAgZGF0YVNldC50YWJJZCA9IGhyZWYuc3Vic3RyaW5nKDEpO1xuICAgICAgICBkYXRhU2V0LnRhYlVybCA9ICcnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0YVNldC50YWJJZCA9IGhyZWY7XG4gICAgICAgIGRhdGFTZXQudGFiVXJsID0gaHJlZjtcbiAgICAgIH1cblxuICAgICAgdGhpcy50YWJzW2RhdGFTZXQudGFiSWRdID0gdGFiO1xuICAgICAgdGhpcy50YWJBcnJheS5wdXNoKHRhYik7XG5cbiAgICAgIGxldCBjb250ZW50ID0gUHJpbWVEb2N1bWVudC5xdWVyeUJ5SWQoZGF0YVNldC50YWJJZCk7XG4gICAgICBpZiAoY29udGVudCA9PT0gbnVsbCAmJiBpc0FuY2hvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgZGl2IGlzIHJlcXVpcmVkIHdpdGggdGhlIGZvbGxvd2luZyBJRCBbJyArIGRhdGFTZXQudGFiSWQgKyAnXScpO1xuICAgICAgfSBlbHNlIGlmIChjb250ZW50ID09PSBudWxsKSB7XG4gICAgICAgIGNvbnRlbnQgPSBQcmltZURvY3VtZW50Lm5ld0VsZW1lbnQoJzxkaXY+JykuaW5zZXJ0QWZ0ZXIodGhpcy5lbGVtZW50KS5zZXRBdHRyaWJ1dGUoJ2lkJywgaHJlZik7XG4gICAgICB9XG5cbiAgICAgIGNvbnRlbnQuaGlkZSgpO1xuXG4gICAgICBjb250ZW50LmFkZENsYXNzKHRoaXMub3B0aW9ucy50YWJDb250ZW50Q2xhc3MpO1xuICAgICAgdGhpcy50YWJDb250ZW50c1tkYXRhU2V0LnRhYklkXSA9IGNvbnRlbnQ7XG4gICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuZGVlcExpbmtpbmdFbmFibGVkKSB7XG4gICAgICBjb25zdCB0YWJJZCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jLywgJycpO1xuICAgICAgaWYgKFV0aWxzLmlzRGVmaW5lZCh0YWJJZCkgJiYgVXRpbHMuaXNEZWZpbmVkKHRoaXMudGFic1t0YWJJZF0pKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0VGFiKHRhYklkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnJlZHJhdygpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlLWFwcGxpZXMgdGhlIGZpcnN0LWNoaWxkLCBsYXN0LWNoaWxkLCBhbmQgYWN0aXZlIGNsYXNzZXMgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHRhYnMuIElmIHRoZXJlXG4gICAqIGlzIG5vIHRhYiB0aGF0IGlzIGFjdGl2ZSwgdGhpcyBhbHNvIHNlbGVjdHMgdGhlIGZpcnN0IHRhYiB0aGF0IGlzIHZpc2libGUuXG4gICAqL1xuICByZWRyYXcoKSB7XG4gICAgbGV0IGZpcnN0VmlzaWJsZSA9IG51bGw7XG4gICAgbGV0IGxhc3RWaXNpYmxlID0gbnVsbDtcbiAgICBsZXQgc2VsZWN0TmV3ID0gZmFsc2U7XG4gICAgbGV0IG5vbmVBY3RpdmUgPSB0cnVlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHRoaXMudGFiQXJyYXlbaV0uaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgaWYgKGZpcnN0VmlzaWJsZSA9PT0gbnVsbCkge1xuICAgICAgICAgIGZpcnN0VmlzaWJsZSA9IHRoaXMudGFiQXJyYXlbaV07XG4gICAgICAgIH1cblxuICAgICAgICBsYXN0VmlzaWJsZSA9IHRoaXMudGFiQXJyYXlbaV07XG5cbiAgICAgICAgaWYgKHRoaXMudGFiQXJyYXlbaV0uaGFzQ2xhc3MoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgICBub25lQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJBcnJheVtpXS5oYXNDbGFzcygnc2VsZWN0ZWQnKSkge1xuICAgICAgICBzZWxlY3ROZXcgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnRhYkFycmF5W2ldLnJlbW92ZUNsYXNzKCdmaXJzdC12aXNpYmxlLXRhYicpO1xuICAgICAgdGhpcy50YWJBcnJheVtpXS5yZW1vdmVDbGFzcygnbGFzdC12aXNpYmxlLXRhYicpO1xuICAgIH1cblxuICAgIGZpcnN0VmlzaWJsZS5hZGRDbGFzcygnZmlyc3QtdmlzaWJsZS10YWInKTtcbiAgICBsYXN0VmlzaWJsZS5hZGRDbGFzcygnbGFzdC12aXNpYmxlLXRhYicpO1xuXG4gICAgbGV0IHRhYklkID0gbnVsbDtcbiAgICBpZiAoc2VsZWN0TmV3IHx8IG5vbmVBY3RpdmUpIHtcbiAgICAgIGlmIChQcmltZVN0b3JhZ2Uuc3VwcG9ydGVkICYmIHRoaXMub3B0aW9ucy5sb2NhbFN0b3JhZ2VLZXkgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBQcmltZVN0b3JhZ2UuZ2V0U2Vzc2lvbk9iamVjdCh0aGlzLm9wdGlvbnMubG9jYWxTdG9yYWdlS2V5KTtcbiAgICAgICAgaWYgKHN0YXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgdGFiSWQgPSBzdGF0ZS50YWJJZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBJZiBubyB0YWJJZCB3YXMgZm91bmQgb3IgdGhlIHRhYiBpcyBub3QgY3VycmVudGx5IHZpc2libGUsIHNlbGVjdCB0aGUgZmlyc3QgdmlzaWJsZVxuICAgICAgaWYgKHRhYklkID09PSBudWxsIHx8ICF0aGlzLnRhYnNbdGFiSWRdIHx8ICF0aGlzLnRhYnNbdGFiSWRdLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgIHRhYklkID0gZmlyc3RWaXNpYmxlLmdldERhdGFTZXQoKS50YWJJZDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5zZWxlY3RUYWIodGFiSWQpO1xuICAgIH1cblxuICAgIC8vIElmIGVycm9yIGNsYXNzIGhhbmRsaW5nIHdhcyBlbmFibGVkLCBhZGQgdGhlIGVycm9yIGNsYXNzIHRvIHRoZSB0YWIgYW5kIHNldCBmb2N1c1xuICAgIGlmICh0aGlzLm9wdGlvbnMuZXJyb3JDbGFzcykge1xuICAgICAgZm9yICh0YWJJZCBpbiB0aGlzLnRhYkNvbnRlbnRzKSB7XG4gICAgICAgIGlmICh0aGlzLnRhYkNvbnRlbnRzLmhhc093blByb3BlcnR5KHRhYklkKSkge1xuICAgICAgICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMudGFiQ29udGVudHNbdGFiSWRdLnF1ZXJ5Rmlyc3QoJy4nICsgdGhpcy5vcHRpb25zLmVycm9yQ2xhc3MpO1xuICAgICAgICAgIGlmIChlcnJvckVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGFic1t0YWJJZF0ucXVlcnlGaXJzdCgnYScpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5lcnJvckNsYXNzKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0VGFiKHRhYklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IHRoZSBhY3RpdmUgdGFiLiBTZXRzIHRoZSBhY3RpdmUgY2xhc3Mgb24gdGhlIGxpIGFuZCBzaG93cyBvbmx5IHRoZSBjb3JyZXNwb25kaW5nIHRhYiBjb250ZW50LlxuICAgKlxuICAgKiBAcGFyYW0gaWQgVGhlIElkIG9mIHRoZSB0YWIgdG8gc2VsZWN0LlxuICAgKi9cbiAgc2VsZWN0VGFiKGlkKSB7XG4gICAgaWYgKHRoaXMuc2VsZWN0ZWRUYWIgIT09IG51bGwgJiYgdGhpcy5zZWxlY3RlZFRhYi5nZXREYXRhU2V0KCkudGFiSWQgPT09IGlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCB0YWJJZCBpbiB0aGlzLnRhYnMpIHtcbiAgICAgIGlmICh0aGlzLnRhYnMuaGFzT3duUHJvcGVydHkodGFiSWQpKSB7XG4gICAgICAgIHRoaXMudGFic1t0YWJJZF0ucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50YWJzW2lkXS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICB0aGlzLnNlbGVjdGVkVGFiID0gdGhpcy50YWJzW2lkXTtcbiAgICBmb3IgKGNvbnN0IHRhYklkIGluIHRoaXMudGFiQ29udGVudHMpIHtcbiAgICAgIGlmICh0aGlzLnRhYkNvbnRlbnRzLmhhc093blByb3BlcnR5KHRhYklkKSAmJiB0YWJJZCA9PT0gaWQpIHtcbiAgICAgICAgdGhpcy50YWJDb250ZW50c1t0YWJJZF0uc2hvdygnYmxvY2snKTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZWxlY3RDYWxsYmFjaykge1xuICAgICAgICAgIHRoaXMub3B0aW9ucy5zZWxlY3RDYWxsYmFjayh0aGlzLnRhYnNbdGFiSWRdLCB0aGlzLnRhYkNvbnRlbnRzW3RhYklkXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudGFiQ29udGVudHNbdGFiSWRdLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBTYXZlIGN1cnJlbnQgc2VsZWN0ZWQgdGFiIHN0YXRlIGluIGxvY2FsIHN0b3JhZ2UuIFRoZSBKU09OIG9iamVjdCBpc24ndCBuZWNlc3NhcnkgYXQgdGhlIG1vbWVudCxcbiAgICAvLyBidXQgd2UgY2FuIHRhY2sgb24gb3RoZXIgcHJvcGVydGllcyBhcyBuZWVkZWQgZm9yIGFkZGl0aW9uYWwgc3RhdGUgaW4gdGhlIGZ1dHVyZS5cbiAgICBpZiAoUHJpbWVTdG9yYWdlLnN1cHBvcnRlZCAmJiB0aGlzLm9wdGlvbnMubG9jYWxTdG9yYWdlS2V5ICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICB0YWJJZDogaWRcbiAgICAgIH07XG4gICAgICBQcmltZVN0b3JhZ2Uuc2V0U2Vzc2lvbk9iamVjdCh0aGlzLm9wdGlvbnMubG9jYWxTdG9yYWdlS2V5LCBkYXRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBhamF4VVJMID0gdGhpcy5zZWxlY3RlZFRhYi5nZXREYXRhU2V0KCkudGFiVXJsO1xuICAgIGlmIChhamF4VVJMICE9PSAnJykge1xuICAgICAgdGhpcy5zZWxlY3RlZFRhYi5hZGRDbGFzcygnbG9hZGluZycpO1xuICAgICAgdGhpcy50YWJDb250ZW50c1tpZF0uc2V0SFRNTCgnJyk7XG4gICAgICB0aGlzLnRhYkNvbnRlbnRzW2lkXS5hZGRDbGFzcygnbG9hZGluZycpO1xuICAgICAgbmV3IFByaW1lUmVxdWVzdChhamF4VVJMLCAnR0VUJylcbiAgICAgICAgICAud2l0aFN1Y2Nlc3NIYW5kbGVyKHRoaXMuX2hhbmRsZUFKQVhSZXNwb25zZSlcbiAgICAgICAgICAud2l0aEVycm9ySGFuZGxlcih0aGlzLl9oYW5kbGVBSkFYUmVzcG9uc2UpXG4gICAgICAgICAgLmdvKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIHRoZSB0YWIgZm9yIHRoZSBnaXZlbiBJZC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIFRoZSBJZCBvZiB0aGUgdGFiIHRvIGhpZGUuXG4gICAqL1xuICBzaG93VGFiKGlkKSB7XG4gICAgdGhpcy50YWJzW2lkXS5zaG93KCk7XG4gICAgdGhpcy5yZWRyYXcoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGRzIGEgY2FsbGJhY2sgZm9yIEFKQVggY2FsbHMuIFRoaXMgaXMgaW52b2tlZCBhZnRlciB0aGUgQUpBWCBsb2FkIGNvbXBsZXRlcyBhbmQgdGhlIEhUTUwgaXMgaW5zZXJ0ZWQgaW50byB0aGVcbiAgICogRE9NLiBUaGUgZnVuY3Rpb24gaXMgcGFzc2VkIHRoZSBjb250YWluZXIgZm9yIHRoZSB0YWIgdGhhdCB3YXMgc2VsZWN0ZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICogQHJldHVybnMge1RhYnN9IFRoaXMgVGFicy5cbiAgICovXG4gIHdpdGhBSkFYQ2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICB0aGlzLm9wdGlvbnMuYWpheENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRGlzYWJsZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiBhbGxvd2luZyBhIGRlZXAgbGluayBwcm92aWRlZCBvbiB0aGUgVVJMIHRvIHNldCB0aGUgZGVmYXVsdCB0YWIgZHVyaW5nIHJlbmRlci5cbiAgICpcbiAgICogQHJldHVybnMge1RhYnN9IFRoaXMgVGFicy5cbiAgICovXG4gIHdpdGhEZWVwTGlua2luZ0Rpc2FibGVkKCkge1xuICAgIHRoaXMub3B0aW9ucy5kZWVwTGlua2luZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbmFibGUgZXJyb3IgY2xhc3MgaGFuZGxpbmcuIFdoZW4gdGhpcyBvcHRpb24gaXMgdXNlZCwgaWYgdGhlIHNwZWNpZmllZCBlcnJvciBjbGFzcyBpcyBmb3VuZCBvbiBhbnkgZWxlbWVudFxuICAgKiBpbiB0aGUgdGFiIGNvbnRlbnQgdGhlIHNhbWUgZXJyb3IgY2xhc3Mgd2lsbCBiZSBhZGRlZCB0byB0aGUgdGFiIHRvIGlkZW50aWZ5IHRoZSB0YWIgY29udGFpbnMgZXJyb3JzLlxuICAgKlxuICAgKiBAcmV0dXJucyB7VGFic30gVGhpcyBUYWJzLlxuICAgKi9cbiAgd2l0aEVycm9yQ2xhc3NIYW5kbGluZyhlcnJvckNsYXNzKSB7XG4gICAgdGhpcy5vcHRpb25zLmVycm9yQ2xhc3MgPSBlcnJvckNsYXNzO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgbG9jYWwgc3RvcmFnZSBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHRhYi4gSWYgdGhlIHVzZXIgbmF2aWdhdGVzIGF3YXkgZnJvbSB0aGUgcGFnZSBhbmQgYmFjaywgdGhlIHNhbWVcbiAgICogdGFiIHdpbGwgYmUgc2VsZWN0ZWQuIFRoaXMga2V5IGlzIGhvdyB0aGUgc2VsZWN0ZWQgdGFiIGlzIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIGFuZCBieSBzZXR0aW5nIGEga2V5IHlvdSBhbHNvXG4gICAqIGVuYWJsZSB0aGlzIGZlYXR1cmUuXG4gICAqXG4gICAqIEBwYXJhbSB7P1N0cmluZ30ga2V5IFRoZSBsb2NhbCBzdG9yYWdlIGtleS5cbiAgICogQHJldHVybnMge1RhYnN9IFRoaXMgVGFicy5cbiAgICovXG4gIHdpdGhMb2NhbFN0b3JhZ2VLZXkoa2V5KSB7XG4gICAgdGhpcy5vcHRpb25zLmxvY2FsU3RvcmFnZUtleSA9IGtleTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbW9yZSB0aGFuIG9uZSBvcHRpb24gYXQgYSB0aW1lIGJ5IHByb3ZpZGluZyBhIG1hcCBvZiBrZXkgdmFsdWUgcGFpcnMuIFRoaXMgaXMgY29uc2lkZXJlZCBhbiBhZHZhbmNlZFxuICAgKiBtZXRob2QgdG8gc2V0IG9wdGlvbnMgb24gdGhlIHdpZGdldC4gVGhlIGNhbGxlciBuZWVkcyB0byBrbm93IHdoYXQgcHJvcGVydGllcyBhcmUgdmFsaWQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBLZXkgdmFsdWUgcGFpciBvZiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtUYWJzfSBUaGlzIFRhYnMuXG4gICAqL1xuICB3aXRoT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAobGV0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTcGVjaWZpZXMgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCB3aGVuZXZlciB0YWJzIGFyZSBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0gez9GdW5jdGlvbn0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJucyB7VGFic30gVGhpcyBUYWJzLlxuICAgKi9cbiAgd2l0aFNlbGVjdENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vcHRpb25zLnNlbGVjdENhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2xhc3MgbmFtZSBmb3IgdGhlIHRhYiBjb250ZW50IGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIHtTdHJpbmd9IFRoZSBjbGFzcyBuYW1lLlxuICAgKiBAcmV0dXJucyB7VGFic31cbiAgICovXG4gIHdpdGhUYWJDb250ZW50Q2xhc3MoY2xhc3NOYW1lKSB7XG4gICAgdGhpcy5vcHRpb25zLnRhYkNvbnRlbnRDbGFzcyA9IGNsYXNzTmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBBSkFYIHJlc3BvbnNlLlxuICAgKlxuICAgKiBAcGFyYW0ge1hNTEh0dHBSZXF1ZXN0fSB4aHIgVGhlIEFKQVggcmVzcG9uc2UuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaGFuZGxlQUpBWFJlc3BvbnNlKHhocikge1xuICAgIHRoaXMuc2VsZWN0ZWRUYWIucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcbiAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLnRhYkNvbnRlbnRzW3RoaXMuc2VsZWN0ZWRUYWIuZ2V0RGF0YVNldCgpLnRhYklkXTtcbiAgICBjb250YWluZXIucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcbiAgICBjb250YWluZXIuc2V0SFRNTCh4aHIucmVzcG9uc2VUZXh0KTtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuYWpheENhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICB0aGlzLm9wdGlvbnMuYWpheENhbGxiYWNrKGNvbnRhaW5lcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSB0aGUgdGFiIGNsaWNrIGJ5IHNob3dpbmcgdGhlIGNvcnJlc3BvbmRpbmcgcGFuZWwgYW5kIGhpZGluZyB0aGUgb3RoZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50IFRoZSBjbGljayBldmVudCBvbiB0aGUgYW5jaG9yIHRhZy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9oYW5kbGVDbGljayhldmVudCkge1xuICAgIFV0aWxzLnN0b3BFdmVudChldmVudCk7XG4gICAgY29uc3QgYSA9IG5ldyBQcmltZUVsZW1lbnQoZXZlbnQuY3VycmVudFRhcmdldCk7XG4gICAgaWYgKCFhLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XG4gICAgICBjb25zdCBocmVmID0gYS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgIGlmIChocmVmLmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0VGFiKGhyZWYuc3Vic3RyaW5nKDEpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2VsZWN0VGFiKGhyZWYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGluaXRpYWwgb3B0aW9ucyBmb3IgdGhpcyB3aWRnZXQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc2V0SW5pdGlhbE9wdGlvbnMoKSB7XG4gICAgLy8gRGVmYXVsdHNcbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBhamF4Q2FsbGJhY2s6IG51bGwsXG4gICAgICBlcnJvckNsYXNzOiBudWxsLFxuICAgICAgZGVlcExpbmtpbmdFbmFibGVkOiB0cnVlLFxuICAgICAgbG9jYWxTdG9yYWdlS2V5OiBudWxsLFxuICAgICAgc2VsZWN0Q2FsbGJhY2s6IG51bGwsXG4gICAgICB0YWJDb250ZW50Q2xhc3M6ICdwcmltZS10YWItY29udGVudCdcbiAgICB9O1xuXG4gICAgY29uc3QgdXNlck9wdGlvbnMgPSBVdGlscy5kYXRhU2V0VG9PcHRpb25zKHRoaXMuZWxlbWVudCk7XG4gICAgZm9yIChsZXQgb3B0aW9uIGluIHVzZXJPcHRpb25zKSB7XG4gICAgICBpZiAodXNlck9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IHVzZXJPcHRpb25zW29wdGlvbl07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7VGFic307XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LTIwMTgsIEludmVyc29mdCBJbmMuLCBBbGwgUmlnaHRzIFJlc2VydmVkXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsXG4gKiBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpY1xuICogbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQge1ByaW1lRG9jdW1lbnR9IGZyb20gXCIuLi9QcmltZURvY3VtZW50LmpzXCI7XG5pbXBvcnQge1ByaW1lRWxlbWVudH0gZnJvbSBcIi4uL0RvY3VtZW50L1ByaW1lRWxlbWVudC5qc1wiO1xuaW1wb3J0IHtQcmltZVdpbmRvd30gZnJvbSBcIi4uL1dpbmRvdy5qc1wiO1xuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4uL1V0aWxzLmpzXCI7XG5cbmNvbnN0IG9wZW4gPSBbXTtcblxuY2xhc3MgVG9vbHRpcCB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFRvb2x0aXAgb2JqZWN0IGZvciB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR8RWxlbWVudHxFdmVudFRhcmdldH0gZWxlbWVudCBUaGUgUHJpbWUgRWxlbWVudCBmb3IgdGhlIFRvb2x0aXAgd2lkZ2V0LlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVFbGVtZW50LndyYXAoZWxlbWVudCk7XG4gICAgdGhpcy5fc2V0SW5pdGlhbE9wdGlvbnMoKTtcbiAgfVxuXG4gIHN0YXRpYyBnZXQgb3BlbigpIHtcbiAgICByZXR1cm4gb3BlbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgdG9vbHRpcC5cbiAgICpcbiAgICogQHJldHVybnMge1Rvb2x0aXB9IFRoaXMuXG4gICAqL1xuICBoaWRlKCkge1xuICAgIGlmIChUb29sdGlwLm9wZW4ubGVuZ3RoID4gMCkge1xuICAgICAgVG9vbHRpcC5vcGVuLmZvckVhY2goZnVuY3Rpb24odCkge1xuICAgICAgICB0LnJlbW92ZUZyb21ET00oKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgd2lkZ2V0IGJ5IGF0dGFjaGluZyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEByZXR1cm5zIHtUb29sdGlwfSBUaGlzLlxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIHRoaXMuX2hhbmRsZU1vdXNlRW50ZXIpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLl9oYW5kbGVNb3VzZUxlYXZlKTtcbiAgICBQcmltZURvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuX2hhbmRsZU1vdXNlTGVhdmUpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNob3dzIHRoZSB0b29sdGlwLlxuICAgKlxuICAgKiBAcmV0dXJucyB7VG9vbHRpcH0gVGhpcy5cbiAgICovXG4gIHNob3coKSB7XG4gICAgY29uc3QgdGV4dCA9IHRoaXMuZWxlbWVudC5nZXREYXRhU2V0KClbdGhpcy5vcHRpb25zLmRhdGFOYW1lXSB8fCB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0aXRsZScpO1xuICAgIGNvbnN0IHpJbmRleCA9IHRoaXMuZWxlbWVudC5nZXRSZWxhdGl2ZVpJbmRleCgpO1xuICAgIGxldCBjbGFzc05hbWVzID0gdGhpcy5vcHRpb25zLmNsYXNzTmFtZSArICcgJyArIHRoaXMuZWxlbWVudC5nZXRUYWdOYW1lKCkudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpZiAodGhpcy5vcHRpb25zLmFkZGl0aW9uYWxDbGFzc2VzICE9PSBudWxsKSB7XG4gICAgICBjbGFzc05hbWVzID0gY2xhc3NOYW1lcyArICcgJyArIHRoaXMub3B0aW9ucy5hZGRpdGlvbmFsQ2xhc3Nlc1xuICAgIH1cbiAgICBjb25zdCB0b29sdGlwID0gUHJpbWVEb2N1bWVudC5uZXdFbGVtZW50KCc8c3Bhbj4nKVxuICAgICAgICAuYXBwZW5kVG8oUHJpbWVEb2N1bWVudC5ib2R5RWxlbWVudClcbiAgICAgICAgLmFkZENsYXNzKGNsYXNzTmFtZXMpXG4gICAgICAgIC5zZXRIVE1MKHRleHQpXG4gICAgICAgIC5zZXRTdHlsZSgnekluZGV4JywgekluZGV4ICsgMTApO1xuXG4gICAgY29uc3QgbGVmdCA9IHRoaXMuZWxlbWVudC5nZXRMZWZ0KCk7XG4gICAgY29uc3QgdG9wID0gdGhpcy5lbGVtZW50LmdldFRvcCgpO1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5lbGVtZW50LmdldFdpZHRoKCk7XG4gICAgY29uc3QgdG9vbHRpcFdpZHRoID0gdG9vbHRpcC5nZXRXaWR0aCgpO1xuICAgIGNvbnN0IHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLmdldEhlaWdodCgpO1xuXG4gICAgdG9vbHRpcC5zZXRMZWZ0KGxlZnQgLSAodG9vbHRpcFdpZHRoIC8gMikgKyAod2lkdGggLyAyKSk7XG4gICAgdG9vbHRpcC5zZXRUb3AodG9wIC0gdG9vbHRpcEhlaWdodCAtIDgpO1xuXG4gICAgLy8gSWYgdGhlIHRvb2x0aXAgaXMgdG9vIGNsb3NlIHRvIHRoZSB0b3Agb2YgdGhlIHNjcmVlbiBpbnZlcnQgaXQgYW5kIG1vdmUgaXQgdW5kZXIgdGhlIGVsZW1lbnRcbiAgICBpZiAoKHRvcCAtIHRvb2x0aXBIZWlnaHQgLSA4KSA8IDApIHtcbiAgICAgIHRvb2x0aXAuc2V0VG9wKHRvcCArIHRoaXMuZWxlbWVudC5nZXRIZWlnaHQoKSArIDgpLmFkZENsYXNzKCdpbnZlcnRlZCcpO1xuICAgIH1cblxuICAgIFRvb2x0aXAub3Blbi5wdXNoKHRvb2x0aXApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNsYXNzIG5hbWUgdG8gdXNlIHdoZW4gY3JlYXRpbmcgdGhlIHRvb2x0aXAuXG4gICAqXG4gICAqIEBwYXJhbSBhZGRpdGlvbmFsQ2xhc3NlcyB7P1N0cmluZ30gVGhlIGNsYXNzIG5hbWUgb3Igc3BhY2VzIHNlcGFyYXRlZCBuYW1lcy5cbiAgICogQHJldHVybnMge1Rvb2x0aXB9IFRoaXMuXG4gICAqL1xuICB3aXRoQWRkaXRpb25hbENsYXNzTmFtZXMoYWRkaXRpb25hbENsYXNzZXMpIHtcbiAgICB0aGlzLm9wdGlvbnMuYWRkaXRpb25hbENsYXNzZXMgPSBhZGRpdGlvbmFsQ2xhc3NlcztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjbGFzcyBuYW1lIHRvIHVzZSB3aGVuIGNyZWF0aW5nIHRoZSB0b29sdGlwLlxuICAgKlxuICAgKiBAcGFyYW0gY2xhc3NOYW1lIHtTdHJpbmd9IFRoZSBjbGFzcyBuYW1lLlxuICAgKiBAcmV0dXJucyB7VG9vbHRpcH0gVGhpcy5cbiAgICovXG4gIHdpdGhDbGFzc05hbWUoY2xhc3NOYW1lKSB7XG4gICAgdGhpcy5vcHRpb25zLmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZGF0YS1zZXQgbmFtZSB0byBwdWxsIHRoZSB0b29sdGlwIHRleHQgZnJvbS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGRhdGEtc2V0IG5hbWUuXG4gICAqIEByZXR1cm5zIHtUb29sdGlwfSBUaGlzLlxuICAgKi9cbiAgd2l0aERhdGFOYW1lKG5hbWUpIHtcbiAgICB0aGlzLm9wdGlvbnMuZGF0YU5hbWUgPSBuYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBtb3JlIHRoYW4gb25lIG9wdGlvbiBhdCBhIHRpbWUgYnkgcHJvdmlkaW5nIGEgbWFwIG9mIGtleSB2YWx1ZSBwYWlycy4gVGhpcyBpcyBjb25zaWRlcmVkIGFuIGFkdmFuY2VkXG4gICAqIG1ldGhvZCB0byBzZXQgb3B0aW9ucyBvbiB0aGUgd2lkZ2V0LiBUaGUgY2FsbGVyIG5lZWRzIHRvIGtub3cgd2hhdCBwcm9wZXJ0aWVzIGFyZSB2YWxpZCBpbiB0aGUgb3B0aW9ucyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIEtleSB2YWx1ZSBwYWlyIG9mIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cbiAgICogQHJldHVybnMge1Rvb2x0aXB9IFRoaXMuXG4gICAqL1xuICB3aXRoT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAobGV0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRoZSBtb3VzZSBlbnRlciBldmVudCB0byBzaG93IHRoZSB0b29sdGlwLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU1vdXNlRW50ZXIoKSB7XG4gICAgdGhpcy5zaG93KCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgbW91c2UgZXhpdCBldmVudCB0byBoaWRlIHRoZSB0b29sdGlwLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZU1vdXNlTGVhdmUoKSB7XG4gICAgdGhpcy5oaWRlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbml0aWFsIG9wdGlvbnMgZm9yIHRoaXMgd2lkZ2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEluaXRpYWxPcHRpb25zKCkge1xuICAgIC8vIERlZmF1bHRzXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgYWRkaXRpb25hbENsYXNzZXM6IG51bGwsXG4gICAgICBjbGFzc05hbWU6ICdwcmltZS10b29sdGlwJyxcbiAgICAgIGRhdGFOYW1lOiAndG9vbHRpcCdcbiAgICB9O1xuXG4gICAgY29uc3QgdXNlck9wdGlvbnMgPSBVdGlscy5kYXRhU2V0VG9PcHRpb25zKHRoaXMuZWxlbWVudCk7XG4gICAgZm9yIChsZXQgb3B0aW9uIGluIHVzZXJPcHRpb25zKSB7XG4gICAgICBpZiAodXNlck9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xuICAgICAgICB0aGlzLm9wdGlvbnNbb3B0aW9uXSA9IHVzZXJPcHRpb25zW29wdGlvbl07XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblByaW1lRG9jdW1lbnQub25SZWFkeShmdW5jdGlvbigpIHtcbiAgLy8gRml4IGJyb3dzZXIgaXNzdWVzIHdpdGggdG9vbHRpcHMgc3RpY2tpbmcgYXJvdW5kIG9uIGJhY2stYnV0dG9uIG5hdmlnYXRpb25cbiAgUHJpbWVXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKFRvb2x0aXAub3Blbi5sZW5ndGggPiAwKSB7XG4gICAgICBUb29sdGlwLm9wZW4uZm9yRWFjaChmdW5jdGlvbih0KSB7XG4gICAgICAgIHQucmVtb3ZlRnJvbURPTSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5leHBvcnQge1Rvb2x0aXB9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNi0yMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtQcmltZUVsZW1lbnR9IGZyb20gXCIuLi9Eb2N1bWVudC9QcmltZUVsZW1lbnQuanNcIjtcbmltcG9ydCB7VXRpbHN9IGZyb20gXCIuLi9VdGlscy5qc1wiO1xuXG5jbGFzcyBUcmVlVmlldyB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IFRyZWVWaWV3IG9iamVjdCBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR8RXZlbnRUYXJnZXR9IGVsZW1lbnQgVGhlIFByaW1lIEVsZW1lbnQgZm9yIHRoZSBUcmVlVmlldyB3aWRnZXQuXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIFV0aWxzLmJpbmRBbGwodGhpcyk7XG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVFbGVtZW50LndyYXAoZWxlbWVudCk7XG4gICAgdGhpcy5fc2V0SW5pdGlhbE9wdGlvbnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplcyB0aGUgZWxlbWVudCBieSB0cmF2ZXJzZSBpdHMgY2hpbGRyZW4gdG8gZmluZCBhbGwgb2YgdGhlIGFuY2hvciB0YWdzIHdpdGggdGhlIGZvbGRlci10b2dnbGUgY2xhc3MgKG9yXG4gICAqIHdoYXRldmVyIHlvdSBzZXQgdGhlIGNsYXNzIHRvKS5cbiAgICpcbiAgICogQHJldHVybnMge1RyZWVWaWV3fSBUaGlzLlxuICAgKi9cbiAgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmVsZW1lbnQucXVlcnkoJ2EuJyArIHRoaXMub3B0aW9ucy5mb2xkZXJUb2dnbGVDbGFzc05hbWUpLmVhY2goZnVuY3Rpb24oZSkge1xuICAgICAgZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hhbmRsZUNsaWNrKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZvbGRlciB0b2dnbGUgY2xhc3MgbmFtZS5cbiAgICpcbiAgICogQHBhcmFtIGNsYXNzTmFtZSB7U3RyaW5nfSBUaGUgY2xhc3MgbmFtZS5cbiAgICogQHJldHVybnMge1RyZWVWaWV3fSBUaGlzLlxuICAgKi9cbiAgd2l0aEZvbGRlclRvZ2dsZUNsYXNzTmFtZShjbGFzc05hbWUpIHtcbiAgICB0aGlzLm9wdGlvbnMuZm9sZGVyVG9nZ2xlQ2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICAgKiBQcml2YXRlIG1ldGhvZHNcbiAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSovXG5cbiAgLy8gbm9pbnNwZWN0aW9uIEpTTWV0aG9kQ2FuQmVTdGF0aWNcbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGNsaWNrIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2hhbmRsZUNsaWNrKGV2ZW50KSB7XG4gICAgVXRpbHMuc3RvcEV2ZW50KGV2ZW50KTtcbiAgICBjb25zdCBhID0gUHJpbWVFbGVtZW50LndyYXAoZXZlbnQudGFyZ2V0KTtcbiAgICBjb25zdCBsaSA9IGEuZ2V0UGFyZW50KCk7XG4gICAgaWYgKGEuaGFzQ2xhc3MoJ29wZW4nKSkge1xuICAgICAgYS5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgbGkucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYS5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgbGkuYWRkQ2xhc3MoJ29wZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBpbml0aWFsIG9wdGlvbnMgZm9yIHRoaXMgd2lkZ2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEluaXRpYWxPcHRpb25zKCkge1xuICAgIC8vIERlZmF1bHRzXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgZm9sZGVyVG9nZ2xlQ2xhc3NOYW1lOiAncHJpbWUtZm9sZGVyLXRvZ2dsZSdcbiAgICB9O1xuXG4gICAgY29uc3QgdXNlck9wdGlvbnMgPSBVdGlscy5kYXRhU2V0VG9PcHRpb25zKHRoaXMuZWxlbWVudCk7XG4gICAgZm9yIChjb25zdCBvcHRpb24gaW4gdXNlck9wdGlvbnMpIHtcbiAgICAgIGlmICh1c2VyT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gdXNlck9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtUcmVlVmlld307XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IHtBSkFYRGlhbG9nfSBmcm9tIFwiLi9BSkFYRGlhbG9nLmpzXCI7XG5leHBvcnQge0RhdGVUaW1lUGlja2VyfSBmcm9tIFwiLi9EYXRlVGltZVBpY2tlci5qc1wiO1xuZXhwb3J0IHtEaXNtaXNzYWJsZX0gZnJvbSBcIi4vRGlzbWlzc2FibGUuanNcIjtcbmV4cG9ydCB7RHJhZ2dhYmxlfSBmcm9tIFwiLi9EcmFnZ2FibGUuanNcIjtcbmV4cG9ydCB7SFRNTERpYWxvZ30gZnJvbSBcIi4vSFRNTERpYWxvZy5qc1wiO1xuZXhwb3J0IHtJblByb2dyZXNzfSBmcm9tIFwiLi9JblByb2dyZXNzLmpzXCI7XG5leHBvcnQge011bHRpcGxlU2VsZWN0fSBmcm9tIFwiLi9NdWx0aXBsZVNlbGVjdC5qc1wiO1xuZXhwb3J0IHtPdmVybGF5fSBmcm9tIFwiLi9PdmVybGF5LmpzXCI7XG5leHBvcnQge1Jlb3JkZXJ9IGZyb20gXCIuL1Jlb3JkZXIuanNcIjtcbmV4cG9ydCB7U2VhcmNoZXJ9IGZyb20gXCIuL1NlYXJjaGVyLmpzXCI7XG5leHBvcnQge1NpZGVNZW51fSBmcm9tIFwiLi9TaWRlTWVudS5qc1wiO1xuZXhwb3J0IHtTcGxpdEJ1dHRvbn0gZnJvbSBcIi4vU3BsaXRCdXR0b24uanNcIjtcbmV4cG9ydCB7VGFibGV9IGZyb20gXCIuL1RhYmxlLmpzXCI7XG5leHBvcnQge1RhYnN9IGZyb20gXCIuL1RhYnMuanNcIjtcbmV4cG9ydCB7VG9vbHRpcH0gZnJvbSBcIi4vVG9vbHRpcC5qc1wiO1xuZXhwb3J0IHtUb3VjaGFibGV9IGZyb20gXCIuL1RvdWNoYWJsZS5qc1wiO1xuZXhwb3J0IHtUcmVlVmlld30gZnJvbSBcIi4vVHJlZVZpZXcuanNcIjtcbiIsIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTItMjAxOCwgSW52ZXJzb2Z0IEluYy4sIEFsbCBSaWdodHMgUmVzZXJ2ZWRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhblxuICogXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCxcbiAqIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7VXRpbHN9IGZyb20gXCIuL1V0aWxzLmpzXCI7XG5pbXBvcnQge1ByaW1lRWxlbWVudH0gZnJvbSBcIi4vRG9jdW1lbnQvUHJpbWVFbGVtZW50LmpzXCI7XG5cbmNsYXNzIEJhc2VUcmFuc2l0aW9uIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBCYXNlVHJhbnNpdGlvbiBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR8RXZlbnRUYXJnZXR9IGVsZW1lbnQgVGhlIFByaW1lIEVsZW1lbnQgdGhlIGVmZmVjdCB3aWxsIGJlIGFwcGxpZWQgdG8uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBlbmRWYWx1ZSBUaGUgZW5kIHZhbHVlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBjb25zdHJ1Y3RvcihlbGVtZW50LCBlbmRWYWx1ZSkge1xuICAgIFV0aWxzLmJpbmRBbGwodGhpcyk7XG4gICAgdGhpcy5lbGVtZW50ID0gUHJpbWVFbGVtZW50LndyYXAoZWxlbWVudCk7XG4gICAgdGhpcy5kdXJhdGlvbiA9IDEwMDA7XG4gICAgdGhpcy5lbmRGdW5jdGlvbiA9IG51bGw7XG4gICAgdGhpcy5lbmRWYWx1ZSA9IGVuZFZhbHVlO1xuICAgIHRoaXMuaXRlcmF0aW9ucyA9IDIwO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIHdoZW4gdGhlIGVmZmVjdCBoYXMgY29tcGxldGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlbmRGdW5jdGlvbiBUaGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgZWZmZWN0IGlzIGNvbXBsZXRlZC5cbiAgICogQHJldHVybnMge0Jhc2VUcmFuc2l0aW9ufSBUaGlzIEVmZmVjdC5cbiAgICovXG4gIHdpdGhFbmRGdW5jdGlvbihlbmRGdW5jdGlvbikge1xuICAgIHRoaXMuZW5kRnVuY3Rpb24gPSBlbmRGdW5jdGlvbjtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBkdXJhdGlvbiBvZiB0aGUgZmFkZS1vdXQgZWZmZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge251bWJlcn0gZHVyYXRpb24gVGhlIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy5cbiAgICogQHJldHVybnMge0Jhc2VUcmFuc2l0aW9ufSBUaGlzIEVmZmVjdC5cbiAgICovXG4gIHdpdGhEdXJhdGlvbihkdXJhdGlvbikge1xuICAgIGlmIChkdXJhdGlvbiA8IDEwMCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignRHVyYXRpb24gc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiAxMDAgbWlsbGlzZWNvbmRzIG9yIGl0IHdvblxcJ3QgcmVhbGx5IGJlIG5vdGljZWFibGUnKTtcbiAgICB9XG5cbiAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKlxuICAgKiBQcm90ZWN0ZWQgZnVuY3Rpb25zXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDaGFuZ2VzIGFuIGludGVnZXIgc3R5bGUgcHJvcGVydHkgb2YgdGhlIEVsZW1lbnQgaXRlcmF0aXZlbHkgb3ZlciBhIGdpdmVuIHBlcmlvZCBvZiB0aW1lIGZyb20gb25lIHZhbHVlIHRvIGFub3RoZXJcbiAgICogdmFsdWUuXG4gICAqXG4gICAqIEBwcm90ZWN0ZWRcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZ2V0RnVuY3Rpb24gVGhlIGZ1bmN0aW9uIG9uIHRoZSBlbGVtZW50IHRvIGNhbGwgdG8gZ2V0IHRoZSBjdXJyZW50IHZhbHVlIGZvciB0aGUgdHJhbnNpdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0RnVuY3Rpb24gVGhlIGZ1bmN0aW9uIG9uIHRoZSBlbGVtZW50IHRvIGNhbGwgdG8gc2V0IHRoZSBuZXcgdmFsdWUgZm9yIHRoZSB0cmFuc2l0aW9uLlxuICAgKi9cbiAgX2NoYW5nZU51bWJlclN0eWxlSXRlcmF0aXZlbHkoZ2V0RnVuY3Rpb24sIHNldEZ1bmN0aW9uKSB7XG4gICAgbGV0IGN1cnJlbnRWYWx1ZSA9IGdldEZ1bmN0aW9uLmNhbGwodGhpcy5lbGVtZW50KTtcbiAgICBjb25zdCBzdGVwID0gTWF0aC5hYnModGhpcy5lbmRWYWx1ZSAtIGN1cnJlbnRWYWx1ZSkgLyB0aGlzLml0ZXJhdGlvbnM7XG5cbiAgICAvLyBDbG9zZSBhcm91bmQgb3Vyc2VsdmVzXG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3Qgc3RlcEZ1bmN0aW9uID0gZnVuY3Rpb24obGFzdCkge1xuICAgICAgaWYgKGxhc3QpIHtcbiAgICAgICAgY3VycmVudFZhbHVlID0gc2VsZi5lbmRWYWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXJyZW50VmFsdWUgPCBzZWxmLmVuZFZhbHVlKSB7XG4gICAgICAgICAgY3VycmVudFZhbHVlICs9IHN0ZXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudFZhbHVlIC09IHN0ZXA7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0RnVuY3Rpb24uY2FsbChzZWxmLmVsZW1lbnQsIGN1cnJlbnRWYWx1ZSk7XG4gICAgfTtcblxuICAgIFV0aWxzLmNhbGxJdGVyYXRpdmVseSh0aGlzLmR1cmF0aW9uLCB0aGlzLml0ZXJhdGlvbnMsIHN0ZXBGdW5jdGlvbiwgdGhpcy5faW50ZXJuYWxFbmRGdW5jdGlvbik7XG4gIH1cblxuICAvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gICAqIFByaXZhdGUgTWV0aG9kc1xuICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgY2FsbCBiYWNrIGF0IHRoZSBlbmQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfaW50ZXJuYWxFbmRGdW5jdGlvbigpIHtcbiAgICB0aGlzLl9zdWJjbGFzc0VuZEZ1bmN0aW9uKHRoaXMpO1xuXG4gICAgaWYgKHRoaXMuZW5kRnVuY3Rpb24pIHtcbiAgICAgIHRoaXMuZW5kRnVuY3Rpb24odGhpcyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZpcnR1YWwgZnVuY3Rpb24gc3R1YlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3N1YmNsYXNzRW5kRnVuY3Rpb24oKSB7XG4gIH1cbn1cblxuY2xhc3MgRmFkZSBleHRlbmRzIEJhc2VUcmFuc2l0aW9uIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgRmFkZSBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuIFRoZSBmYWRlIGVmZmVjdCB1c2VzIHRoZSBDU1Mgb3BhY2l0eSBzdHlsZSBhbmQgc3VwcG9ydHMgdGhlIElFIGFscGhhXG4gICAqIHN0eWxlLiBUaGUgZHVyYXRpb24gZGVmYXVsdHMgdG8gMTAwMCBtaWxsaXNlY29uZHMgKDEgc2Vjb25kKS4gVGhpcyBjaGFuZ2VzIHRoZSBvcGFjaXR5IG92ZXIgdGhlIGR1cmF0aW9uIGZyb20gMS4wIHRvXG4gICAqIDAuMC4gQXQgdGhlIGVuZCwgdGhpcyBoaWRlcyB0aGUgZWxlbWVudCBzbyB0aGF0IGl0IGRvZXNuJ3QgdGFrZSB1cCBhbnkgc3BhY2UuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBlbGVtZW50IFRoZSBQcmltZSBFbGVtZW50IHRvIGZhZGUgb3V0LlxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgIHN1cGVyKGVsZW1lbnQsIDAuMCk7XG4gIH1cblxuICAvKipcbiAgICogSW50ZXJuYWwgY2FsbCBiYWNrIGF0IHRoZSBlbmQgb2YgdGhlIHRyYW5zaXRpb24uIFRoaXMgaGlkZXMgdGhlIGVsZW1lbnQgc28gaXQgZG9lc24ndCB0YWtlIHVwIHNwYWNlLlxuICAgKlxuICAgKiBAb3ZlcnJpZGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdWJjbGFzc0VuZEZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZWxlbWVudC5oaWRlKCk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGZhZGUgZWZmZWN0IG9uIHRoZSBlbGVtZW50IHVzaW5nIHRoZSBvcGFjaXR5IHN0eWxlLlxuICAgKi9cbiAgZ28oKSB7XG4gICAgdGhpcy5fY2hhbmdlTnVtYmVyU3R5bGVJdGVyYXRpdmVseSh0aGlzLmVsZW1lbnQuZ2V0T3BhY2l0eSwgdGhpcy5lbGVtZW50LnNldE9wYWNpdHkpO1xuICB9XG59XG5cbmNsYXNzIEFwcGVhciBleHRlbmRzIEJhc2VUcmFuc2l0aW9uIHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQXBwZWFyIGZvciB0aGUgZ2l2ZW4gZWxlbWVudC4gVGhlIGFwcGVhciBlZmZlY3QgdXNlcyB0aGUgQ1NTIG9wYWNpdHkgc3R5bGUgYW5kIHN1cHBvcnRzIHRoZSBJRVxuICAgKiBhbHBoYSBzdHlsZS4gVGhlIGR1cmF0aW9uIGRlZmF1bHRzIHRvIDEwMDAgbWlsbGlzZWNvbmRzICgxIHNlY29uZCkuIFRoaXMgZmlyc3Qgc2V0cyB0aGUgb3BhY2l0eSB0byAwLCB0aGVuIGl0IHNob3dzXG4gICAqIHRoZSBlbGVtZW50IGFuZCBmaW5hbGx5IGl0IHJhaXNlcyB0aGUgb3BhY2l0eS5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fEVsZW1lbnR8RXZlbnRUYXJnZXR9IGVsZW1lbnQgVGhlIFByaW1lIEVsZW1lbnQgdG8gYXBwZWFyLlxuICAgKiBAcGFyYW0ge251bWJlcn0gW29wYWNpdHk9MS4wXSBUaGUgZmluYWwgb3BhY2l0eSB0byByZWFjaCB3aGVuIHRoZSBlZmZlY3QgaXMgY29tcGxldGUuIERlZmF1bHRzIHRvIDEuMC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQsIG9wYWNpdHkpIHtcbiAgICBpZiAoIVV0aWxzLmlzRGVmaW5lZChvcGFjaXR5KSkge1xuICAgICAgb3BhY2l0eSA9IDEuMDtcbiAgICB9XG4gICAgc3VwZXIoZWxlbWVudCwgb3BhY2l0eSk7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIGFwcGVhciBlZmZlY3Qgb24gdGhlIGVsZW1lbnQgdXNpbmcgdGhlIG9wYWNpdHkgc3R5bGUuXG4gICAqL1xuICBnbygpIHtcbiAgICB0aGlzLmVsZW1lbnQuc2V0T3BhY2l0eSgwLjApO1xuICAgIHRoaXMuZWxlbWVudC5zaG93KCk7XG4gICAgdGhpcy5fY2hhbmdlTnVtYmVyU3R5bGVJdGVyYXRpdmVseSh0aGlzLmVsZW1lbnQuZ2V0T3BhY2l0eSwgdGhpcy5lbGVtZW50LnNldE9wYWNpdHkpO1xuICB9XG59XG5cbmNsYXNzIFNjcm9sbFRvIGV4dGVuZHMgQmFzZVRyYW5zaXRpb24ge1xuICAvKipcbiAgICogQ29uc3RydWN0cyBhIG5ldyBTY3JvbGxUbyBmb3IgdGhlIGdpdmVuIGVsZW1lbnQuIFRoZSBkdXJhdGlvbiBkZWZhdWx0cyB0byAxMDAwIG1pbGxpc2Vjb25kcyAoMSBzZWNvbmQpLlxuICAgKlxuICAgKiBAcGFyYW0ge1ByaW1lRWxlbWVudHxFbGVtZW50fEV2ZW50VGFyZ2V0fSBlbGVtZW50IFRoZSBQcmltZSBFbGVtZW50IHRvIHNjcm9sbC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uIFRoZSBwb3NpdGlvbiB0byBzY3JvbGwgdGhlIGVsZW1lbnQgdG8uXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoZWxlbWVudCwgcG9zaXRpb24pIHtcbiAgICBzdXBlcihlbGVtZW50LCBwb3NpdGlvbik7XG5cbiAgICB0aGlzLmF4aXMgPSAndmVydGljYWwnO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgc2Nyb2xsIGF4aXMsIGVpdGhlciAnaG9yaXpvbnRhbCcgb3IgJ3ZlcnRpY2FsJy4gRGVmYXVsdCBpcyAndmVydGljYWwnLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXhpcyBUaGUgYXhpcyB0byBzY3JvbGwuXG4gICAqIEByZXR1cm5zIHtTY3JvbGxUb31cbiAgICovXG4gIHdpdGhBeGlzKGF4aXMpIHtcbiAgICB0aGlzLmF4aXMgPSBheGlzIHx8ICd2ZXJ0aWNhbCc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogRXhlY3V0ZXMgdGhlIHNjcm9sbCBlZmZlY3Qgb24gdGhlIGVsZW1lbnQuXG4gICAqL1xuICBnbygpIHtcbiAgICBpZiAodGhpcy5heGlzID09PSAndmVydGljYWwnKSB7XG4gICAgICB0aGlzLl9jaGFuZ2VOdW1iZXJTdHlsZUl0ZXJhdGl2ZWx5KHRoaXMuZWxlbWVudC5nZXRTY3JvbGxUb3AsIHRoaXMuZWxlbWVudC5zY3JvbGxUbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2NoYW5nZU51bWJlclN0eWxlSXRlcmF0aXZlbHkodGhpcy5lbGVtZW50LmdldFNjcm9sbExlZnQsIHRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0VG8pO1xuICAgIH1cbiAgfVxufVxuXG5jbGFzcyBTbGlkZU9wZW4ge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIFNsaWRlT3BlbiBlZmZlY3Qgb24gdGhlIGdpdmVuIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50LlxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGNvbnN0cnVjdG9yKGVsZW1lbnQpIHtcbiAgICBVdGlscy5iaW5kQWxsKHRoaXMpO1xuXG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgZWxlbWVudC5kb21FbGVtZW50LnByaW1lVmlzaWJsZUhlaWdodCA9IGVsZW1lbnQuZ2V0SGVpZ2h0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW1lbnQuc2V0U3R5bGUoJ2hlaWdodCcsICdhdXRvJyk7XG4gICAgICBlbGVtZW50LmRvbUVsZW1lbnQucHJpbWVWaXNpYmxlSGVpZ2h0ID0gZWxlbWVudC5nZXRIZWlnaHQoKTtcbiAgICAgIGVsZW1lbnQuc2V0U3R5bGUoJ2hlaWdodCcsICcwJyk7XG4gICAgfVxuXG4gICAgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSBmYWxzZTtcblxuICAgIHRoaXMuX3NldEluaXRpYWxPcHRpb25zKCk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBpZiAoIXRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTZXQgYSBmaXhlZCBoZWlnaHQgaW5zdGVhZCBvZiBhdXRvIHNvIHRoYXQgdGhlIHRyYW5zaXRpb24gcnVucywgYnV0IG9ubHkgaWYgdGhlIGVsZW1lbnQgaXMgXCJvcGVuXCJcbiAgICB0aGlzLmVsZW1lbnQuc2V0SGVpZ2h0KHRoaXMuZWxlbWVudC5kb21FbGVtZW50LnByaW1lVmlzaWJsZUhlaWdodCk7XG4gICAgdGhpcy5pc1RyYW5zaXRpb25pbmcgPSB0cnVlO1xuXG4gICAgLy8gVGhpcyB0aW1lb3V0IGlzIG5lZWRlZCBzaW5jZSB0aGUgaGVpZ2h0IGNoYW5nZSB0YWtlcyB0aW1lIHRvIHJ1blxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmVsZW1lbnQuc2V0SGVpZ2h0KDApO1xuICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLmNsb3NlQ2FsbGJhY2sgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLmNsb3NlQ2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcyksIHRoaXMub3B0aW9ucy50aW1lb3V0KTtcbiAgfVxuXG4gIGlzT3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmdldEhlaWdodCgpICE9PSAwIHx8IHRoaXMuZWxlbWVudC5oYXNDbGFzcygnb3BlbicpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBpZiAodGhpcy5pc09wZW4oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZWxlbWVudC5zZXRIZWlnaHQodGhpcy5lbGVtZW50LmRvbUVsZW1lbnQucHJpbWVWaXNpYmxlSGVpZ2h0KTtcbiAgICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5lbGVtZW50LnNldEhlaWdodCgnYXV0bycpO1xuICAgICAgdGhpcy5lbGVtZW50LmFkZENsYXNzKCdvcGVuJyk7XG4gICAgICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IGZhbHNlO1xuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLm9wZW5DYWxsYmFjayAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLm9wdGlvbnMub3BlbkNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLm9wdGlvbnMudGltZW91dCk7XG4gIH1cblxuICB0b2dnbGUoKSB7XG4gICAgaWYgKHRoaXMuaXNPcGVuKCkpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5vcGVuKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY2xvc2UgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgY2xvc2UgY2FsbGJhY2tcbiAgICogQHJldHVybnMge1NsaWRlT3Blbn0gVGhpcy5cbiAgICovXG4gIHdpdGhDbG9zZUNhbGxiYWNrKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5vcHRpb25zLmNsb3NlQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG9wZW4gY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7P0Z1bmN0aW9ufSBjYWxsYmFjayBUaGUgb3BlbiBjYWxsYmFja1xuICAgKiBAcmV0dXJucyB7U2xpZGVPcGVufSBUaGlzLlxuICAgKi9cbiAgd2l0aE9wZW5DYWxsYmFjayhjYWxsYmFjaykge1xuICAgIHRoaXMub3B0aW9ucy5vcGVuQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbW9yZSB0aGFuIG9uZSBvcHRpb24gYXQgYSB0aW1lIGJ5IHByb3ZpZGluZyBhIG1hcCBvZiBrZXkgdmFsdWUgcGFpcnMuIFRoaXMgaXMgY29uc2lkZXJlZCBhbiBhZHZhbmNlZFxuICAgKiBtZXRob2QgdG8gc2V0IG9wdGlvbnMgb24gdGhlIHdpZGdldC4gVGhlIGNhbGxlciBuZWVkcyB0byBrbm93IHdoYXQgcHJvcGVydGllcyBhcmUgdmFsaWQgaW4gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBLZXkgdmFsdWUgcGFpciBvZiBjb25maWd1cmF0aW9uIG9wdGlvbnMuXG4gICAqIEByZXR1cm5zIHtTbGlkZU9wZW59IFRoaXMuXG4gICAqL1xuICB3aXRoT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgaWYgKCFVdGlscy5pc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIGZvciAobGV0IG9wdGlvbiBpbiBvcHRpb25zKSB7XG4gICAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICogUHJpdmF0ZSBtZXRob2RzXG4gICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGluaXRpYWwgb3B0aW9ucyBvZiB0aGUgd2lkZ2V0LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX3NldEluaXRpYWxPcHRpb25zKCkge1xuICAgIC8vIERlZmF1bHRzXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgb3BlbkNhbGxiYWNrOiBudWxsLFxuICAgICAgY2xvc2VDYWxsYmFjazogbnVsbCxcbiAgICAgIHRpbWVvdXQ6IDMxMFxuICAgIH07XG5cbiAgICBjb25zdCB1c2VyT3B0aW9ucyA9IFV0aWxzLmRhdGFTZXRUb09wdGlvbnModGhpcy5lbGVtZW50KTtcbiAgICBmb3IgKGxldCBvcHRpb24gaW4gdXNlck9wdGlvbnMpIHtcbiAgICAgIGlmICh1c2VyT3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pKSB7XG4gICAgICAgIHRoaXMub3B0aW9uc1tvcHRpb25dID0gdXNlck9wdGlvbnNbb3B0aW9uXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtCYXNlVHJhbnNpdGlvbiwgRmFkZSwgQXBwZWFyLCBTY3JvbGxUbywgU2xpZGVPcGVufVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxNi0yMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4vVXRpbHMuanNcIjtcblxuY2xhc3MgRGF0YVF1ZXVlIHtcbiAgLyoqXG4gICAqIEZpcnN0LUluLUZpcnN0LU91dCBRdWV1ZSBpbXBsZW1lbnRhdGlvbiBtb2RlbGVkIGFmdGVyIGphdmEudXRpbC5EZXF1ZSBpbnRlcmZhY2UuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgVXRpbHMuYmluZEFsbCh0aGlzKTtcbiAgICB0aGlzLl9lbGVtZW50cyA9IHt9O1xuICAgIHRoaXMuX2hlYWQgPSAwO1xuICAgIHRoaXMuX3RhaWwgPSAwO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgZWxlbWVudCB0byB0aGUgaGVhZCBvZiB0aGUgcXVldWUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBlbGVtZW50IEFuIG9iamVjdCB0byBzdG9yZSBpbiB0aGUgcXVldWUuXG4gICAqIEByZXR1cm5zIHtEYXRhUXVldWV9IFRoaXMgRWxlbWVudC5cbiAgICovXG4gIGFkZChlbGVtZW50KSB7XG4gICAgdGhpcy5fZWxlbWVudHNbdGhpcy5faGVhZF0gPSBlbGVtZW50O1xuICAgIHRoaXMuX2hlYWQrKztcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0cnVlIGlmIHRoZSBxdWV1ZSBpcyBlbXB0eS5cbiAgICpcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHF1ZXVlIGlzIGVtcHR5LCBmYWxzZSBpZiBub3QuXG4gICAqL1xuICBpc0VtcHR5KCkge1xuICAgIHJldHVybiB0aGlzLl9oZWFkID09PSB0aGlzLl90YWlsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBidXQgZG8gbm90IHJlbW92ZSB0aGUgdGFpbCBvZiB0aGUgcXVldWUuIFRoaXMgaXMgdGhlIG9sZGVzdCBlbGVtZW50IGluIHRoZSBxdWV1ZS5cbiAgICpcbiAgICogQHJldHVybnMge09iamVjdH0gVGhlIG9iamVjdCBhdCB0aGUgdGFpbCBvZiB0aGUgcXVldWUsIG9yIG51bGwgaWYgZW1wdHkuXG4gICAqL1xuICBwZWVrKCkge1xuICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRzW3RoaXMuX3RhaWxdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbmQgcmVtb3ZlIHRoZSB0YWlsIG9mIHRoZSBxdWV1ZS4gVGhpcyBpcyB0aGUgb2xkZXN0IGVsZW1lbnQgaW4gdGhlIHF1ZXVlLlxuICAgKlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSB0aGUgb2JqZWN0IGF0IHRoZSB0YWlsIG9mIHRoZSBxdWV1ZSwgb3IgbnVsbCBpZiB0aGUgcXVldWUgaXMgZW1wdHkuXG4gICAqL1xuICBwb2xsKCkge1xuICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgY29uc3Qgb2JqZWN0ID0gdGhpcy5fZWxlbWVudHNbdGhpcy5fdGFpbF07XG4gICAgZGVsZXRlIHRoaXMuX2VsZW1lbnRzW3RoaXMuX3RhaWxdO1xuICAgIHRoaXMuX3RhaWwrKztcblxuICAgIC8vIFRoZSBjdXJzb3Igc2hvdWxkIG5vdCBnbyBvZmYgdGhlIGVuZCBvZiB0aGUgcXVldWVcbiAgICBpZiAodGhpcy5fY3Vyc29yIDwgdGhpcy5fdGFpbCkge1xuICAgICAgdGhpcy5fY3Vyc29yID0gdGhpcy5fdGFpbDtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgc2l6ZSBvZiB0aGUgcXVldWUuXG4gICAqXG4gICAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBzaXplIG9mIHRoZSBxdWV1ZS5cbiAgICovXG4gIHNpemUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2hlYWQgLSB0aGlzLl90YWlsO1xuICB9XG5cbn1cblxuZXhwb3J0IHtEYXRhUXVldWV9O1xuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxMy0yMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHtVdGlsc30gZnJvbSBcIi4vVXRpbHMuanNcIlxuaW1wb3J0IHtQcmltZUVsZW1lbnR9IGZyb20gXCIuL0RvY3VtZW50L1ByaW1lRWxlbWVudC5qc1wiO1xuXG5jbGFzcyBUZW1wbGF0ZSB7XG4gIC8qKlxuICAgKiBBIEphdmFzY3JpcHQgT2JqZWN0IHRoYXQgY2FuIHNlcnZlIHRvIGdlbmVyYXRlIFByaW1lLkRvY3VtZW50LkVsZW1lbnQgZnJvbSBhIHNvdXJjZSBzdHJpbmcgYW5kIG9wdGlvbmFsIHBhcmFtZXRlcnMuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgVGhlIFN0cmluZyB0aGF0IGRlZmluZXMgdGhlIHNvdXJjZSBvZiB0aGUgdGVtcGxhdGUuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih0ZW1wbGF0ZSkge1xuICAgIFV0aWxzLmJpbmRBbGwodGhpcyk7XG4gICAgdGhpcy5pbml0KHRlbXBsYXRlKTtcbiAgfVxuXG4gIGluaXQodGVtcGxhdGUpIHtcbiAgICB0aGlzLnRlbXBsYXRlID0gdGVtcGxhdGU7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIGEgU3RyaW5nIGZyb20gdGhlIGdpdmVuIHBhcmFtZXRlckhhc2guICBQcm92aWRlIGEgaGFzaCBvZiBTdHJpbmcga2V5cyB0byB2YWx1ZXMuXG4gICAqIEtleXMgY2FuIGJlIHJlZ3VsYXIgdGV4dCBzdHJpbmdzLCBpbiB3aGljaCBjYXNlIGl0IHdpbGwgbG9vayBmb3IgYW5kIHJlcGxhY2UgI3trZXl9IGFzIHdpdGggdGhlIHZhbHVlLiAgWW91IGNhblxuICAgKiBhbHNvIG1ha2UgdGhlIGtleSBhIFN0cmluZyBcIi9rZXkvXCIsIHdoaWNoIHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnZXggYW5kIHJ1bi5cbiAgICpcbiAgICogRm9yIHRoZSB2YWx1ZSB5b3UgY2FuIHByb3ZpZGUgYSBzdHJhaWdodCB1cCBTdHJpbmcsIGludCwgZXRjLCBvciB5b3UgY2FuIHByb3ZpZGUgYSBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIGNhbGxlZFxuICAgKiB0byBwcm92aWRlIHRoZSB2YWx1ZVxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIHRlbXBsYXRlIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSByZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSB0ZW1wbGF0ZS5cbiAgICovXG4gIGdlbmVyYXRlKHBhcmFtZXRlcnMpIHtcbiAgICBwYXJhbWV0ZXJzID0gVXRpbHMuaXNEZWZpbmVkKHBhcmFtZXRlcnMpID8gcGFyYW1ldGVycyA6IHt9O1xuICAgIGxldCB0ZW1wbGF0ZUNvcHkgPSBTdHJpbmcodGhpcy50ZW1wbGF0ZSk7XG4gICAgZm9yIChsZXQga2V5IGluIHBhcmFtZXRlcnMpIHtcbiAgICAgIGlmIChwYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbWV0ZXJzW2tleV07XG4gICAgICAgIGxldCBleHByZXNzZWRWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZih2YWx1ZSkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBleHByZXNzZWRWYWx1ZSA9IHZhbHVlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZXhwcmVzc2VkVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChrZXkuaW5kZXhPZignLycpID09PSAwICYmIGtleS5sYXN0SW5kZXhPZignLycpID09PSBrZXkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHRlbXBsYXRlQ29weSA9IHRlbXBsYXRlQ29weS5yZXBsYWNlKG5ldyBSZWdFeHAoa2V5LnN1YnN0cmluZygxLCBrZXkubGVuZ3RoIC0gMSksIFwiZ1wiKSwgZXhwcmVzc2VkVmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGV4cHJlc3NlZEtleSA9IFwiI3tcIiArIGtleSArIFwifVwiO1xuICAgICAgICAgIHdoaWxlICh0ZW1wbGF0ZUNvcHkuaW5kZXhPZihleHByZXNzZWRLZXkpICE9PSAtMSkge1xuICAgICAgICAgICAgdGVtcGxhdGVDb3B5ID0gdGVtcGxhdGVDb3B5LnJlcGxhY2UoZXhwcmVzc2VkS2V5LCBleHByZXNzZWRWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRlbXBsYXRlQ29weTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0byBnZW5lcmF0ZSBhbmQgdGhlbiBhcHBlbmRzIHRoZSByZXN1bHRpbmcgdmFsdWUgdG8gdGhlIGlubmVyIEhUTUwgb2YgdGhlIHByb3ZpZGVkIHByaW1lRWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtQcmltZUVsZW1lbnR9IHByaW1lRWxlbWVudCBUaGUgcHJpbWUgRWxlbWVudCBpbnN0YW5jZSB0byBhcHBlbmQgdGhlIHJlc3VsdCBvZiBleGVjdXRpbmcgdGhlIHRlbXBsYXRlIHRvLlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1ldGVycyBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgcGFyYW1ldGVycyBmb3IgdGhlIHRlbXBsYXRlIHRvIHJlcGxhY2UuXG4gICAqL1xuICBhcHBlbmRUbyhwcmltZUVsZW1lbnQsIHBhcmFtZXRlcnMpIHtcbiAgICBpZiAoVXRpbHMuaXNEZWZpbmVkKHByaW1lRWxlbWVudCkpIHtcbiAgICAgIHByaW1lRWxlbWVudC5zZXRIVE1MKHByaW1lRWxlbWVudC5nZXRIVE1MKCkgKyB0aGlzLmdlbmVyYXRlKHBhcmFtZXRlcnMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUGxlYXNlIHN1cHBseSBhbiBlbGVtZW50IHRvIGFwcGVuZCB0bycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyB0byBnZW5lcmF0ZSBhbmQgdGhlbiBpbnNlcnRzIHRoZSByZXN1bHRpbmcgZWxlbWVudHMgaW50byB0aGUgZG9tIGJlZm9yZSB0aGUgcHJpbWVFbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSBwcmltZUVsZW1lbnQgVGhlIHByaW1lIEVsZW1lbnQgaW5zdGFuY2UgdG8gaW5zZXJ0IHRoZSByZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSB0ZW1wbGF0ZSBiZWZvcmUuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbWV0ZXJzIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBwYXJhbWV0ZXJzIGZvciB0aGUgdGVtcGxhdGUgdG8gcmVwbGFjZS5cbiAgICovXG4gIGluc2VydEJlZm9yZShwcmltZUVsZW1lbnQsIHBhcmFtZXRlcnMpIHtcbiAgICBpZiAoVXRpbHMuaXNEZWZpbmVkKHByaW1lRWxlbWVudCkpIHtcbiAgICAgIGNvbnN0IGhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgaG9sZGVyLmlubmVySFRNTCA9IHRoaXMuZ2VuZXJhdGUocGFyYW1ldGVycyk7XG4gICAgICBuZXcgUHJpbWVFbGVtZW50KGhvbGRlci5jaGlsZHJlblswXSkuaW5zZXJ0QmVmb3JlKHByaW1lRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BsZWFzZSBzdXBwbHkgYW4gZWxlbWVudCB0byBhcHBlbmQgdG8nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2FsbHMgdG8gZ2VuZXJhdGUgYW5kIHRoZW4gaW5zZXJ0cyB0aGUgcmVzdWx0aW5nIGVsZW1lbnRzIGludG8gdGhlIGRvbSBhZnRlciB0aGUgcHJpbWVFbGVtZW50XG4gICAqXG4gICAqIEBwYXJhbSB7UHJpbWVFbGVtZW50fSBwcmltZUVsZW1lbnQgVGhlIHByaW1lIEVsZW1lbnQgaW5zdGFuY2UgdG8gaW5zZXJ0IHRoZSByZXN1bHQgb2YgZXhlY3V0aW5nIHRoZSB0ZW1wbGF0ZSBhZnRlci5cbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtZXRlcnMgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIHBhcmFtZXRlcnMgZm9yIHRoZSB0ZW1wbGF0ZSB0byByZXBsYWNlLlxuICAgKi9cbiAgaW5zZXJ0QWZ0ZXIocHJpbWVFbGVtZW50LCBwYXJhbWV0ZXJzKSB7XG4gICAgaWYgKFV0aWxzLmlzRGVmaW5lZChwcmltZUVsZW1lbnQpKSB7XG4gICAgICBjb25zdCBob2xkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGhvbGRlci5pbm5lckhUTUwgPSB0aGlzLmdlbmVyYXRlKHBhcmFtZXRlcnMpO1xuICAgICAgbmV3IFByaW1lRWxlbWVudChob2xkZXIuY2hpbGRyZW5bMF0pLmluc2VydEFmdGVyKHByaW1lRWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1BsZWFzZSBzdXBwbHkgYW4gZWxlbWVudCB0byBhcHBlbmQgdG8nKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtUZW1wbGF0ZX07XG4iLCIvKlxuICogQ29weXJpZ2h0IChjKSAyMDE3LCBJbnZlcnNvZnQgSW5jLiwgQWxsIFJpZ2h0cyBSZXNlcnZlZFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELFxuICogZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWNcbiAqIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0ICogYXMgV2lkZ2V0cyBmcm9tIFwiLi9XaWRnZXRzL1dpZGdldHMuanNcIlxuaW1wb3J0ICogYXMgRWZmZWN0cyBmcm9tIFwiLi9FZmZlY3RzLmpzXCJcbi8vIERvIGFueSBwb2x5ZmlsbCBpbXBvcnRzIGhlcmUgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG5pbXBvcnQge0RhdGFRdWV1ZX0gZnJvbSBcIi4vRGF0YVF1ZXVlLmpzXCI7XG5pbXBvcnQge1ByaW1lUmVxdWVzdH0gZnJvbSBcIi4vUHJpbWVSZXF1ZXN0LmpzXCI7XG5cbmV4cG9ydCB7QnJvd3Nlcn0gZnJvbSBcIi4vQnJvd3Nlci5qc1wiXG5leHBvcnQge0VmZmVjdHN9XG5leHBvcnQge0V2ZW50c30gZnJvbSBcIi4vRXZlbnRzLmpzXCJcbmV4cG9ydCB7UHJpbWVEYXRlIGFzIERhdGV9IGZyb20gXCIuL0RhdGUuanNcIlxuZXhwb3J0IHtQcmltZURvY3VtZW50IGFzIERvY3VtZW50fSBmcm9tIFwiLi9QcmltZURvY3VtZW50LmpzXCJcbmV4cG9ydCB7UHJpbWVTdG9yYWdlIGFzIFN0b3JhZ2V9IGZyb20gXCIuL1N0b3JhZ2UuanNcIlxuZXhwb3J0IHtQcmltZVdpbmRvdyBhcyBXaW5kb3d9IGZyb20gXCIuL1dpbmRvdy5qc1wiXG5leHBvcnQge1RlbXBsYXRlfSBmcm9tIFwiLi9UZW1wbGF0ZS5qc1wiXG5leHBvcnQge1V0aWxzfSBmcm9tIFwiLi9VdGlscy5qc1wiXG5leHBvcnQge1dpZGdldHN9XG5cbmNvbnN0IEFqYXggPSB7XG4gIFJlcXVlc3Q6IFByaW1lUmVxdWVzdFxufTtcblxuY29uc3QgRGF0YSA9IHtcbiAgUXVldWU6IERhdGFRdWV1ZVxufTtcblxuZXhwb3J0IHtBamF4fVxuZXhwb3J0IHtEYXRhfVxuIl0sIm5hbWVzIjpbXSwi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QUcsTUFBTSxDQUFDLFdBQVcsSUFBSSxlQUFlLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDM0Y7Q0FDQSxJQUFJLE1BQU0sU0FBUyxHQUFHLGVBQWUsQ0FBQyxTQUFTLElBQUksSUFBSSxDQUFDLFNBQVMsSUFBSSxDQUFDLENBQUM7Q0FDdkUsSUFBSSxNQUFNLFVBQVUsR0FBRyxlQUFlLENBQUMsVUFBVSxJQUFJLElBQUksQ0FBQyxVQUFVLElBQUksQ0FBQyxDQUFDO0FBQzFFO0NBQ0EsSUFBSSxNQUFNLEdBQUcsR0FBRyxHQUFHLENBQUMsR0FBRyxHQUFHLFNBQVMsR0FBRyxTQUFTLENBQUM7Q0FDaEQsSUFBSSxNQUFNLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxHQUFHLFVBQVUsR0FBRyxVQUFVLENBQUM7QUFDcEQ7Q0FDQSxJQUFJLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO0NBQzFELEdBQUc7QUFDSDtDQUNBO0NBQ0E7Q0FDQTtDQUNBO0NBQ0E7Q0FDQSxFQUFFLFVBQVUsR0FBRztDQUNmLElBQUksSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRTtDQUNqQyxNQUFNLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUM7Q0FDckMsS0FBSztBQUNMO0NBQ0EsSUFBSSxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUM7Q0FDakMsSUFBSSxNQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsYUFBYSxFQUFFLENBQUM7Q0FDdkMsSUFBSSxLQUFLLElBQUksSUFBSSxJQUFJLEtBQUssRUFBRTtDQUM1QixNQUFNLElBQUksS0FBSyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRTtDQUNyRSxRQUFRLE1BQU0s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Q0FBQyxPQUFPLEtBQUssTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUU7Q0FDaEQsTUFBTSxLQUFLLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQzdCLE1BQU0sU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQ3hDLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDOUIsTUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUN2RixLQUFLLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO0NBQ3pELE1BQU0sS0FBSyxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztDQUM3QixNQUFNLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0NBQ3pDLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Q0FDOUIsTUFBTSxJQUFJLENBQUMsU0FBUyxDQUFDLFVBQVUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztDQUN2RixLQUFLLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFO0NBQ3BELE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0NBQzlELEtBQUs7Q0FDTCxHQUFHO0FBQ0g7Q0FDQTtDQUNBO0NBQ0E7Q0FDQTtDQUNB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
